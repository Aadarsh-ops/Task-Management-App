"use strict";(self.webpackChunktask_managment_app=self.webpackChunktask_managment_app||[]).push([[179],{6304:(ht,we,P)=>{P.d(we,{Dh:()=>Ee,GT:()=>ee,cc:()=>Me,hO:()=>Ne,on:()=>H,pX:()=>re,xv:()=>de});var o=P(5879),X=P(7142),L=P(2994);ht=P.hmd(ht);const ie=["ngOnDestroy"],re=(Re,lt,ct,ne={})=>new Proxy(Re,{get:(ye,oe)=>ct.runOutsideAngular(()=>{var ve;if(Re[oe])return!(null===(ve=ne?.spy)||void 0===ve)&&ve.get&&ne.spy.get(oe,Re[oe]),Re[oe];if(ie.indexOf(oe)>-1)return()=>{};const Ve=lt.toPromise().then(j=>{const Se=j&&j[oe];return"function"==typeof Se?Se.bind(j):Se&&Se.then?Se.then(Ue=>ct.run(()=>Ue)):ct.run(()=>Se)});return new Proxy(()=>{},{get:(j,Se)=>Ve[Se],apply:(j,Se,Ue)=>Ve.then(Ft=>{var rn;const Qn=Ft&&Ft(...Ue);return!(null===(rn=ne?.spy)||void 0===rn)&&rn.apply&&ne.spy.apply(oe,Ue,Qn),Qn})})})}),ee=(Re,lt)=>{lt.forEach(ct=>{Object.getOwnPropertyNames(ct.prototype||ct).forEach(ne=>{Object.defineProperty(Re.prototype,ne,Object.getOwnPropertyDescriptor(ct.prototype||ct,ne))})})};class ge{constructor(lt){return lt}}const Ee=new o.OlP("angularfire2.app.options"),de=new o.OlP("angularfire2.app.name");function H(Re,lt,ct){const ye="object"==typeof ct&&ct||{};ye.name=ye.name||"string"==typeof ct&&ct||"[DEFAULT]";const ve=X.Z.apps.filter(Ve=>Ve&&Ve.name===ye.name)[0]||lt.runOutsideAngular(()=>X.Z.initializeApp(Re,ye));try{JSON.stringify(Re)!==JSON.stringify(ve.options)&&q("error",`${ve.name} Firebase App already initialized with different options${ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ge(ve)}const q=(Re,...lt)=>{(0,o.X6Q)()&&typeof console<"u"&&console[Re](...lt)},te={provide:ge,useFactory:H,deps:[Ee,o.R0b,[new o.FiY,de]]};let Ne=(()=>{class Re{constructor(ct){X.Z.registerVersion("angularfire",L.q4.full,"core"),X.Z.registerVersion("angularfire",L.q4.full,"app-compat"),X.Z.registerVersion("angular",o.q4F.full,ct.toString())}static initializeApp(ct,ne){return{ngModule:Re,providers:[{provide:Ee,useValue:ct},{provide:de,useValue:ne}]}}}return Re.\u0275fac=function(ct){return new(ct||Re)(o.LFG(o.Lbi))},Re.\u0275mod=o.oAB({type:Re}),Re.\u0275inj=o.cJS({providers:[te]}),Re})();function Me(Re,lt,ct,ne,ye){const[,oe,ve]=globalThis.\u0275AngularfireInstanceCache.find(Ve=>Ve[0]===Re)||[];if(oe)return function Ze(Re,lt){try{return Re.toString()===lt.toString()}catch{return Re===lt}}(ye,ve)||(Ye("error",`${lt} was already initialized on the ${ct} Firebase App with different settings.${Fe?" You may need to reload as Firebase is not HMR aware.":""}`),Ye("warn",{is:ye,was:ve})),oe;{const Ve=ne();return globalThis.\u0275AngularfireInstanceCache.push([Re,Ve,ye]),Ve}}const Fe=!!ht.hot,Ye=(Re,...lt)=>{(0,o.X6Q)()&&typeof console<"u"&&console[Re](...lt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2994:(ht,we,P)=>{P.d(we,{q4:()=>yd,iC:()=>Wa,fc:()=>$c,HU:()=>Gl,vb:()=>vd,JM:()=>Jt});var o=P(5879),X=P(3182),L=P(5861),ie=P(4303),re=P(9058),ee=P(4537),ge=P(7879),Ee=P(1878);const de="@firebase/installations",H="0.6.1",q=1e4,te=`w:${H}`,Ne="FIS_v2",Me="https://firebaseinstallations.googleapis.com/v1",Ze=36e5,lt=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ct(S){return S instanceof re.ZR&&S.code.includes("request-failed")}function ne({projectId:S}){return`${Me}/projects/${S}/installations`}function ye(S){return{token:S.token,requestStatus:2,expiresIn:Ft(S.expiresIn),creationTime:Date.now()}}function oe(S,A){return ve.apply(this,arguments)}function ve(){return(ve=(0,L.Z)(function*(S,A){const U=(yield A.json()).error;return lt.create("request-failed",{requestName:S,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function Ve({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function Se(S){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,L.Z)(function*(S){const A=yield S();return A.status>=500&&A.status<600?S():A})).apply(this,arguments)}function Ft(S){return Number(S.replace("s","000"))}function Wn(){return(Wn=(0,L.Z)(function*({appConfig:S,heartbeatServiceProvider:A},{fid:k}){const U=ne(S),Q=Ve(S),se=A.getImmediate({optional:!0});if(se){const pt=yield se.getHeartbeatsHeader();pt&&Q.append("x-firebase-client",pt)}const ot={method:"POST",headers:Q,body:JSON.stringify({fid:k,authVersion:Ne,appId:S.appId,sdkVersion:te})},ft=yield Se(()=>fetch(U,ot));if(ft.ok){const pt=yield ft.json();return{fid:pt.fid||k,registrationStatus:2,refreshToken:pt.refreshToken,authToken:ye(pt.authToken)}}throw yield oe("Create Installation",ft)})).apply(this,arguments)}function Hn(S){return new Promise(A=>{setTimeout(A,S)})}const ko=/^[cdef][\w-]{21}$/,ae="";function he(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const k=function me(S){return function Ti(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return ko.test(k)?k:ae}catch{return ae}}function fe(S){return`${S.appName}!${S.appId}`}const Pe=new Map;function He(S,A){const k=fe(S);an(k,A),function St(S,A){const k=function Mt(){return!pn&&"BroadcastChannel"in self&&(pn=new BroadcastChannel("[Firebase] FID Change"),pn.onmessage=S=>{an(S.data.key,S.data.fid)}),pn}();k&&k.postMessage({key:S,fid:A}),function cn(){0===Pe.size&&pn&&(pn.close(),pn=null)}()}(k,A)}function an(S,A){const k=Pe.get(S);if(k)for(const U of k)U(A)}let pn=null;const oi="firebase-installations-database",ki=1,yn="firebase-installations-store";let Xn=null;function kr(){return Xn||(Xn=(0,Ee.X3)(oi,ki,{upgrade:(S,A)=>{0===A&&S.createObjectStore(yn)}})),Xn}function br(S,A){return wr.apply(this,arguments)}function wr(){return(wr=(0,L.Z)(function*(S,A){const k=fe(S),Q=(yield kr()).transaction(yn,"readwrite"),se=Q.objectStore(yn),ke=yield se.get(k);return yield se.put(A,k),yield Q.done,(!ke||ke.fid!==A.fid)&&He(S,A.fid),A})).apply(this,arguments)}function ks(S){return qr.apply(this,arguments)}function qr(){return(qr=(0,L.Z)(function*(S){const A=fe(S),U=(yield kr()).transaction(yn,"readwrite");yield U.objectStore(yn).delete(A),yield U.done})).apply(this,arguments)}function ds(S,A){return xt.apply(this,arguments)}function xt(){return(xt=(0,L.Z)(function*(S,A){const k=fe(S),Q=(yield kr()).transaction(yn,"readwrite"),se=Q.objectStore(yn),ke=yield se.get(k),ot=A(ke);return void 0===ot?yield se.delete(k):yield se.put(ot,k),yield Q.done,ot&&(!ke||ke.fid!==ot.fid)&&He(S,ot.fid),ot})).apply(this,arguments)}function Ht(S){return Wt.apply(this,arguments)}function Wt(){return Wt=(0,L.Z)(function*(S){let A;const k=yield ds(S.appConfig,U=>{const Q=function ai(S){return Os(S||{fid:he(),registrationStatus:0})}(U),se=function Rs(S,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(lt.create("app-offline"))};const k={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},U=function Gi(S,A){return un.apply(this,arguments)}(S,k);return{installationEntry:k,registrationPromise:U}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:zn(S)}:{installationEntry:A}}(S,Q);return A=se.registrationPromise,se.installationEntry});return k.fid===ae?{installationEntry:yield A}:{installationEntry:k,registrationPromise:A}}),Wt.apply(this,arguments)}function un(){return un=(0,L.Z)(function*(S,A){try{const k=yield function Qn(S,A){return Wn.apply(this,arguments)}(S,A);return br(S.appConfig,k)}catch(k){throw ct(k)&&409===k.customData.serverCode?yield ks(S.appConfig):yield br(S.appConfig,{fid:A.fid,registrationStatus:0}),k}}),un.apply(this,arguments)}function zn(S){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,L.Z)(function*(S){let A=yield Zn(S.appConfig);for(;1===A.registrationStatus;)yield Hn(100),A=yield Zn(S.appConfig);if(0===A.registrationStatus){const{installationEntry:k,registrationPromise:U}=yield Ht(S);return U||k}return A})).apply(this,arguments)}function Zn(S){return ds(S,A=>{if(!A)throw lt.create("installation-not-found");return Os(A)})}function Os(S){return function dn(S){return 1===S.registrationStatus&&S.registrationTime+q<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function Wr(){return(Wr=(0,L.Z)(function*({appConfig:S,heartbeatServiceProvider:A},k){const U=function xc(S,{fid:A}){return`${ne(S)}/${A}/authTokens:generate`}(S,k),Q=function j(S,{refreshToken:A}){const k=Ve(S);return k.append("Authorization",function rn(S){return`${Ne} ${S}`}(A)),k}(S,k),se=A.getImmediate({optional:!0});if(se){const pt=yield se.getHeartbeatsHeader();pt&&Q.append("x-firebase-client",pt)}const ot={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:te,appId:S.appId}})},ft=yield Se(()=>fetch(U,ot));if(ft.ok)return ye(yield ft.json());throw yield oe("Generate Auth Token",ft)})).apply(this,arguments)}function Or(S){return Ro.apply(this,arguments)}function Ro(){return Ro=(0,L.Z)(function*(S,A=!1){let k;const U=yield ds(S.appConfig,se=>{if(!nn(se))throw lt.create("not-registered");const ke=se.authToken;if(!A&&function G(S){return 2===S.requestStatus&&!function z(S){const A=Date.now();return A<S.creationTime||S.creationTime+S.expiresIn<A+Ze}(S)}(ke))return se;if(1===ke.requestStatus)return k=function nt(S,A){return Te.apply(this,arguments)}(S,A),se;{if(!navigator.onLine)throw lt.create("app-offline");const ot=function Z(S){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:A})}(se);return k=function Rt(S,A){return vt.apply(this,arguments)}(S,ot),ot}});return k?yield k:U.authToken}),Ro.apply(this,arguments)}function Te(){return(Te=(0,L.Z)(function*(S,A){let k=yield Xe(S.appConfig);for(;1===k.authToken.requestStatus;)yield Hn(100),k=yield Xe(S.appConfig);const U=k.authToken;return 0===U.requestStatus?Or(S,A):U})).apply(this,arguments)}function Xe(S){return ds(S,A=>{if(!nn(A))throw lt.create("not-registered");return function be(S){return 1===S.requestStatus&&S.requestTime+q<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function vt(){return vt=(0,L.Z)(function*(S,A){try{const k=yield function Rr(S,A){return Wr.apply(this,arguments)}(S,A),U=Object.assign(Object.assign({},A),{authToken:k});return yield br(S.appConfig,U),k}catch(k){if(!ct(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const U=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield br(S.appConfig,U)}else yield ks(S.appConfig);throw k}}),vt.apply(this,arguments)}function nn(S){return void 0!==S&&2===S.registrationStatus}function dt(){return(dt=(0,L.Z)(function*(S){const A=S,{installationEntry:k,registrationPromise:U}=yield Ht(A);return U?U.catch(console.error):Or(A).catch(console.error),k.fid})).apply(this,arguments)}function Qt(){return Qt=(0,L.Z)(function*(S,A=!1){const k=S;return yield function li(S){return Dn.apply(this,arguments)}(k),(yield Or(k,A)).token}),Qt.apply(this,arguments)}function Dn(){return(Dn=(0,L.Z)(function*(S){const{registrationPromise:A}=yield Ht(S);A&&(yield A)})).apply(this,arguments)}function ta(S){return lt.create("missing-app-config-values",{valueName:S})}const Zu="installations",Di=S=>{const A=S.getProvider("app").getImmediate(),k=function vl(S){if(!S||!S.options)throw ta("App Configuration");if(!S.name)throw ta("App Name");const A=["projectId","apiKey","appId"];for(const k of A)if(!S.options[k])throw ta(k);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(A);return{app:A,appConfig:k,heartbeatServiceProvider:(0,ie._getProvider)(A,"heartbeat"),_delete:()=>Promise.resolve()}},bl=S=>{const A=S.getProvider("app").getImmediate(),k=(0,ie._getProvider)(A,Zu).getImmediate();return{getId:()=>function le(S){return dt.apply(this,arguments)}(k),getToken:Q=>function Nt(S){return Qt.apply(this,arguments)}(k,Q)}};(function Oo(){(0,ie._registerComponent)(new ee.wA(Zu,Di,"PUBLIC")),(0,ie._registerComponent)(new ee.wA("installations-internal",bl,"PRIVATE"))})(),(0,ie.registerVersion)(de,H),(0,ie.registerVersion)(de,H,"esm2017");const Fa="@firebase/remote-config",nr=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class hm{constructor(A,k,U,Q){this.client=A,this.storage=k,this.storageCache=U,this.logger=Q}isCachedDataFresh(A,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-k,Q=U<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${Q}.`),Q}fetch(A){var k=this;return(0,L.Z)(function*(){const[U,Q]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(Q&&k.isCachedDataFresh(A.cacheMaxAgeMillis,U))return Q;A.eTag=Q&&Q.eTag;const se=yield k.client.fetch(A),ke=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===se.status&&ke.push(k.storage.setLastSuccessfulFetchResponse(se)),yield Promise.all(ke),se})()}}function Lt(S=navigator){return S.languages&&S.languages[0]||S.language}class yi{constructor(A,k,U,Q,se,ke){this.firebaseInstallations=A,this.sdkVersion=k,this.namespace=U,this.projectId=Q,this.apiKey=se,this.appId=ke}fetch(A){var k=this;return(0,L.Z)(function*(){const[U,Q]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),ke=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,ot={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},ft={sdk_version:k.sdkVersion,app_instance_id:U,app_instance_id_token:Q,app_id:k.appId,language_code:Lt()},pt={method:"POST",headers:ot,body:JSON.stringify(ft)},Bt=fetch(ke,pt),Ot=new Promise((Ni,Ke)=>{A.signal.addEventListener(()=>{const xn=new Error("The operation was aborted.");xn.name="AbortError",Ke(xn)})});let $n;try{yield Promise.race([Bt,Ot]),$n=yield Bt}catch(Ni){let Ke="fetch-client-network";throw"AbortError"===Ni?.name&&(Ke="fetch-timeout"),nr.create(Ke,{originalErrorMessage:Ni?.message})}let vn=$n.status;const Ln=$n.headers.get("ETag")||void 0;let ii,mo;if(200===$n.status){let Ni;try{Ni=yield $n.json()}catch(Ke){throw nr.create("fetch-client-parse",{originalErrorMessage:Ke?.message})}ii=Ni.entries,mo=Ni.state}if("INSTANCE_STATE_UNSPECIFIED"===mo?vn=500:"NO_CHANGE"===mo?vn=304:("NO_TEMPLATE"===mo||"EMPTY_CONFIG"===mo)&&(ii={}),304!==vn&&200!==vn)throw nr.create("fetch-status",{httpStatus:vn});return{status:vn,eTag:Ln,config:ii}})()}}class Fr{constructor(A,k){this.client=A,this.storage=k}fetch(A){var k=this;return(0,L.Z)(function*(){const U=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(A,U)})()}attemptFetch(A,{throttleEndTimeMillis:k,backoffCount:U}){var Q=this;return(0,L.Z)(function*(){yield function Jn(S,A){return new Promise((k,U)=>{const Q=Math.max(A-Date.now(),0),se=setTimeout(k,Q);S.addEventListener(()=>{clearTimeout(se),U(nr.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(A.signal,k);try{const se=yield Q.client.fetch(A);return yield Q.storage.deleteThrottleMetadata(),se}catch(se){if(!function Po(S){if(!(S instanceof re.ZR&&S.customData))return!1;const A=Number(S.customData.httpStatus);return 429===A||500===A||503===A||504===A}(se))throw se;const ke={throttleEndTimeMillis:Date.now()+(0,re.$s)(U),backoffCount:U+1};return yield Q.storage.setThrottleMetadata(ke),Q.attemptFetch(A,ke)}})()}}class La{constructor(A,k,U,Q,se){this.app=A,this._client=k,this._storageCache=U,this._storage=Q,this._logger=se,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ec(S,A){const k=S.target.error||void 0;return nr.create(A,{originalErrorMessage:k&&k?.message})}const ro="app_namespace_store";class Gn{constructor(A,k,U,Q=function Pt(){return new Promise((S,A)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=U=>{A(Ec(U,"storage-open"))},k.onsuccess=U=>{S(U.target.result)},k.onupgradeneeded=U=>{0===U.oldVersion&&U.target.result.createObjectStore(ro,{keyPath:"compositeKey"})}}catch(k){A(nr.create("storage-open",{originalErrorMessage:k?.message}))}})}()){this.appId=A,this.appName=k,this.namespace=U,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var k=this;return(0,L.Z)(function*(){const U=yield k.openDbPromise;return new Promise((Q,se)=>{const ot=U.transaction([ro],"readonly").objectStore(ro),ft=k.createCompositeKey(A);try{const pt=ot.get(ft);pt.onerror=Bt=>{se(Ec(Bt,"storage-get"))},pt.onsuccess=Bt=>{const Ot=Bt.target.result;Q(Ot?Ot.value:void 0)}}catch(pt){se(nr.create("storage-get",{originalErrorMessage:pt?.message}))}})})()}set(A,k){var U=this;return(0,L.Z)(function*(){const Q=yield U.openDbPromise;return new Promise((se,ke)=>{const ft=Q.transaction([ro],"readwrite").objectStore(ro),pt=U.createCompositeKey(A);try{const Bt=ft.put({compositeKey:pt,value:k});Bt.onerror=Ot=>{ke(Ec(Ot,"storage-set"))},Bt.onsuccess=()=>{se()}}catch(Bt){ke(nr.create("storage-set",{originalErrorMessage:Bt?.message}))}})})()}delete(A){var k=this;return(0,L.Z)(function*(){const U=yield k.openDbPromise;return new Promise((Q,se)=>{const ot=U.transaction([ro],"readwrite").objectStore(ro),ft=k.createCompositeKey(A);try{const pt=ot.delete(ft);pt.onerror=Bt=>{se(Ec(Bt,"storage-delete"))},pt.onsuccess=()=>{Q()}}catch(pt){se(nr.create("storage-delete",{originalErrorMessage:pt?.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class Pr{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,L.Z)(function*(){const k=A.storage.getLastFetchStatus(),U=A.storage.getLastSuccessfulFetchTimestampMillis(),Q=A.storage.getActiveConfig(),se=yield k;se&&(A.lastFetchStatus=se);const ke=yield U;ke&&(A.lastSuccessfulFetchTimestampMillis=ke);const ot=yield Q;ot&&(A.activeConfig=ot)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function Fn(){return na.apply(this,arguments)}function na(){return(na=(0,L.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}!function fs(){(0,ie._registerComponent)(new ee.wA("remote-config",function S(A,{instanceIdentifier:k}){const U=A.getProvider("app").getImmediate(),Q=A.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw nr.create("registration-window");if(!(0,re.hl)())throw nr.create("indexed-db-unavailable");const{projectId:se,apiKey:ke,appId:ot}=U.options;if(!se)throw nr.create("registration-project-id");if(!ke)throw nr.create("registration-api-key");if(!ot)throw nr.create("registration-app-id");const ft=new Gn(ot,U.name,k=k||"firebase"),pt=new Pr(ft),Bt=new ge.Yd(Fa);Bt.logLevel=ge.in.ERROR;const Ot=new yi(Q,ie.SDK_VERSION,k,se,ke,ot),$n=new Fr(Ot,ft),vn=new hm($n,ft,pt,Bt),Ln=new La(U,vn,pt,ft,Bt);return function Rh(S){const A=(0,re.m9)(S);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(Ln),Ln},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(Fa,"0.4.1"),(0,ie.registerVersion)(Fa,"0.4.1","esm2017")}();const Fs="/firebase-messaging-sw.js",At="/firebase-cloud-messaging-push-scope",ps="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ia="https://fcmregistrations.googleapis.com/v1",Ps="google.c.a.c_id",jn="google.c.a.c_l",Sl="google.c.a.ts";var so=function(S){return S.PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",S}(so||{});function Nr(S){const A=new Uint8Array(S);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function oo(S){const k=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(k),Q=new Uint8Array(U.length);for(let se=0;se<U.length;++se)Q[se]=U.charCodeAt(se);return Q}const Zr="fcm_token_details_db",Lr=5,Pn="fcm_token_object_Store";function fm(){return fm=(0,L.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(se=>se.name).includes(Zr))return null;let A=null;return(yield(0,Ee.X3)(Zr,Lr,{upgrade:(U=(0,L.Z)(function*(Q,se,ke,ot){var ft;if(se<2||!Q.objectStoreNames.contains(Pn))return;const pt=ot.objectStore(Pn),Bt=yield pt.index("fcmSenderId").get(S);if(yield pt.clear(),Bt)if(2===se){const Ot=Bt;if(!Ot.auth||!Ot.p256dh||!Ot.endpoint)return;A={token:Ot.fcmToken,createTime:null!==(ft=Ot.createTime)&&void 0!==ft?ft:Date.now(),subscriptionOptions:{auth:Ot.auth,p256dh:Ot.p256dh,endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:"string"==typeof Ot.vapidKey?Ot.vapidKey:Nr(Ot.vapidKey)}}}else if(3===se){const Ot=Bt;A={token:Ot.fcmToken,createTime:Ot.createTime,subscriptionOptions:{auth:Nr(Ot.auth),p256dh:Nr(Ot.p256dh),endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:Nr(Ot.vapidKey)}}}else if(4===se){const Ot=Bt;A={token:Ot.fcmToken,createTime:Ot.createTime,subscriptionOptions:{auth:Nr(Ot.auth),p256dh:Nr(Ot.p256dh),endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:Nr(Ot.vapidKey)}}}}),function(se,ke,ot,ft){return U.apply(this,arguments)})})).close(),yield(0,Ee.Lj)(Zr),yield(0,Ee.Lj)("fcm_vapid_details_db"),yield(0,Ee.Lj)("undefined"),function Sc(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:A}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}(A)?A:null;var U}),fm.apply(this,arguments)}const Il="firebase-messaging-database",ms=1,Kr="firebase-messaging-store";let Lo=null;function Bo(){return Lo||(Lo=(0,Ee.X3)(Il,ms,{upgrade:(S,A)=>{0===A&&S.createObjectStore(Kr)}})),Lo}function Si(S){return td.apply(this,arguments)}function td(){return td=(0,L.Z)(function*(S){const A=ra(S),U=yield(yield Bo()).transaction(Kr).objectStore(Kr).get(A);if(U)return U;{const Q=yield function Xt(S){return fm.apply(this,arguments)}(S.appConfig.senderId);if(Q)return yield vi(S,Q),Q}}),td.apply(this,arguments)}function vi(S,A){return ji.apply(this,arguments)}function ji(){return(ji=(0,L.Z)(function*(S,A){const k=ra(S),Q=(yield Bo()).transaction(Kr,"readwrite");return yield Q.objectStore(Kr).put(A,k),yield Q.done,A})).apply(this,arguments)}function gs(){return(gs=(0,L.Z)(function*(S){const A=ra(S),U=(yield Bo()).transaction(Kr,"readwrite");yield U.objectStore(Kr).delete(A),yield U.done})).apply(this,arguments)}function ra({appConfig:S}){return S.appId}const ei=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Fh(S,A){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,L.Z)(function*(S,A){const k=yield Lh(S),U=sd(A),Q={method:"POST",headers:k,body:JSON.stringify(U)};let se;try{se=yield(yield fetch(Mc(S.appConfig),Q)).json()}catch(ke){throw ei.create("token-subscribe-failed",{errorInfo:ke?.toString()})}if(se.error)throw ei.create("token-subscribe-failed",{errorInfo:se.error.message});if(!se.token)throw ei.create("token-subscribe-no-token");return se.token})).apply(this,arguments)}function nd(){return(nd=(0,L.Z)(function*(S,A){const k=yield Lh(S),U=sd(A.subscriptionOptions),Q={method:"PATCH",headers:k,body:JSON.stringify(U)};let se;try{se=yield(yield fetch(`${Mc(S.appConfig)}/${A.token}`,Q)).json()}catch(ke){throw ei.create("token-update-failed",{errorInfo:ke?.toString()})}if(se.error)throw ei.create("token-update-failed",{errorInfo:se.error.message});if(!se.token)throw ei.create("token-update-no-token");return se.token})).apply(this,arguments)}function id(S,A){return Nh.apply(this,arguments)}function Nh(){return(Nh=(0,L.Z)(function*(S,A){const U={method:"DELETE",headers:yield Lh(S)};try{const se=yield(yield fetch(`${Mc(S.appConfig)}/${A}`,U)).json();if(se.error)throw ei.create("token-unsubscribe-failed",{errorInfo:se.error.message})}catch(Q){throw ei.create("token-unsubscribe-failed",{errorInfo:Q?.toString()})}})).apply(this,arguments)}function Mc({projectId:S}){return`${ia}/projects/${S}/registrations`}function Lh(S){return rd.apply(this,arguments)}function rd(){return(rd=(0,L.Z)(function*({appConfig:S,installations:A}){const k=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function sd({p256dh:S,auth:A,endpoint:k,vapidKey:U}){const Q={web:{endpoint:k,auth:A,p256dh:S}};return U!==ps&&(Q.web.applicationPubKey=U),Q}const Bh=6048e5;function Vh(){return Vh=(0,L.Z)(function*(S){const A=yield function mm(S,A){return ti.apply(this,arguments)}(S.swRegistration,S.vapidKey),k={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:A.endpoint,auth:Nr(A.getKey("auth")),p256dh:Nr(A.getKey("p256dh"))},U=yield Si(S.firebaseDependencies);if(U){if(function gm(S,A){return A.vapidKey===S.vapidKey&&A.endpoint===S.endpoint&&A.auth===S.auth&&A.p256dh===S.p256dh}(U.subscriptionOptions,k))return Date.now()>=U.createTime+Bh?function Hh(S,A){return zh.apply(this,arguments)}(S,{token:U.token,createTime:Date.now(),subscriptionOptions:k}):U.token;try{yield id(S.firebaseDependencies,U.token)}catch(Q){console.warn(Q)}return Ml(S.firebaseDependencies,k)}return Ml(S.firebaseDependencies,k)}),Vh.apply(this,arguments)}function pm(){return pm=(0,L.Z)(function*(S){const A=yield Si(S.firebaseDependencies);A&&(yield id(S.firebaseDependencies,A.token),yield function Ac(S){return gs.apply(this,arguments)}(S.firebaseDependencies));const k=yield S.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()}),pm.apply(this,arguments)}function zh(){return zh=(0,L.Z)(function*(S,A){try{const k=yield function Ph(S,A){return nd.apply(this,arguments)}(S.firebaseDependencies,A),U=Object.assign(Object.assign({},A),{token:k,createTime:Date.now()});return yield vi(S.firebaseDependencies,U),k}catch(k){throw yield function Uh(S){return pm.apply(this,arguments)}(S),k}}),zh.apply(this,arguments)}function Ml(S,A){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,L.Z)(function*(S,A){const U={token:yield Fh(S,A),createTime:Date.now(),subscriptionOptions:A};return yield vi(S,U),U.token})).apply(this,arguments)}function ti(){return(ti=(0,L.Z)(function*(S,A){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:oo(A)})})).apply(this,arguments)}function sa(S){const A={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function ad(S,A){if(!A.notification)return;S.notification={};const k=A.notification.title;k&&(S.notification.title=k);const U=A.notification.body;U&&(S.notification.body=U);const Q=A.notification.image;Q&&(S.notification.image=Q);const se=A.notification.icon;se&&(S.notification.icon=se)}(A,S),function Cw(S,A){A.data&&(S.data=A.data)}(A,S),function Gh(S,A){var k,U,Q,se,ke;if(!(A.fcmOptions||null!==(k=A.notification)&&void 0!==k&&k.click_action))return;S.fcmOptions={};const ot=null!==(Q=null===(U=A.fcmOptions)||void 0===U?void 0:U.link)&&void 0!==Q?Q:null===(se=A.notification)||void 0===se?void 0:se.click_action;ot&&(S.fcmOptions.link=ot);const ft=null===(ke=A.fcmOptions)||void 0===ke?void 0:ke.analytics_label;ft&&(S.fcmOptions.analyticsLabel=ft)}(A,S),A}function jh(S,A){const k=[];for(let U=0;U<S.length;U++)k.push(S.charAt(U)),U<A.length&&k.push(A.charAt(U));return k.join("")}function kc(S){return ei.create("missing-app-config-values",{valueName:S})}jh("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),jh("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class xw{constructor(A,k,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function iy(S){if(!S||!S.options)throw kc("App Configuration Object");if(!S.name)throw kc("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:k}=S;for(const U of A)if(!k[U])throw kc(U);return{appName:S.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:Q,installations:k,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Qr(){return(Qr=(0,L.Z)(function*(S){try{S.swRegistration=yield navigator.serviceWorker.register(Fs,{scope:At}),S.swRegistration.update().catch(()=>{})}catch(A){throw ei.create("failed-service-worker-registration",{browserErrorMessage:A?.message})}})).apply(this,arguments)}function ni(){return(ni=(0,L.Z)(function*(S,A){if(!A&&!S.swRegistration&&(yield function Tl(S){return Qr.apply(this,arguments)}(S)),A||!S.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw ei.create("invalid-sw-registration");S.swRegistration=A}})).apply(this,arguments)}function _m(){return(_m=(0,L.Z)(function*(S,A){A?S.vapidKey=A:S.vapidKey||(S.vapidKey=ps)})).apply(this,arguments)}function Va(){return Va=(0,L.Z)(function*(S,A){if(!navigator)throw ei.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ei.create("permission-blocked");return yield function Vo(S,A){return _m.apply(this,arguments)}(S,A?.vapidKey),yield function Ba(S,A){return ni.apply(this,arguments)}(S,A?.serviceWorkerRegistration),function od(S){return Vh.apply(this,arguments)}(S)}),Va.apply(this,arguments)}function $h(){return($h=(0,L.Z)(function*(S,A,k){const U=function ym(S){switch(S){case so.NOTIFICATION_CLICKED:return"notification_open";case so.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(A);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:k[Ps],message_name:k[jn],message_time:k[Sl],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ua(){return Ua=(0,L.Z)(function*(S,A){const k=A.data;if(!k.isFirebaseMessaging)return;S.onMessageHandler&&k.messageType===so.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(sa(k)):S.onMessageHandler.next(sa(k)));const U=k.data;(function ld(S){return"object"==typeof S&&!!S&&Ps in S})(U)&&"1"===U["google.c.a.e"]&&(yield function oa(S,A,k){return $h.apply(this,arguments)}(S,k.messageType,U))}),Ua.apply(this,arguments)}const Yh="@firebase/messaging",ry=S=>{const A=new xw(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function qh(S,A){return Ua.apply(this,arguments)}(A,k)),A},Rc=S=>{const A=S.getProvider("messaging").getImmediate();return{getToken:U=>function kl(S,A){return Va.apply(this,arguments)}(A,U)}};function vm(){return cd.apply(this,arguments)}function cd(){return(cd=(0,L.Z)(function*(){try{yield(0,re.eu)()}catch{return!1}return typeof window<"u"&&(0,re.hl)()&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function sy(){(0,ie._registerComponent)(new ee.wA("messaging",ry,"PUBLIC")),(0,ie._registerComponent)(new ee.wA("messaging-internal",Rc,"PRIVATE")),(0,ie.registerVersion)(Yh,"0.12.1"),(0,ie.registerVersion)(Yh,"0.12.1","esm2017")}();const Kh="analytics",bm="firebase_id",Sw="origin",_s=6e4,aa="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Oc="https://www.googletagmanager.com/gtag/js",Zt=new ge.Yd("@firebase/analytics");function Rl(S){return Promise.all(S.map(A=>A.catch(k=>k)))}function za(){return(za=(0,L.Z)(function*(S,A,k,U,Q,se){const ke=U[Q];try{if(ke)yield A[ke];else{const ft=(yield Rl(k)).find(pt=>pt.measurementId===Q);ft&&(yield A[ft.appId])}}catch(ot){Zt.error(ot)}S("config",Q,se)})).apply(this,arguments)}function Fi(){return(Fi=(0,L.Z)(function*(S,A,k,U,Q){try{let se=[];if(Q&&Q.send_to){let ke=Q.send_to;Array.isArray(ke)||(ke=[ke]);const ot=yield Rl(k);for(const ft of ke){const pt=ot.find(Ot=>Ot.measurementId===ft),Bt=pt&&A[pt.appId];if(!Bt){se=[];break}se.push(Bt)}}0===se.length&&(se=Object.values(A)),yield Promise.all(se),S("event",U,Q||{})}catch(se){Zt.error(se)}})).apply(this,arguments)}const Cr=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ga=30,Ol=new class ys{constructor(A={},k=1e3){this.throttleMetadata=A,this.intervalMillis=k}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,k){this.throttleMetadata[A]=k}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function Jh(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function Pc(){return(Pc=(0,L.Z)(function*(S){var A;const{appId:k,apiKey:U}=S,Q={method:"GET",headers:Jh(U)},se=aa.replace("{app-id}",k),ke=yield fetch(se,Q);if(200!==ke.status&&304!==ke.status){let ot="";try{const ft=yield ke.json();null!==(A=ft.error)&&void 0!==A&&A.message&&(ot=ft.error.message)}catch{}throw Cr.create("config-fetch-failed",{httpStatus:ke.status,responseMessage:ot})}return ke.json()})).apply(this,arguments)}function hd(){return(hd=(0,L.Z)(function*(S,A=Ol,k){const{appId:U,apiKey:Q,measurementId:se}=S.options;if(!U)throw Cr.create("no-app-id");if(!Q){if(se)return{measurementId:se,appId:U};throw Cr.create("no-api-key")}const ke=A.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ot=new pd;return setTimeout((0,L.Z)(function*(){ot.abort()}),void 0!==k?k:_s),Nc({appId:U,apiKey:Q,measurementId:se},ke,ot,A)})).apply(this,arguments)}function Nc(S,A,k){return fd.apply(this,arguments)}function fd(){return fd=(0,L.Z)(function*(S,{throttleEndTimeMillis:A,backoffCount:k},U,Q=Ol){var se;const{appId:ke,measurementId:ot}=S;try{yield function Fl(S,A){return new Promise((k,U)=>{const Q=Math.max(A-Date.now(),0),se=setTimeout(k,Q);S.addEventListener(()=>{clearTimeout(se),U(Cr.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(U,A)}catch(ft){if(ot)return Zt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ot} provided in the "measurementId" field in the local Firebase config. [${ft?.message}]`),{appId:ke,measurementId:ot};throw ft}try{const ft=yield function It(S){return Pc.apply(this,arguments)}(S);return Q.deleteThrottleMetadata(ke),ft}catch(ft){const pt=ft;if(!function Uo(S){if(!(S instanceof re.ZR&&S.customData))return!1;const A=Number(S.customData.httpStatus);return 429===A||500===A||503===A||504===A}(pt)){if(Q.deleteThrottleMetadata(ke),ot)return Zt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ot} provided in the "measurementId" field in the local Firebase config. [${pt?.message}]`),{appId:ke,measurementId:ot};throw ft}const Bt=503===Number(null===(se=pt?.customData)||void 0===se?void 0:se.httpStatus)?(0,re.$s)(k,Q.intervalMillis,Ga):(0,re.$s)(k,Q.intervalMillis),Ot={throttleEndTimeMillis:Date.now()+Bt,backoffCount:k+1};return Q.setThrottleMetadata(ke,Ot),Zt.debug(`Calling attemptFetch again in ${Bt} millis`),Nc(S,Ot,U,Q)}}),fd.apply(this,arguments)}class pd{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}let Lc,Br;function ca(){return(ca=(0,L.Z)(function*(S,A,k,U,Q){if(Q&&Q.global)S("event",k,U);else{const se=yield A;S("event",k,Object.assign(Object.assign({},U),{send_to:se}))}})).apply(this,arguments)}function Cm(){return(Cm=(0,L.Z)(function*(){if(!(0,re.hl)())return Zt.warn(Cr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(S){return Zt.warn(Cr.create("indexeddb-unavailable",{errorInfo:S?.toString()}).message),!1}return!0})).apply(this,arguments)}function $i(){return $i=(0,L.Z)(function*(S,A,k,U,Q,se,ke){var ot;const ft=function Pi(S){return hd.apply(this,arguments)}(S);ft.then(vn=>{k[vn.measurementId]=vn.appId,S.options.measurementId&&vn.measurementId!==S.options.measurementId&&Zt.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${vn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(vn=>Zt.error(vn)),A.push(ft);const pt=function uy(){return Cm.apply(this,arguments)}().then(vn=>{if(vn)return U.getId()}),[Bt,Ot]=yield Promise.all([ft,pt]);(function dd(S){const A=window.document.getElementsByTagName("script");for(const k of Object.values(A))if(k.src&&k.src.includes(Oc)&&k.src.includes(S))return k;return null})(se)||function Fc(S,A){const k=document.createElement("script");k.src=`${Oc}?l=${S}&id=${A}`,k.async=!0,document.head.appendChild(k)}(se,Bt.measurementId),Br&&(Q("consent","default",Br),function Uc(S){Br=S}(void 0)),Q("js",new Date);const $n=null!==(ot=ke?.config)&&void 0!==ot?ot:{};return $n[Sw]="firebase",$n.update=!0,null!=Ot&&($n[bm]=Ot),Q("config",Bt.measurementId,$n),Lc&&(Q("set",Lc),function Nl(S){Lc=S}(void 0)),Bt.measurementId}),$i.apply(this,arguments)}class Ns{constructor(A){this.app=A}_delete(){return delete Ls[this.app.options.appId],Promise.resolve()}}let Ls={},co=[];const vs={};let xm,uo,ja="dataLayer",ha=!1;function Hc(S,A,k){!function md(){const S=[];if((0,re.ru)()&&S.push("This is a browser extension environment."),(0,re.zI)()||S.push("Cookies are not available."),S.length>0){const A=S.map((U,Q)=>`(${Q+1}) ${U}`).join(" "),k=Cr.create("invalid-analytics-context",{errorInfo:A});Zt.warn(k.message)}}();const U=S.options.appId;if(!U)throw Cr.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw Cr.create("no-api-key");Zt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ls[U])throw Cr.create("already-exists",{id:U});if(!ha){!function rr(S){let A=[];Array.isArray(window[S])?A=window[S]:window[S]=A}(ja);const{wrappedGtag:se,gtagCore:ke}=function wm(S,A,k,U,Q){let se=function(...ke){window[U].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(se=window[Q]),window[Q]=function Qh(S,A,k,U){function se(){return se=(0,L.Z)(function*(ke,ot,ft){try{"event"===ke?yield function ao(S,A,k,U,Q){return Fi.apply(this,arguments)}(S,A,k,ot,ft):"config"===ke?yield function la(S,A,k,U,Q,se){return za.apply(this,arguments)}(S,A,k,U,ot,ft):"consent"===ke?S("consent","update",ft):S("set",ot)}catch(pt){Zt.error(pt)}}),se.apply(this,arguments)}return function Q(ke,ot,ft){return se.apply(this,arguments)}}(se,S,A,k),{gtagCore:se,wrappedGtag:window[Q]}}(Ls,co,vs,ja,"gtag");uo=se,xm=ke,ha=!0}return Ls[U]=function da(S,A,k,U,Q,se,ke){return $i.apply(this,arguments)}(S,co,vs,A,xm,ja,k),new Ns(S)}function gd(){return $a.apply(this,arguments)}function $a(){return($a=(0,L.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}const fa="@firebase/analytics";!function Sm(){(0,ie._registerComponent)(new ee.wA(Kh,(A,{options:k})=>Hc(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,ie._registerComponent)(new ee.wA("analytics-internal",function S(A){try{const k=A.getProvider(Kh).getImmediate();return{logEvent:(U,Q,se)=>function fy(S,A,k,U){S=(0,re.m9)(S),function cy(S,A,k,U,Q){return ca.apply(this,arguments)}(uo,Ls[S.app.options.appId],A,k,U).catch(Q=>Zt.error(Q))}(k,U,Q,se)}}catch(k){throw Cr.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,ie.registerVersion)(fa,"0.9.1"),(0,ie.registerVersion)(fa,"0.9.1","esm2017")}();var sf=P(1954),_d=P(2631);const Vl=new class qa extends _d.v{}(class Bl extends sf.o{constructor(A,k){super(A,k),this.scheduler=A,this.work=k}schedule(A,k=0){return k>0?super.schedule(A,k):(this.delay=k,this.state=A,this.scheduler.flush(this),this)}execute(A,k){return k>0||this.closed?super.execute(A,k):this._execute(A,k)}requestAsyncId(A,k,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(A,k,U):(A.flush(this),0)}});var fo=P(6321),zc=P(9397),Bs=P(3093),Ul=P(5137);const yd=new o.GfV("7.6.1"),Gc="__angularfire_symbol__analyticsIsSupportedValue",Ho="__angularfire_symbol__analyticsIsSupported",Ya="__angularfire_symbol__remoteConfigIsSupportedValue",jc="__angularfire_symbol__remoteConfigIsSupported",Ae="__angularfire_symbol__messagingIsSupportedValue",En="__angularfire_symbol__messagingIsSupported";function Jt(S,A,k){if(A){if(1===A.length)return A[0];const se=A.filter(ke=>ke.app===k);if(1===se.length)return se[0]}return k.container.getProvider(S).getImmediate({optional:!0})}globalThis[Ho]||(globalThis[Ho]=gd().then(S=>globalThis[Gc]=S).catch(()=>globalThis[Gc]=!1)),globalThis[En]||(globalThis[En]=vm().then(S=>globalThis[Ae]=S).catch(()=>globalThis[Ae]=!1)),globalThis[jc]||(globalThis[jc]=Fn().then(S=>globalThis[Ya]=S).catch(()=>globalThis[Ya]=!1));const vd=(S,A)=>{const k=A?[A]:(0,X.C6)(),U=[];return k.forEach(Q=>{Q.container.getProvider(S).instances.forEach(ke=>{U.includes(ke)||U.push(ke)})}),U};function Hl(){}class zl{constructor(A,k=Vl){this.zone=A,this.delegate=k}now(){return this.delegate.now()}schedule(A,k,U){const Q=this.zone;return this.delegate.schedule(function(ke){Q.runGuarded(()=>{A.apply(this,[ke])})},k,U)}}class lf{constructor(A){this.zone=A,this.task=null}call(A,k){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hl,{},Hl,Hl)),k.pipe((0,zc.b)({next:U,complete:U,error:U})).subscribe(A).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Gl=(()=>{class S{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new zl(Zone.current)),this.insideAngular=k.run(()=>new zl(Zone.current,fo.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(k){return new(k||S)(o.LFG(o.R0b))},S.\u0275prov=o.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function po(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function $c(S){return S.pipe((0,Bs.Q)(po().outsideAngular))}function Wa(S){return po(),function zo(S){return function(k){return(k=k.lift(new lf(S.ngZone))).pipe((0,Ul.R)(S.outsideAngular),(0,Bs.Q)(S.insideAngular))}}(po())(S)}},9058:(ht,we,P)=>{P.d(we,{$s:()=>Xe,BH:()=>ye,DV:()=>yn,Dv:()=>zn,G6:()=>Ti,GJ:()=>oi,L:()=>Ee,LL:()=>Pe,Pz:()=>ne,Sg:()=>oe,UG:()=>j,UI:()=>kr,US:()=>ee,Wj:()=>Os,Wl:()=>an,Yr:()=>Hn,ZB:()=>q,ZR:()=>fe,aH:()=>ct,b$:()=>Ft,cI:()=>qe,dS:()=>Rr,eu:()=>ae,g5:()=>L,gK:()=>Yr,gQ:()=>Ht,h$:()=>ge,hl:()=>ko,hu:()=>X,jU:()=>Se,lb:()=>dn,m9:()=>nn,ne:()=>Wt,p$:()=>H,pd:()=>xt,r3:()=>ki,ru:()=>Ue,tV:()=>de,uI:()=>Ve,ug:()=>Wr,vZ:()=>br,w1:()=>Qn,w9:()=>cn,xO:()=>qr,xb:()=>Xn,z$:()=>ve,zI:()=>he,zd:()=>ds});const o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},X=function(G,z){if(!G)throw L(z)},L=function(G){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+G)},ie=function(G){const z=[];let Z=0;for(let be=0;be<G.length;be++){let le=G.charCodeAt(be);le<128?z[Z++]=le:le<2048?(z[Z++]=le>>6|192,z[Z++]=63&le|128):55296==(64512&le)&&be+1<G.length&&56320==(64512&G.charCodeAt(be+1))?(le=65536+((1023&le)<<10)+(1023&G.charCodeAt(++be)),z[Z++]=le>>18|240,z[Z++]=le>>12&63|128,z[Z++]=le>>6&63|128,z[Z++]=63&le|128):(z[Z++]=le>>12|224,z[Z++]=le>>6&63|128,z[Z++]=63&le|128)}return z},ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,z){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,be=[];for(let le=0;le<G.length;le+=3){const dt=G[le],Nt=le+1<G.length,Qt=Nt?G[le+1]:0,li=le+2<G.length,Dn=li?G[le+2]:0;let _i=(15&Qt)<<2|Dn>>6,ea=63&Dn;li||(ea=64,Nt||(_i=64)),be.push(Z[dt>>2],Z[(3&dt)<<4|Qt>>4],Z[_i],Z[ea])}return be.join("")},encodeString(G,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(G):this.encodeByteArray(ie(G),z)},decodeString(G,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(G):function(G){const z=[];let Z=0,be=0;for(;Z<G.length;){const le=G[Z++];if(le<128)z[be++]=String.fromCharCode(le);else if(le>191&&le<224){const dt=G[Z++];z[be++]=String.fromCharCode((31&le)<<6|63&dt)}else if(le>239&&le<365){const li=((7&le)<<18|(63&G[Z++])<<12|(63&G[Z++])<<6|63&G[Z++])-65536;z[be++]=String.fromCharCode(55296+(li>>10)),z[be++]=String.fromCharCode(56320+(1023&li))}else{const dt=G[Z++],Nt=G[Z++];z[be++]=String.fromCharCode((15&le)<<12|(63&dt)<<6|63&Nt)}}return z.join("")}(this.decodeStringToByteArray(G,z))},decodeStringToByteArray(G,z){this.init_();const Z=z?this.charToByteMapWebSafe_:this.charToByteMap_,be=[];for(let le=0;le<G.length;){const dt=Z[G.charAt(le++)],Qt=le<G.length?Z[G.charAt(le)]:0;++le;const Dn=le<G.length?Z[G.charAt(le)]:64;++le;const st=le<G.length?Z[G.charAt(le)]:64;if(++le,null==dt||null==Qt||null==Dn||null==st)throw Error();be.push(dt<<2|Qt>>4),64!==Dn&&(be.push(Qt<<4&240|Dn>>2),64!==st&&be.push(Dn<<6&192|st))}return be},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},ge=function(G){const z=ie(G);return ee.encodeByteArray(z,!0)},Ee=function(G){return ge(G).replace(/\./g,"")},de=function(G){try{return ee.decodeString(G,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function H(G){return q(void 0,G)}function q(G,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return z}for(const Z in z)!z.hasOwnProperty(Z)||!te(Z)||(G[Z]=q(G[Z],z[Z]));return G}function te(G){return"__proto__"!==G}const Ye=()=>{try{return function Ne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const z=G&&de(G[1]);return z&&JSON.parse(z)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},ct=()=>{var G;return null===(G=Ye())||void 0===G?void 0:G.config},ne=G=>{var z;return null===(z=Ye())||void 0===z?void 0:z[`_${G}`]};class ye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,Z)=>{this.resolve=z,this.reject=Z})}wrapCallback(z){return(Z,be)=>{Z?this.reject(Z):this.resolve(be),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(Z):z(Z,be))}}}function oe(G,z){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const be=z||"demo-project",le=G.iat||0,dt=G.sub||G.user_id;if(!dt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Nt=Object.assign({iss:`https://securetoken.google.com/${be}`,aud:be,iat:le,exp:le+3600,auth_time:le,sub:dt,user_id:dt,firebase:{sign_in_provider:"custom",identities:{}}},G);return[Ee(JSON.stringify({alg:"none",type:"JWT"})),Ee(JSON.stringify(Nt)),""].join(".")}function ve(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ve(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ve())}function j(){var G;const z=null===(G=Ye())||void 0===G?void 0:G.forceEnvironment;if("node"===z)return!0;if("browser"===z)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Se(){return"object"==typeof self&&self.self===self}function Ue(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function Ft(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Qn(){const G=ve();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Hn(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN}function Ti(){return!j()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ko(){try{return"object"==typeof indexedDB}catch{return!1}}function ae(){return new Promise((G,z)=>{try{let Z=!0;const be="validate-browser-context-for-indexeddb-analytics-module",le=self.indexedDB.open(be);le.onsuccess=()=>{le.result.close(),Z||self.indexedDB.deleteDatabase(be),G(!0)},le.onupgradeneeded=()=>{Z=!1},le.onerror=()=>{var dt;z((null===(dt=le.error)||void 0===dt?void 0:dt.message)||"")}}catch(Z){z(Z)}})}function he(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class fe extends Error{constructor(z,Z,be){super(Z),this.code=z,this.customData=be,this.name="FirebaseError",Object.setPrototypeOf(this,fe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pe.prototype.create)}}class Pe{constructor(z,Z,be){this.service=z,this.serviceName=Z,this.errors=be}create(z,...Z){const be=Z[0]||{},le=`${this.service}/${z}`,dt=this.errors[z],Nt=dt?function He(G,z){return G.replace(ut,(Z,be)=>{const le=z[be];return null!=le?String(le):`<${be}?>`})}(dt,be):"Error";return new fe(le,`${this.serviceName}: ${Nt} (${le}).`,be)}}const ut=/\{\$([^}]+)}/g;function qe(G){return JSON.parse(G)}function an(G){return JSON.stringify(G)}const St=function(G){let z={},Z={},be={},le="";try{const dt=G.split(".");z=qe(de(dt[0])||""),Z=qe(de(dt[1])||""),le=dt[2],be=Z.d||{},delete Z.d}catch{}return{header:z,claims:Z,data:be,signature:le}},cn=function(G){const Z=St(G).claims;return!!Z&&"object"==typeof Z&&Z.hasOwnProperty("iat")},oi=function(G){const z=St(G).claims;return"object"==typeof z&&!0===z.admin};function ki(G,z){return Object.prototype.hasOwnProperty.call(G,z)}function yn(G,z){if(Object.prototype.hasOwnProperty.call(G,z))return G[z]}function Xn(G){for(const z in G)if(Object.prototype.hasOwnProperty.call(G,z))return!1;return!0}function kr(G,z,Z){const be={};for(const le in G)Object.prototype.hasOwnProperty.call(G,le)&&(be[le]=z.call(Z,G[le],le,G));return be}function br(G,z){if(G===z)return!0;const Z=Object.keys(G),be=Object.keys(z);for(const le of Z){if(!be.includes(le))return!1;const dt=G[le],Nt=z[le];if(wr(dt)&&wr(Nt)){if(!br(dt,Nt))return!1}else if(dt!==Nt)return!1}for(const le of be)if(!Z.includes(le))return!1;return!0}function wr(G){return null!==G&&"object"==typeof G}function qr(G){const z=[];for(const[Z,be]of Object.entries(G))Array.isArray(be)?be.forEach(le=>{z.push(encodeURIComponent(Z)+"="+encodeURIComponent(le))}):z.push(encodeURIComponent(Z)+"="+encodeURIComponent(be));return z.length?"&"+z.join("&"):""}function ds(G){const z={};return G.replace(/^\?/,"").split("&").forEach(be=>{if(be){const[le,dt]=be.split("=");z[decodeURIComponent(le)]=decodeURIComponent(dt)}}),z}function xt(G){const z=G.indexOf("?");if(!z)return"";const Z=G.indexOf("#",z);return G.substring(z,Z>0?Z:void 0)}class Ht{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let z=1;z<this.blockSize;++z)this.pad_[z]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(z,Z){Z||(Z=0);const be=this.W_;if("string"==typeof z)for(let st=0;st<16;st++)be[st]=z.charCodeAt(Z)<<24|z.charCodeAt(Z+1)<<16|z.charCodeAt(Z+2)<<8|z.charCodeAt(Z+3),Z+=4;else for(let st=0;st<16;st++)be[st]=z[Z]<<24|z[Z+1]<<16|z[Z+2]<<8|z[Z+3],Z+=4;for(let st=16;st<80;st++){const _i=be[st-3]^be[st-8]^be[st-14]^be[st-16];be[st]=4294967295&(_i<<1|_i>>>31)}let Dn,gi,le=this.chain_[0],dt=this.chain_[1],Nt=this.chain_[2],Qt=this.chain_[3],li=this.chain_[4];for(let st=0;st<80;st++){st<40?st<20?(Dn=Qt^dt&(Nt^Qt),gi=1518500249):(Dn=dt^Nt^Qt,gi=1859775393):st<60?(Dn=dt&Nt|Qt&(dt|Nt),gi=2400959708):(Dn=dt^Nt^Qt,gi=3395469782);const _i=(le<<5|le>>>27)+Dn+li+gi+be[st]&4294967295;li=Qt,Qt=Nt,Nt=4294967295&(dt<<30|dt>>>2),dt=le,le=_i}this.chain_[0]=this.chain_[0]+le&4294967295,this.chain_[1]=this.chain_[1]+dt&4294967295,this.chain_[2]=this.chain_[2]+Nt&4294967295,this.chain_[3]=this.chain_[3]+Qt&4294967295,this.chain_[4]=this.chain_[4]+li&4294967295}update(z,Z){if(null==z)return;void 0===Z&&(Z=z.length);const be=Z-this.blockSize;let le=0;const dt=this.buf_;let Nt=this.inbuf_;for(;le<Z;){if(0===Nt)for(;le<=be;)this.compress_(z,le),le+=this.blockSize;if("string"==typeof z){for(;le<Z;)if(dt[Nt]=z.charCodeAt(le),++Nt,++le,Nt===this.blockSize){this.compress_(dt),Nt=0;break}}else for(;le<Z;)if(dt[Nt]=z[le],++Nt,++le,Nt===this.blockSize){this.compress_(dt),Nt=0;break}}this.inbuf_=Nt,this.total_+=Z}digest(){const z=[];let Z=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let le=this.blockSize-1;le>=56;le--)this.buf_[le]=255&Z,Z/=256;this.compress_(this.buf_);let be=0;for(let le=0;le<5;le++)for(let dt=24;dt>=0;dt-=8)z[be]=this.chain_[le]>>dt&255,++be;return z}}function Wt(G,z){const Z=new ai(G,z);return Z.subscribe.bind(Z)}class ai{constructor(z,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{z(this)}).catch(be=>{this.error(be)})}next(z){this.forEachObserver(Z=>{Z.next(z)})}error(z){this.forEachObserver(Z=>{Z.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,Z,be){let le;if(void 0===z&&void 0===Z&&void 0===be)throw new Error("Missing Observer.");le=function Gi(G,z){if("object"!=typeof G||null===G)return!1;for(const Z of z)if(Z in G&&"function"==typeof G[Z])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:Z,complete:be},void 0===le.next&&(le.next=un),void 0===le.error&&(le.error=un),void 0===le.complete&&(le.complete=un);const dt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?le.error(this.finalError):le.complete()}catch{}}),this.observers.push(le),dt}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,z)}sendOne(z,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{Z(this.observers[z])}catch(be){typeof console<"u"&&console.error&&console.error(be)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function un(){}const zn=function(G,z,Z,be){let le;if(be<z?le="at least "+z:be>Z&&(le=0===Z?"none":"no more than "+Z),le)throw new Error(G+" failed: Was called with "+be+(1===be?" argument.":" arguments.")+" Expects "+le+".")};function Yr(G,z){return`${G} failed: ${z} argument `}function Os(G,z,Z,be){if((!be||Z)&&"function"!=typeof Z)throw new Error(Yr(G,z)+"must be a valid function.")}function dn(G,z,Z,be){if((!be||Z)&&("object"!=typeof Z||null===Z))throw new Error(Yr(G,z)+"must be a valid context object.")}const Rr=function(G){const z=[];let Z=0;for(let be=0;be<G.length;be++){let le=G.charCodeAt(be);if(le>=55296&&le<=56319){const dt=le-55296;be++,X(be<G.length,"Surrogate pair missing trail surrogate."),le=65536+(dt<<10)+(G.charCodeAt(be)-56320)}le<128?z[Z++]=le:le<2048?(z[Z++]=le>>6|192,z[Z++]=63&le|128):le<65536?(z[Z++]=le>>12|224,z[Z++]=le>>6&63|128,z[Z++]=63&le|128):(z[Z++]=le>>18|240,z[Z++]=le>>12&63|128,z[Z++]=le>>6&63|128,z[Z++]=63&le|128)}return z},Wr=function(G){let z=0;for(let Z=0;Z<G.length;Z++){const be=G.charCodeAt(Z);be<128?z++:be<2048?z+=2:be>=55296&&be<=56319?(z+=4,Z++):z+=3}return z},Or=1e3,Ro=2,nt=144e5,Te=.5;function Xe(G,z=Or,Z=Ro){const be=z*Math.pow(Z,G),le=Math.round(Te*be*(Math.random()-.5)*2);return Math.min(nt,be+le)}function nn(G){return G&&G._delegate?G._delegate:G}},1601:(ht,we,P)=>{var o=P(5879);let X=null;function L(){return X}class re{}const ee=new o.OlP("DocumentToken");let ge=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(de)},providedIn:"platform"}),n})();const Ee=new o.OlP("Location Initialized");let de=(()=>{class n extends ge{constructor(){super(),this._doc=(0,o.f3M)(ee),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function H(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function q(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function te(n){return n&&"?"!==n[0]?"?"+n:n}let Ne=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(Ze)},providedIn:"root"}),n})();const Me=new o.OlP("appBaseHref");let Ze=(()=>{class n extends Ne{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,o.f3M)(ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return H(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+te(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const c=this.prepareExternalUrl(r+te(s));this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,s){const c=this.prepareExternalUrl(r+te(s));this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ge),o.LFG(Me,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fe=(()=>{class n extends Ne{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=H(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let c=this.prepareExternalUrl(r+te(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,s){let c=this.prepareExternalUrl(r+te(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ge),o.LFG(Me,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Ye=(()=>{class n{constructor(e){this._subject=new o.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function ne(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(q(ct(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+te(i))}normalize(e){return n.stripTrailingSlash(function lt(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,ct(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+te(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+te(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=te,n.joinWithSlash=H,n.stripTrailingSlash=q,n.\u0275fac=function(e){return new(e||n)(o.LFG(Ne))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Re(){return new Ye((0,o.LFG)(Ne))}()},providedIn:"root"}),n})();function ct(n){return n.replace(/\/index.html$/,"")}var Ve=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Ve||{}),j=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(j||{}),Se=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Se||{}),Ue=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(Ue||{});function he(n,t){return yn((0,o.cg1)(n)[o.wAp.DateFormat],t)}function me(n,t){return yn((0,o.cg1)(n)[o.wAp.TimeFormat],t)}function fe(n,t){return yn((0,o.cg1)(n)[o.wAp.DateTimeFormat],t)}function Pe(n,t){const e=(0,o.cg1)(n),i=e[o.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===Ue.CurrencyDecimal)return e[o.wAp.NumberSymbols][Ue.Decimal];if(t===Ue.CurrencyGroup)return e[o.wAp.NumberSymbols][Ue.Group]}return i}function Mt(n){if(!n[o.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[o.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function yn(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Xn(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const ks=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,qr={},ds=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var xt=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(xt||{}),Ht=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Ht||{}),Wt=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Wt||{});function ai(n,t,e,i){let r=function Z(n){if(le(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,c=1]=n.split("-").map(d=>+d);return Rs(r,s-1,c)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(ks))return function be(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-e,d=Number(n[5]||0)-i,p=Number(n[6]||0),y=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,c,d,p,y),t}(i)}const t=new Date(n);if(!le(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Gi(e,t)||t;let d,c=[];for(;t;){if(d=ds.exec(t),!d){c.push(t);break}{c=c.concat(d.slice(1));const w=c.pop();if(!w)break;t=w}}let p=r.getTimezoneOffset();i&&(p=nn(i,p),r=function z(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function G(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(nn(t,r)-r))}(r,i,!0));let y="";return c.forEach(w=>{const E=function vt(n){if(Rt[n])return Rt[n];let t;switch(n){case"G":case"GG":case"GGG":t=dn(Wt.Eras,j.Abbreviated);break;case"GGGG":t=dn(Wt.Eras,j.Wide);break;case"GGGGG":t=dn(Wt.Eras,j.Narrow);break;case"y":t=Zn(Ht.FullYear,1,0,!1,!0);break;case"yy":t=Zn(Ht.FullYear,2,0,!0,!0);break;case"yyy":t=Zn(Ht.FullYear,3,0,!1,!0);break;case"yyyy":t=Zn(Ht.FullYear,4,0,!1,!0);break;case"Y":t=Xe(1);break;case"YY":t=Xe(2,!0);break;case"YYY":t=Xe(3);break;case"YYYY":t=Xe(4);break;case"M":case"L":t=Zn(Ht.Month,1,1);break;case"MM":case"LL":t=Zn(Ht.Month,2,1);break;case"MMM":t=dn(Wt.Months,j.Abbreviated);break;case"MMMM":t=dn(Wt.Months,j.Wide);break;case"MMMMM":t=dn(Wt.Months,j.Narrow);break;case"LLL":t=dn(Wt.Months,j.Abbreviated,Ve.Standalone);break;case"LLLL":t=dn(Wt.Months,j.Wide,Ve.Standalone);break;case"LLLLL":t=dn(Wt.Months,j.Narrow,Ve.Standalone);break;case"w":t=Te(1);break;case"ww":t=Te(2);break;case"W":t=Te(1,!0);break;case"d":t=Zn(Ht.Date,1);break;case"dd":t=Zn(Ht.Date,2);break;case"c":case"cc":t=Zn(Ht.Day,1);break;case"ccc":t=dn(Wt.Days,j.Abbreviated,Ve.Standalone);break;case"cccc":t=dn(Wt.Days,j.Wide,Ve.Standalone);break;case"ccccc":t=dn(Wt.Days,j.Narrow,Ve.Standalone);break;case"cccccc":t=dn(Wt.Days,j.Short,Ve.Standalone);break;case"E":case"EE":case"EEE":t=dn(Wt.Days,j.Abbreviated);break;case"EEEE":t=dn(Wt.Days,j.Wide);break;case"EEEEE":t=dn(Wt.Days,j.Narrow);break;case"EEEEEE":t=dn(Wt.Days,j.Short);break;case"a":case"aa":case"aaa":t=dn(Wt.DayPeriods,j.Abbreviated);break;case"aaaa":t=dn(Wt.DayPeriods,j.Wide);break;case"aaaaa":t=dn(Wt.DayPeriods,j.Narrow);break;case"b":case"bb":case"bbb":t=dn(Wt.DayPeriods,j.Abbreviated,Ve.Standalone,!0);break;case"bbbb":t=dn(Wt.DayPeriods,j.Wide,Ve.Standalone,!0);break;case"bbbbb":t=dn(Wt.DayPeriods,j.Narrow,Ve.Standalone,!0);break;case"B":case"BB":case"BBB":t=dn(Wt.DayPeriods,j.Abbreviated,Ve.Format,!0);break;case"BBBB":t=dn(Wt.DayPeriods,j.Wide,Ve.Format,!0);break;case"BBBBB":t=dn(Wt.DayPeriods,j.Narrow,Ve.Format,!0);break;case"h":t=Zn(Ht.Hours,1,-12);break;case"hh":t=Zn(Ht.Hours,2,-12);break;case"H":t=Zn(Ht.Hours,1);break;case"HH":t=Zn(Ht.Hours,2);break;case"m":t=Zn(Ht.Minutes,1);break;case"mm":t=Zn(Ht.Minutes,2);break;case"s":t=Zn(Ht.Seconds,1);break;case"ss":t=Zn(Ht.Seconds,2);break;case"S":t=Zn(Ht.FractionalSeconds,1);break;case"SS":t=Zn(Ht.FractionalSeconds,2);break;case"SSS":t=Zn(Ht.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Wr(xt.Short);break;case"ZZZZZ":t=Wr(xt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Wr(xt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Wr(xt.Long);break;default:return null}return Rt[n]=t,t}(w);y+=E?E(r,e,p):"''"===w?"'":w.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),y}function Rs(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Gi(n,t){const e=function rn(n){return(0,o.cg1)(n)[o.wAp.LocaleId]}(n);if(qr[e]=qr[e]||{},qr[e][t])return qr[e][t];let i="";switch(t){case"shortDate":i=he(n,Se.Short);break;case"mediumDate":i=he(n,Se.Medium);break;case"longDate":i=he(n,Se.Long);break;case"fullDate":i=he(n,Se.Full);break;case"shortTime":i=me(n,Se.Short);break;case"mediumTime":i=me(n,Se.Medium);break;case"longTime":i=me(n,Se.Long);break;case"fullTime":i=me(n,Se.Full);break;case"short":const r=Gi(n,"shortTime"),s=Gi(n,"shortDate");i=un(fe(n,Se.Short),[r,s]);break;case"medium":const c=Gi(n,"mediumTime"),d=Gi(n,"mediumDate");i=un(fe(n,Se.Medium),[c,d]);break;case"long":const p=Gi(n,"longTime"),y=Gi(n,"longDate");i=un(fe(n,Se.Long),[p,y]);break;case"full":const w=Gi(n,"fullTime"),E=Gi(n,"fullDate");i=un(fe(n,Se.Full),[w,E])}return i&&(qr[e][t]=i),i}function un(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function zn(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let c=String(n);for(;c.length<t;)c="0"+c;return i&&(c=c.slice(c.length-t)),s+c}function Zn(n,t,e=0,i=!1,r=!1){return function(s,c){let d=function Os(n,t){switch(n){case Ht.FullYear:return t.getFullYear();case Ht.Month:return t.getMonth();case Ht.Date:return t.getDate();case Ht.Hours:return t.getHours();case Ht.Minutes:return t.getMinutes();case Ht.Seconds:return t.getSeconds();case Ht.FractionalSeconds:return t.getMilliseconds();case Ht.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||d>-e)&&(d+=e),n===Ht.Hours)0===d&&-12===e&&(d=12);else if(n===Ht.FractionalSeconds)return function Yr(n,t){return zn(n,3).substring(0,t)}(d,t);const p=Pe(c,Ue.MinusSign);return zn(d,t,p,i,r)}}function dn(n,t,e=Ve.Format,i=!1){return function(r,s){return function Rr(n,t,e,i,r,s){switch(e){case Wt.Months:return function Hn(n,t,e){const i=(0,o.cg1)(n),s=yn([i[o.wAp.MonthsFormat],i[o.wAp.MonthsStandalone]],t);return yn(s,e)}(t,r,i)[n.getMonth()];case Wt.Days:return function Wn(n,t,e){const i=(0,o.cg1)(n),s=yn([i[o.wAp.DaysFormat],i[o.wAp.DaysStandalone]],t);return yn(s,e)}(t,r,i)[n.getDay()];case Wt.DayPeriods:const c=n.getHours(),d=n.getMinutes();if(s){const y=function cn(n){const t=(0,o.cg1)(n);return Mt(t),(t[o.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?Xn(i):[Xn(i[0]),Xn(i[1])])}(t),w=function oi(n,t,e){const i=(0,o.cg1)(n);Mt(i);const s=yn([i[o.wAp.ExtraData][0],i[o.wAp.ExtraData][1]],t)||[];return yn(s,e)||[]}(t,r,i),E=y.findIndex(T=>{if(Array.isArray(T)){const[F,B]=T,$=c>=F.hours&&d>=F.minutes,K=c<B.hours||c===B.hours&&d<B.minutes;if(F.hours<B.hours){if($&&K)return!0}else if($||K)return!0}else if(T.hours===c&&T.minutes===d)return!0;return!1});if(-1!==E)return w[E]}return function Qn(n,t,e){const i=(0,o.cg1)(n),s=yn([i[o.wAp.DayPeriodsFormat],i[o.wAp.DayPeriodsStandalone]],t);return yn(s,e)}(t,r,i)[c<12?0:1];case Wt.Eras:return function Ti(n,t){return yn((0,o.cg1)(n)[o.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function Wr(n){return function(t,e,i){const r=-1*i,s=Pe(e,Ue.MinusSign),c=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case xt.Short:return(r>=0?"+":"")+zn(c,2,s)+zn(Math.abs(r%60),2,s);case xt.ShortGMT:return"GMT"+(r>=0?"+":"")+zn(c,1,s);case xt.Long:return"GMT"+(r>=0?"+":"")+zn(c,2,s)+":"+zn(Math.abs(r%60),2,s);case xt.Extended:return 0===i?"Z":(r>=0?"+":"")+zn(c,2,s)+":"+zn(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const xc=0,Or=4;function nt(n){return Rs(n.getFullYear(),n.getMonth(),n.getDate()+(Or-n.getDay()))}function Te(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,c=e.getDate();r=1+Math.floor((c+s)/7)}else{const s=nt(e),c=function Ro(n){const t=Rs(n,xc,1).getDay();return Rs(n,0,1+(t<=Or?Or:Or+7)-t)}(s.getFullYear()),d=s.getTime()-c.getTime();r=1+Math.round(d/6048e5)}return zn(r,n,Pe(i,Ue.MinusSign))}}function Xe(n,t=!1){return function(e,i){return zn(nt(e).getFullYear(),n,Pe(i,Ue.MinusSign),t)}}const Rt={};function nn(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function le(n){return n instanceof Date&&!isNaN(n.valueOf())}const Fo=/\s+/,nr=[];let Ri=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=nr,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Fo):nr}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Fo):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(Fo).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class kh{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Pa=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new kh(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===s?void 0:s);else if(null!==s){const d=i.get(s);i.move(d,c),Dc(d,r)}});for(let r=0,s=i.length;r<s;r++){const d=i.get(r).context;d.index=r,d.count=s,d.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Dc(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Dc(n,t){n.context.$implicit=t.item}let Oi=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Cl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Rh("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Rh("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Cl{constructor(){this.$implicit=null,this.ngIf=null}}function Rh(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(t)}'.`)}class xl{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let io=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Dl=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new xl(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(io,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),um=(()=>{class n{constructor(e,i,r){r._addDefault(new xl(e,i))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(io,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),El=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:c}=this;this._viewRef=i.createEmbeddedView(r,s,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[o.TTD]}),n})();const tt=new o.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Pt=new o.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Gn=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,s){if(null==e||""===e||e!=e)return null;try{return ai(e,i??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(c){throw function Lt(n,t){return new o.vHH(2100,!1)}()}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.soG,16),o.Y36(tt,24),o.Y36(Pt,24))},n.\u0275pipe=o.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),ci=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const so="browser";function Lr(n){return n===so}function Pn(n){return"server"===n}let Il=(()=>{class n{}return n.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new ms((0,o.LFG)(ee),window)}),n})();class ms{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Lo(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const c=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Kr(this.window.history)||Kr(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Kr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Fc extends re{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class rr extends Fc{static makeCurrent(){!function ie(n){X||(X=n)}(new rr)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function za(){return la=la||document.querySelector("base"),la?la.getAttribute("href"):null}();return null==e?null:function Fi(n){ao=ao||document.createElement("a"),ao.setAttribute("href",n);const t=ao.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){la=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Xu(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let ao,la=null,wm=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const dd=new o.OlP("EventManagerPlugins");let lo=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(s=>s.supports(e)),!i)throw new o.vHH(5101,!1);return this._eventNameToPlugin.set(e,i),i}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(dd),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Cr{constructor(t){this._doc=t}}const Ga="ng-app-id";let Xh=(()=>{class n{constructor(e,i,r,s={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Pn(s),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${Ga}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const s=r.get(e);return s.usage+=i,s.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===e)return r.delete(i),s.removeAttribute(Ga),s;{const c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=i,this.platformIsServer&&c.setAttribute(Ga,this.appId),c}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const s=this.styleRef,c=s.get(i)?.elements;c?c.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ee),o.LFG(o.AFp),o.LFG(o.Ojb,8),o.LFG(o.Lbi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const ys={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ol=/%COMP%/g,hd=new o.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Fl(n,t){return t.map(e=>e.replace(Ol,n))}let Uo=(()=>{class n{constructor(e,i,r,s,c,d,p,y=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=c,this.platformId=d,this.ngZone=p,this.nonce=y,this.rendererByCompId=new Map,this.platformIsServer=Pn(d),this.defaultRenderer=new pd(e,c,p,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===o.ifc.ShadowDom&&(i={...i,encapsulation:o.ifc.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof Kt?r.applyToHost(e):r instanceof xe&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const c=this.doc,d=this.ngZone,p=this.eventManager,y=this.sharedStylesHost,w=this.removeStylesOnCompDestroy,E=this.platformIsServer;switch(i.encapsulation){case o.ifc.Emulated:s=new Kt(p,y,i,this.appId,w,c,d,E);break;case o.ifc.ShadowDom:return new ef(p,y,e,i,c,d,this.nonce,E);default:s=new xe(p,y,i,w,c,d,E)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(lo),o.LFG(Xh),o.LFG(o.AFp),o.LFG(hd),o.LFG(ee),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(o.Ojb))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class pd{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(ys[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(ca(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(ca(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new o.vHH(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=ys[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=ys[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(o.JOm.DashCase|o.JOm.Important)?t.style.setProperty(e,i,r&o.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&o.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=L().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function ca(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ef extends pd{constructor(t,e,i,r,s,c,d,p){super(t,s,c,p),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const y=Fl(r.id,r.styles);for(const w of y){const E=document.createElement("style");d&&E.setAttribute("nonce",d),E.textContent=w,this.shadowRoot.appendChild(E)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class xe extends pd{constructor(t,e,i,r,s,c,d,p){super(t,s,c,d),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=p?Fl(p,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Kt extends xe{constructor(t,e,i,r,s,c,d,p){const y=r+"-"+i.id;super(t,e,i,s,c,d,p,y),this.contentAttr=function Nc(n){return"_ngcontent-%COMP%".replace(Ol,n)}(y),this.hostAttr=function fd(n){return"_nghost-%COMP%".replace(Ol,n)}(y)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let Bc=(()=>{class n extends Cr{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ee))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Pl=["alt","control","meta","shift"],bi={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ua=(()=>{class n extends Cr{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),c=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(e,s.domEventName,c))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let c="",d=i.indexOf("code");if(d>-1&&(i.splice(d,1),c="code."),Pl.forEach(y=>{const w=i.indexOf(y);w>-1&&(i.splice(w,1),c+=y+".")}),c+=s,0!=i.length||0===s.length)return null;const p={};return p.domEventName=r,p.fullKey=c,p}static matchEventFullKeyCode(e,i){let r=bi[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Pl.forEach(c=>{c!==r&&(0,Vc[c])(e)&&(s+=c+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ee))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Ls=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:so},{provide:o.g9A,useValue:function Cm(){rr.makeCurrent()},multi:!0},{provide:ee,useFactory:function $i(){return(0,o.RDi)(document),document},deps:[]}]),co=new o.OlP(""),vs=[{provide:o.rWj,useClass:class Qh{addToWindow(t){o.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new o.vHH(5103,!1);return s},o.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(i=>{const r=o.dqk.getAllAngularTestabilities();let s=r.length,c=!1;const d=function(p){c=c||p,s--,0==s&&i(c)};r.forEach(p=>{p.whenStable(d)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?L().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:o.lri,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]}],ja=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function da(){return new o.qLn},deps:[]},{provide:dd,useClass:Bc,multi:!0,deps:[ee,o.R0b,o.Lbi]},{provide:dd,useClass:ua,multi:!0,deps:[ee]},Uo,Xh,lo,{provide:o.FYo,useExisting:Uo},{provide:class Si{},useClass:wm,deps:[]},[]];let Ll=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:o.AFp,useValue:e.appId}]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(co,12))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[...ja,...vs],imports:[ci,o.hGG]}),n})(),md=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ee))},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function tf(){return new md((0,o.LFG)(ee))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Bl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):o.LFG(qa),i},providedIn:"root"}),n})(),qa=(()=>{class n extends Bl{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case o.q3G.NONE:return i;case o.q3G.HTML:return(0,o.qzn)(i,"HTML")?(0,o.z3N)(i):(0,o.EiD)(this._doc,String(i)).toString();case o.q3G.STYLE:return(0,o.qzn)(i,"Style")?(0,o.z3N)(i):i;case o.q3G.SCRIPT:if((0,o.qzn)(i,"Script"))return(0,o.z3N)(i);throw new o.vHH(5200,!1);case o.q3G.URL:return(0,o.qzn)(i,"URL")?(0,o.z3N)(i):(0,o.mCW)(String(i));case o.q3G.RESOURCE_URL:if((0,o.qzn)(i,"ResourceURL"))return(0,o.z3N)(i);throw new o.vHH(5201,!1);default:throw new o.vHH(5202,!1)}}bypassSecurityTrustHtml(e){return(0,o.JVY)(e)}bypassSecurityTrustStyle(e){return(0,o.L6k)(e)}bypassSecurityTrustScript(e){return(0,o.eBb)(e)}bypassSecurityTrustUrl(e){return(0,o.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,o.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ee))},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function _d(n){return new qa(n.get(ee))}(o.LFG(o.zs3)),i},providedIn:"root"}),n})();function Ho(n){return(Ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function Ae(n,t,e){return(t=function jc(n){var t=function Ya(n,t){if("object"!==Ho(n)||null===n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var i=e.call(n,t||"default");if("object"!==Ho(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"===Ho(t)?t:String(t)}(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var En=P(5592),sr=P(4674);function py(n){return!!n&&(n instanceof En.y||(0,sr.m)(n.lift)&&(0,sr.m)(n.subscribe))}var sn=P(2459),it=P(2096),Jt=P(5619);const{isArray:vd}=Array,{getPrototypeOf:Hl,prototype:zl,keys:lf}=Object;function Gl(n){if(1===n.length){const t=n[0];if(vd(t))return{args:t,keys:null};if(function po(n){return n&&"object"==typeof n&&Hl(n)===zl}(t)){const e=lf(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Vs=P(2737),We=P(7398);const{isArray:$c}=Array;function Wa(n){return(0,We.U)(t=>function Am(n,t){return $c(t)?n(...t):n(t)}(n,t))}var zo=P(9940);function cf(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var Sn=P(8251),S=P(7103);function A(...n){const t=(0,zo.yG)(n),e=(0,zo.jO)(n),{args:i,keys:r}=Gl(n);if(0===i.length)return(0,sn.D)([],t);const s=new En.y(function k(n,t,e=Vs.y){return i=>{U(t,()=>{const{length:r}=n,s=new Array(r);let c=r,d=r;for(let p=0;p<r;p++)U(t,()=>{const y=(0,sn.D)(n[p],t);let w=!1;y.subscribe((0,Sn.x)(i,E=>{s[p]=E,w||(w=!0,d--),d||i.next(e(s.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,t,r?c=>cf(r,c):Vs.y));return e?s.pipe(Wa(e)):s}function U(n,t,e){n?(0,S.f)(e,n,t):t()}const se=(0,P(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ke=P(7537);function ft(...n){return function ot(){return(0,ke.J)(1)}()((0,sn.D)(n,(0,zo.yG)(n)))}var pt=P(4829);function Bt(n){return new En.y(t=>{(0,pt.Xf)(n()).subscribe(t)})}var Ot=P(8407);function $n(n,t){const e=(0,sr.m)(n)?n:()=>n,i=r=>r.error(e());return new En.y(t?r=>t.schedule(i,0,r):i)}var vn=P(6232),Ln=P(7394),ii=P(9360);function mo(){return(0,ii.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Sn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class Ni extends En.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,ii.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ln.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Sn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ln.w0.EMPTY)}return t}refCount(){return mo()(this)}}var Ke=P(8645),xn=P(4664);function An(n){return n<=0?()=>vn.E:(0,ii.e)((t,e)=>{let i=0;t.subscribe((0,Sn.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Us(...n){const t=(0,zo.yG)(n);return(0,ii.e)((e,i)=>{(t?ft(n,e,t):ft(n,e)).subscribe(i)})}function kn(n,t){return(0,ii.e)((e,i)=>{let r=0;e.subscribe((0,Sn.x)(i,s=>n.call(t,s,r++)&&i.next(s)))})}var Li=P(1631);function pa(n){return(0,ii.e)((t,e)=>{let i=!1;t.subscribe((0,Sn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function jl(n=$l){return(0,ii.e)((t,e)=>{let i=!1;t.subscribe((0,Sn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function $l(){return new se}function ma(n,t){const e=arguments.length>=2;return i=>i.pipe(n?kn((r,s)=>n(r,s,i)):Vs.y,An(1),e?pa(t):jl(()=>new se))}function go(n,t){return(0,sr.m)(t)?(0,Li.z)(n,t,1):(0,Li.z)(n,1)}var Kn=P(9397);function ga(n){return(0,ii.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe((0,Sn.x)(e,void 0,void 0,c=>{s=(0,pt.Xf)(n(c,ga(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function bd(n,t){return(0,ii.e)(function Aw(n,t,e,i,r){return(s,c)=>{let d=e,p=t,y=0;s.subscribe((0,Sn.x)(c,w=>{const E=y++;p=d?n(p,w,E):(d=!0,w),i&&c.next(p)},r&&(()=>{d&&c.next(p),c.complete()})))}}(n,t,arguments.length>=2,!0))}function my(n){return n<=0?()=>vn.E:(0,ii.e)((t,e)=>{let i=[];t.subscribe((0,Sn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Im(n){return(0,ii.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const jt="primary",Go=Symbol("RouteTitle");class Iw{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function qc(n){return new Iw(n)}function qi(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const c=i[s],d=n[s];if(c.startsWith(":"))r[c.substring(1)]=d;else if(c!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Vr(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!gy(n[r],t[r]))return!1;return!0}function gy(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function bs(n){return n.length>0?n[n.length-1]:null}function Hs(n){return py(n)?n:(0,o.QGY)(n)?(0,sn.D)(Promise.resolve(n)):(0,it.of)(n)}const _y={exact:function Tw(n,t,e){if(!Yl(n.segments,t.segments)||!Wc(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Tw(n.children[i],t.children[i],e))return!1;return!0},subset:kw},ql={exact:function Mm(n,t){return Vr(n,t)},subset:function yy(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>gy(n[e],t[e]))},ignored:()=>!0};function Yc(n,t,e){return _y[e.paths](n.root,t.root,e.matrixParams)&&ql[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function kw(n,t,e){return xr(n,t,t.segments,e)}function xr(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Yl(r,e)||t.hasChildren()||!Wc(r,e,i))}if(n.segments.length===e.length){if(!Yl(n.segments,e)||!Wc(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!kw(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(Yl(n.segments,r)&&Wc(n.segments,r,i)&&n.children[jt])&&xr(n.children[jt],t,s,i)}}function Wc(n,t,e){return t.every((i,r)=>ql[e](n[r].parameters,i.parameters))}class zs{constructor(t=new In([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qc(this.queryParams)),this._queryParamMap}toString(){return Fw.serialize(this)}}class In{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cd(this)}}class Zc{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=qc(this.parameters)),this._parameterMap}toString(){return df(this)}}function Yl(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let wd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return new uf},providedIn:"root"}),n})();class uf{parse(t){const e=new xy(t);return new zs(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Xr(t.root,!0)}`,i=function by(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Wl(e)}=${Wl(r)}`).join("&"):`${Wl(e)}=${Wl(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Tm(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Fw=new uf;function Cd(n){return n.segments.map(t=>df(t)).join("/")}function Xr(n,t){if(!n.hasChildren())return Cd(n);if(t){const e=n.children[jt]?Xr(n.children[jt],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==jt&&i.push(`${r}:${Xr(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Ow(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===jt&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==jt&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===jt?[Xr(n.children[jt],!1)]:[`${r}:${Xr(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[jt]?`${Cd(n)}/${e[0]}`:`${Cd(n)}/(${e.join("//")})`}}function vy(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wl(n){return vy(n).replace(/%3B/gi,";")}function Kc(n){return vy(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qc(n){return decodeURIComponent(n)}function km(n){return Qc(n.replace(/\+/g,"%20"))}function df(n){return`${Kc(n.path)}${function Xc(n){return Object.keys(n).map(t=>`;${Kc(t)}=${Kc(n[t])}`).join("")}(n.parameters)}`}const Pw=/^[^\/()?;#]+/;function xd(n){const t=n.match(Pw);return t?t[0]:""}const Jc=/^[^\/()?;=#]+/,Nw=/^[^=?&#]+/,wy=/^[^&#]+/;class xy{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new In([],{}):new In([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[jt]=new In(t,e)),i}parseSegment(){const t=xd(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new o.vHH(4009,!1);return this.capture(t),new Zc(Qc(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function Dd(n){const t=n.match(Jc);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=xd(this.remaining);r&&(i=r,this.capture(i))}t[Qc(e)]=Qc(i)}parseQueryParam(t){const e=function HE(n){const t=n.match(Nw);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const c=function Cy(n){const t=n.match(wy);return t?t[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=km(e),s=km(i);if(t.hasOwnProperty(r)){let c=t[r];Array.isArray(c)||(c=[c],t[r]=c),c.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=xd(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new o.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=jt);const c=this.parseChildren();e[s]=1===Object.keys(c).length?c[jt]:new In([],c),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new o.vHH(4011,!1)}}function Dy(n){return n.segments.length>0?new In([],{[jt]:n}):n}function Ey(n){const t={};for(const i of Object.keys(n.children)){const s=Ey(n.children[i]);if(i===jt&&0===s.segments.length&&s.hasChildren())for(const[c,d]of Object.entries(s.children))t[c]=d;else(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function Rm(n){if(1===n.numberOfChildren&&n.children[jt]){const t=n.children[jt];return new In(n.segments.concat(t.segments),t.children)}return n}(new In(n.segments,t))}function Gs(n){return n instanceof zs}function Ay(n){let t;const r=Dy(function e(s){const c={};for(const p of s.children){const y=e(p);c[p.outlet]=y}const d=new In(s.url,c);return s===n&&(t=d),d}(n.root));return t??r}function eu(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return Iy(r,r,r,e,i);const s=function Pm(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new My(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return Object.entries(s.outlets).forEach(([p,y])=>{d[p]="string"==typeof y?y.split("/"):y}),[...r,{outlets:d}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===c?(s.split("/").forEach((d,p)=>{0==p&&"."===d||(0==p&&""===d?e=!0:".."===d?t++:""!=d&&r.push(d))}),r):[...r,s]},[]);return new My(e,t,i)}(t);if(s.toRoot())return Iy(r,r,new In([],{}),e,i);const c=function zE(n,t,e){if(n.isAbsolute)return new Nm(t,!0,0);if(!e)return new Nm(t,!1,NaN);if(null===e.parent)return new Nm(e,!0,0);const i=Om(n.commands[0])?0:1;return function Zl(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new o.vHH(4005,!1);r=i.segments.length}return new Nm(i,!1,r-s)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),d=c.processChildren?hf(c.segmentGroup,c.index,s.commands):Ty(c.segmentGroup,c.index,s.commands);return Iy(r,c.segmentGroup,d,e,i)}function Om(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function tu(n){return"object"==typeof n&&null!=n&&n.outlets}function Iy(n,t,e,i,r){let c,s={};i&&Object.entries(i).forEach(([p,y])=>{s[p]=Array.isArray(y)?y.map(w=>`${w}`):`${y}`}),c=n===t?e:Fm(n,t,e);const d=Dy(Ey(c));return new zs(d,s,r)}function Fm(n,t,e){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===t?e:Fm(s,t,e)}),new In(n.segments,i)}class My{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Om(i[0]))throw new o.vHH(4003,!1);const r=i.find(tu);if(r&&r!==bs(i))throw new o.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Nm{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Ty(n,t,e){if(n||(n=new In([],{})),0===n.segments.length&&n.hasChildren())return hf(n,t,e);const i=function jE(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const c=n.segments[r],d=e[i];if(tu(d))break;const p=`${d}`,y=i<e.length-1?e[i+1]:null;if(r>0&&void 0===p)break;if(p&&y&&"object"==typeof y&&void 0===y.outlets){if(!Kl(p,y,c))return s;i+=2}else{if(!Kl(p,{},c))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new In(n.segments.slice(0,i.pathIndex),{});return s.children[jt]=new In(n.segments.slice(i.pathIndex),n.children),hf(s,0,r)}return i.match&&0===r.length?new In(n.segments,{}):i.match&&!n.hasChildren()?ky(n,t,e):i.match?hf(n,0,r):ky(n,t,e)}function hf(n,t,e){if(0===e.length)return new In(n.segments,{});{const i=function GE(n){return tu(n[0])?n[0].outlets:{[jt]:n}}(e),r={};if(!i[jt]&&n.children[jt]&&1===n.numberOfChildren&&0===n.children[jt].segments.length){const s=hf(n.children[jt],t,e);return new In(n.segments,s.children)}return Object.entries(i).forEach(([s,c])=>{"string"==typeof c&&(c=[c]),null!==c&&(r[s]=Ty(n.children[s],t,c))}),Object.entries(n.children).forEach(([s,c])=>{void 0===i[s]&&(r[s]=c)}),new In(n.segments,r)}}function ky(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(tu(s)){const p=Lw(s.outlets);return new In(i,p)}if(0===r&&Om(e[0])){i.push(new Zc(n.segments[t].path,nu(e[0]))),r++;continue}const c=tu(s)?s.outlets[jt]:`${s}`,d=r<e.length-1?e[r+1]:null;c&&d&&Om(d)?(i.push(new Zc(c,nu(d))),r+=2):(i.push(new Zc(c,{})),r++)}return new In(i,{})}function Lw(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=ky(new In([],{}),0,i))}),t}function nu(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function Kl(n,t,e){return n==e.path&&Vr(t,e.parameters)}const Za="imperative";class js{constructor(t,e){this.id=t,this.url=e}}class ff extends js{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Jr extends js{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ed extends js{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class or extends js{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class jo extends js{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Sd extends js{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pf extends js{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lm extends js{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Bm extends js{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bw extends js{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vm{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Um{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ka{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ry{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vw{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oy{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fy{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Bn{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new _a,this.attachRef=null}}let _a=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Bn,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Ad{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Id(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Id(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=qn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return qn(t,this._root).map(e=>e.value)}}function Id(n,t){if(n===t.value)return t;for(const e of t.children){const i=Id(n,e);if(i)return i}return null}function qn(n,t){if(n===t.value)return[t];for(const e of t.children){const i=qn(n,e);if(i.length)return i.unshift(t),i}return[]}class mr{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Qa(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class mf extends Ad{constructor(t,e){super(t),this.snapshot=e,m(this,t)}toString(){return this.snapshot.toString()}}function Py(n,t){const e=function gf(n,t){const c=new Md([],{},{},"",{},jt,t,null,{});return new b("",new mr(c,[]))}(0,t),i=new Jt.X([new Zc("",{})]),r=new Jt.X({}),s=new Jt.X({}),c=new Jt.X({}),d=new Jt.X(""),p=new Xa(i,r,c,d,s,jt,t,e.root);return p.snapshot=e.root,new mf(new mr(p,[]),e)}class Xa{constructor(t,e,i,r,s,c,d,p){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=c,this.component=d,this._futureSnapshot=p,this.title=this.dataSubject?.pipe((0,We.U)(y=>y[Go]))??(0,it.of)(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,We.U)(t=>qc(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,We.U)(t=>qc(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Hm(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function Hw(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Md{get title(){return this.data?.[Go]}constructor(t,e,i,r,s,c,d,p,y){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this.routeConfig=p,this._resolve=y}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=qc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class b extends Ad{constructor(t,e){super(e),this.url=t,m(this,e)}toString(){return _(this._root)}}function m(n,t){t.value._routerState=n,t.children.forEach(e=>m(n,e))}function _(n){const t=n.children.length>0?` { ${n.children.map(_).join(", ")} } `:"";return`${n.value}${t}`}function C(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Vr(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Vr(t.params,e.params)||n.paramsSubject.next(e.params),function Mw(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Vr(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),Vr(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function M(n,t){const e=Vr(n.params,t.params)&&function Rw(n,t){return Yl(n,t)&&n.every((e,i)=>Vr(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||M(n.parent,t.parent))}let O=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=jt,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.parentContexts=(0,o.f3M)(_a),this.location=(0,o.f3M)(o.s_b),this.changeDetector=(0,o.f3M)(o.sBO),this.environmentInjector=(0,o.f3M)(o.lqb),this.inputBinder=(0,o.f3M)(pe,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.vHH(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new o.vHH(4013,!1);this._activatedRoute=e;const r=this.location,c=e.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,p=new Y(e,d,r.injector);this.activated=r.createComponent(c,{index:r.length,injector:p,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[o.TTD]}),n})();class Y{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Xa?this.route:t===_a?this.childContexts:this.parent.get(t,e)}}const pe=new o.OlP("");let je=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=A([i.queryParams,i.params,i.data]).pipe((0,xn.w)(([s,c,d],p)=>(d={...s,...c,...d},0===p?(0,it.of)(d):Promise.resolve(d)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const c=(0,o.qFp)(i.component);if(c)for(const{templateName:d}of c.inputs)e.activatedComponentRef.setInput(d,s[d]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Dt(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function yt(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Dt(n,i,r);return Dt(n,i)})}(n,t,e);return new mr(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(d=>Dt(n,d)),c}}const i=function wi(n){return new Xa(new Jt.X(n.url),new Jt.X(n.params),new Jt.X(n.queryParams),new Jt.X(n.fragment),new Jt.X(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>Dt(n,s));return new mr(i,r)}}const es="ngNavigationCancelingError";function Ql(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Gs(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=iu(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function iu(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[es]=!0,i.cancellationCode=t,e&&(i.url=e),i}function _f(n){return zm(n)&&Gs(n.url)}function zm(n){return n&&n[es]}let Gm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[o.jDz],decls:1,vars:0,template:function(e,i){1&e&&o._UZ(0,"router-outlet")},dependencies:[O],encapsulation:2}),n})();function Ym(n){const t=n.children&&n.children.map(Ym),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==jt&&(e.component=Gm),e}function $o(n){return n.outlet||jt}function vf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class QL{constructor(t,e,i,r,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),C(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Qa(e);t.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,r[c],i),delete r[c]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(t,e,c.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Qa(t);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);if(i&&i.outlet){const c=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Qa(t);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=Qa(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Oy(s.value.snapshot))}),t.children.length&&this.forwardEvent(new Ry(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(C(r),r===s)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,c.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(d.contexts),c.attachRef=d.componentRef,c.route=d.route.value,c.outlet&&c.outlet.attach(d.componentRef,d.route.value),C(d.route.value),this.activateChildRoutes(t,null,c.children)}else{const d=vf(r.snapshot);c.attachRef=null,c.route=r,c.injector=d,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,i)}}class Wm{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ly{constructor(t,e){this.component=t,this.route=e}}function $E(n,t,e){const i=n._root;return Rd(i,t?t._root:null,e,[i.value])}function kd(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,o.Z0I)(n)?t.get(n):n:i}function Rd(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Qa(t);return n.children.forEach(c=>{(function YE(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=t?t.value:null,d=e?e.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const p=function By(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Yl(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Yl(n.url,t.url)||!Vr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!M(n,t)||!Vr(n.queryParams,t.queryParams);default:return!M(n,t)}}(c,s,s.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new Wm(i)):(s.data=c.data,s._resolvedData=c._resolvedData),Rd(n,t,s.component?d?d.children:null:e,i,r),p&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new Ly(d.outlet.component,c))}else c&&Xl(t,d,r),r.canActivateChecks.push(new Wm(i)),Rd(n,null,s.component?d?d.children:null:e,i,r)})(c,s[c.value.outlet],e,i.concat([c.value]),r),delete s[c.value.outlet]}),Object.entries(s).forEach(([c,d])=>Xl(d,e.getContext(c),r)),r}function Xl(n,t,e){const i=Qa(n),r=n.value;Object.entries(i).forEach(([s,c])=>{Xl(c,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new Ly(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function bf(n){return"function"==typeof n}function ZE(n){return n instanceof se||"EmptyError"===n?.name}const Uy=Symbol("INITIAL_VALUE");function Od(){return(0,xn.w)(n=>A(n.map(t=>t.pipe(An(1),Us(Uy)))).pipe((0,We.U)(t=>{for(const e of t)if(!0!==e){if(e===Uy)return Uy;if(!1===e||e instanceof zs)return e}return!0}),kn(t=>t!==Uy),An(1)))}function QE(n){return(0,Ot.z)((0,Kn.b)(t=>{if(Gs(t))throw Ql(0,t)}),(0,We.U)(t=>!0===t))}class Fd{constructor(t){this.segmentGroup=t||null}}class zy{constructor(t){this.urlTree=t}}function Pd(n){return $n(new Fd(n))}function Zw(n){return $n(new zy(n))}class mR{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new o.vHH(4002,!1)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,it.of)(i);if(r.numberOfChildren>1||!r.children[jt])return $n(new o.vHH(4e3,!1));r=r.children[jt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new zs(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const d=s.substring(1);i[r]=e[d]}else i[r]=s}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let c={};return Object.entries(e.children).forEach(([d,p])=>{c[d]=this.createSegmentGroup(t,p,i,r)}),new In(s,c)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new o.vHH(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const Kw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gR(n,t,e,i,r){const s=Qw(n,t,e);return s.matched?(i=function jm(n,t){return n.providers&&!n._injector&&(n._injector=(0,o.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function Km(n,t,e,i){const r=t.canMatch;if(!r||0===r.length)return(0,it.of)(!0);const s=r.map(c=>{const d=kd(c,n);return Hs(function cR(n){return n&&bf(n.canMatch)}(d)?d.canMatch(t,e):n.runInContext(()=>d(t,e)))});return(0,it.of)(s).pipe(Od(),QE())}(i,t,e).pipe((0,We.U)(c=>!0===c?s:{...Kw}))):(0,it.of)(s)}function Qw(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Kw}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||qi)(e,n,t);if(!r)return{...Kw};const s={};Object.entries(r.posParams??{}).forEach(([d,p])=>{s[d]=p.path});const c=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function JE(n,t,e,i){return e.length>0&&function _R(n,t,e){return e.some(i=>Gy(n,t,i)&&$o(i)!==jt)}(n,e,i)?{segmentGroup:new In(t,Cf(i,new In(e,n.children))),slicedSegments:[]}:0===e.length&&function yR(n,t,e){return e.some(i=>Gy(n,t,i))}(n,e,i)?{segmentGroup:new In(n.segments,Jl(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new In(n.segments,n.children),slicedSegments:e}}function Jl(n,t,e,i,r){const s={};for(const c of i)if(Gy(n,e,c)&&!r[$o(c)]){const d=new In([],{});s[$o(c)]=d}return{...r,...s}}function Cf(n,t){const e={};e[jt]=t;for(const i of n)if(""===i.path&&$o(i)!==jt){const r=new In([],{});e[$o(i)]=r}return e}function Gy(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class eS{constructor(t,e,i,r,s,c,d){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=c,this.urlSerializer=d,this.allowRedirects=!0,this.applyRedirects=new mR(this.urlSerializer,this.urlTree)}noMatchError(t){return new o.vHH(4002,!1)}recognize(){const t=JE(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,jt).pipe(ga(e=>{if(e instanceof zy)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof Fd?this.noMatchError(e):e}),(0,We.U)(e=>{const i=new Md([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},jt,this.rootComponentType,null,{}),r=new mr(i,e),s=new b("",r),c=function Sy(n,t,e=null,i=null){return eu(Ay(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(c),this.inheritParamsAndData(s._root),{state:s,tree:c}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,jt).pipe(ga(i=>{throw i instanceof Fd?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=Hm(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r,!0)}processChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,sn.D)(r).pipe(go(s=>{const c=i.children[s],d=function Td(n,t){const e=n.filter(i=>$o(i)===t);return e.push(...n.filter(i=>$o(i)!==t)),e}(e,s);return this.processSegmentGroup(t,d,c,s)}),bd((s,c)=>(s.push(...c),s)),pa(null),function VE(n,t){const e=arguments.length>=2;return i=>i.pipe(n?kn((r,s)=>n(r,s,i)):Vs.y,my(1),e?pa(t):jl(()=>new se))}(),(0,Li.z)(s=>{if(null===s)return Pd(i);const c=tS(s);return function CR(n){n.sort((t,e)=>t.value.outlet===jt?-1:e.value.outlet===jt?1:t.value.outlet.localeCompare(e.value.outlet))}(c),(0,it.of)(c)}))}processSegment(t,e,i,r,s,c){return(0,sn.D)(e).pipe(go(d=>this.processSegmentAgainstRoute(d._injector??t,e,d,i,r,s,c).pipe(ga(p=>{if(p instanceof Fd)return(0,it.of)(null);throw p}))),ma(d=>!!d),ga(d=>{if(ZE(d))return function bR(n,t,e){return 0===t.length&&!n.children[e]}(i,r,s)?(0,it.of)([]):Pd(i);throw d}))}processSegmentAgainstRoute(t,e,i,r,s,c,d){return function vR(n,t,e,i){return!!($o(n)===i||i!==jt&&Gy(t,e,n))&&("**"===n.path||Qw(t,n,e).matched)}(i,r,s,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,s,c,d):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,s,c):Pd(r):Pd(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Zw(s):this.applyRedirects.lineralizeSegments(i,s).pipe((0,Li.z)(c=>{const d=new In(c,{});return this.processSegment(t,e,d,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c){const{matched:d,consumedSegments:p,remainingSegments:y,positionalParamSegments:w}=Qw(e,r,s);if(!d)return Pd(e);const E=this.applyRedirects.applyRedirectCommands(p,r.redirectTo,w);return r.redirectTo.startsWith("/")?Zw(E):this.applyRedirects.lineralizeSegments(r,E).pipe((0,Li.z)(T=>this.processSegment(t,i,e,T.concat(y),c,!1)))}matchSegmentAgainstRoute(t,e,i,r,s,c){let d;if("**"===i.path){const p=r.length>0?bs(r).parameters:{},y=new Md(r,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Qm(i),$o(i),i.component??i._loadedComponent??null,i,Ja(i));d=(0,it.of)({snapshot:y,consumedSegments:[],remainingSegments:[]}),e.children={}}else d=gR(e,i,r,t).pipe((0,We.U)(({matched:p,consumedSegments:y,remainingSegments:w,parameters:E})=>p?{snapshot:new Md(y,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Qm(i),$o(i),i.component??i._loadedComponent??null,i,Ja(i)),consumedSegments:y,remainingSegments:w}:null));return d.pipe((0,xn.w)(p=>null===p?Pd(e):this.getChildConfig(t=i._injector??t,i,r).pipe((0,xn.w)(({routes:y})=>{const w=i._loadedInjector??t,{snapshot:E,consumedSegments:T,remainingSegments:F}=p,{segmentGroup:B,slicedSegments:$}=JE(e,T,F,y);if(0===$.length&&B.hasChildren())return this.processChildren(w,y,B).pipe((0,We.U)(De=>null===De?null:[new mr(E,De)]));if(0===y.length&&0===$.length)return(0,it.of)([new mr(E,[])]);const K=$o(i)===s;return this.processSegment(w,y,B,$,K?jt:s,!0).pipe((0,We.U)(De=>[new mr(E,De)]))}))))}getChildConfig(t,e,i){return e.children?(0,it.of)({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?(0,it.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function Ww(n,t,e,i){const r=t.canLoad;if(void 0===r||0===r.length)return(0,it.of)(!0);const s=r.map(c=>{const d=kd(c,n);return Hs(function Vy(n){return n&&bf(n.canLoad)}(d)?d.canLoad(t,e):n.runInContext(()=>d(t,e)))});return(0,it.of)(s).pipe(Od(),QE())}(t,e,i).pipe((0,Li.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,Kn.b)(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function Nd(n){return $n(iu(!1,3))}())):(0,it.of)({routes:[],injector:t})}}function xR(n){const t=n.value.routeConfig;return t&&""===t.path}function tS(n){const t=[],e=new Set;for(const i of n){if(!xR(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=tS(i.children);t.push(new mr(i.value,r))}return t.filter(i=>!e.has(i))}function Qm(n){return n.data||{}}function Ja(n){return n.resolve||{}}function DR(n){return"string"==typeof n.title||null===n.title}function Jm(n){return(0,xn.w)(t=>{const e=n(t);return e?(0,sn.D)(e).pipe((0,We.U)(()=>t)):(0,it.of)(t)})}const ru=new o.OlP("ROUTES");let sS=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,o.f3M)(o.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,it.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Hs(e.loadComponent()).pipe((0,We.U)(Xw),(0,Kn.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Im(()=>{this.componentLoaders.delete(e)})),r=new Ni(i,()=>new Ke.x).pipe(mo());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,it.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,We.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(i);let p,y;return Array.isArray(d)?y=d:(p=d.create(e).injector,y=p.get(ru,[],o.XFs.Self|o.XFs.Optional).flat()),{routes:y.map(Ym),injector:p}}),Im(()=>{this.childrenLoaders.delete(i)})),c=new Ni(s,()=>new Ke.x).pipe(mo());return this.childrenLoaders.set(i,c),c}loadModuleFactoryOrRoutes(e){return Hs(e()).pipe((0,We.U)(Xw),(0,Li.z)(i=>i instanceof o.YKP||Array.isArray(i)?(0,it.of)(i):(0,sn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Xw(n){return function nB(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let jy=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ke.x,this.configLoader=(0,o.f3M)(sS),this.environmentInjector=(0,o.f3M)(o.lqb),this.urlSerializer=(0,o.f3M)(wd),this.rootContexts=(0,o.f3M)(_a),this.inputBindingEnabled=null!==(0,o.f3M)(pe,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,it.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Um(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Vm(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new Jt.X({id:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Za,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(kn(i=>0!==i.id),(0,We.U)(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),(0,xn.w)(i=>{let r=!1,s=!1;return(0,it.of)(i).pipe((0,Kn.b)(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,xn.w)(c=>{const d=e.browserUrlTree.toString(),p=!e.navigated||c.extractedUrl.toString()!==d||d!==e.currentUrlTree.toString();if(!p&&"reload"!==(c.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const w="";return this.events.next(new or(c.id,e.serializeUrl(i.rawUrl),w,0)),e.rawUrlTree=c.rawUrl,c.resolve(null),vn.E}if(e.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return oS(c.source)&&(e.browserUrlTree=c.extractedUrl),(0,it.of)(c).pipe((0,xn.w)(w=>{const E=this.transitions?.getValue();return this.events.next(new ff(w.id,this.urlSerializer.serialize(w.extractedUrl),w.source,w.restoredState)),E!==this.transitions?.getValue()?vn.E:Promise.resolve(w)}),function Xm(n,t,e,i,r,s){return(0,Li.z)(c=>function wR(n,t,e,i,r,s,c="emptyOnly"){return new eS(n,t,e,i,r,c,s).recognize()}(n,t,e,i,c.extractedUrl,r,s).pipe((0,We.U)(({state:d,tree:p})=>({...c,targetSnapshot:d,urlAfterRedirects:p}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,Kn.b)(w=>{if(i.targetSnapshot=w.targetSnapshot,i.urlAfterRedirects=w.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:w.urlAfterRedirects},"eager"===e.urlUpdateStrategy){if(!w.extras.skipLocationChange){const T=e.urlHandlingStrategy.merge(w.urlAfterRedirects,w.rawUrl);e.setBrowserUrl(T,w)}e.browserUrlTree=w.urlAfterRedirects}const E=new Sd(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(E)}));if(p&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:w,extractedUrl:E,source:T,restoredState:F,extras:B}=c,$=new ff(w,this.urlSerializer.serialize(E),T,F);this.events.next($);const K=Py(0,this.rootComponentType).snapshot;return i={...c,targetSnapshot:K,urlAfterRedirects:E,extras:{...B,skipLocationChange:!1,replaceUrl:!1}},(0,it.of)(i)}{const w="";return this.events.next(new or(c.id,e.serializeUrl(i.extractedUrl),w,1)),e.rawUrlTree=c.rawUrl,c.resolve(null),vn.E}}),(0,Kn.b)(c=>{const d=new pf(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),(0,We.U)(c=>i={...c,guards:$E(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function KE(n,t){return(0,Li.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:c}}=e;return 0===c.length&&0===s.length?(0,it.of)({...e,guardsResult:!0}):function Hy(n,t,e,i){return(0,sn.D)(n).pipe((0,Li.z)(r=>function pR(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,it.of)(!0);const c=s.map(d=>{const p=vf(t)??r,y=kd(d,p);return Hs(function Zm(n){return n&&bf(n.canDeactivate)}(y)?y.canDeactivate(n,t,e,i):p.runInContext(()=>y(n,t,e,i))).pipe(ma())});return(0,it.of)(c).pipe(Od())}(r.component,r.route,e,t,i)),ma(r=>!0!==r,!0))}(c,i,r,n).pipe((0,Li.z)(d=>d&&function $w(n){return"boolean"==typeof n}(d)?function Yw(n,t,e,i){return(0,sn.D)(t).pipe(go(r=>ft(function hR(n,t){return null!==n&&t&&t(new Ka(n)),(0,it.of)(!0)}(r.route.parent,i),function wf(n,t){return null!==n&&t&&t(new Vw(n)),(0,it.of)(!0)}(r.route,i),function XL(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(c=>function qE(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(c)).filter(c=>null!==c).map(c=>Bt(()=>{const d=c.guards.map(p=>{const y=vf(c.node)??e,w=kd(p,y);return Hs(function qw(n){return n&&bf(n.canActivateChild)}(w)?w.canActivateChild(i,n):y.runInContext(()=>w(i,n))).pipe(ma())});return(0,it.of)(d).pipe(Od())}));return(0,it.of)(s).pipe(Od())}(n,r.path,e),function fR(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,it.of)(!0);const r=i.map(s=>Bt(()=>{const c=vf(t)??e,d=kd(s,c);return Hs(function WE(n){return n&&bf(n.canActivate)}(d)?d.canActivate(t,n):c.runInContext(()=>d(t,n))).pipe(ma())}));return(0,it.of)(r).pipe(Od())}(n,r.route,e))),ma(r=>!0!==r,!0))}(i,s,n,t):(0,it.of)(d)),(0,We.U)(d=>({...e,guardsResult:d})))})}(this.environmentInjector,c=>this.events.next(c)),(0,Kn.b)(c=>{if(i.guardsResult=c.guardsResult,Gs(c.guardsResult))throw Ql(0,c.guardsResult);const d=new Lm(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),kn(c=>!!c.guardsResult||(e.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),Jm(c=>{if(c.guards.canActivateChecks.length)return(0,it.of)(c).pipe((0,Kn.b)(d=>{const p=new Bm(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),(0,xn.w)(d=>{let p=!1;return(0,it.of)(d).pipe(function nS(n,t){return(0,Li.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return(0,it.of)(e);let s=0;return(0,sn.D)(r).pipe(go(c=>function iS(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!DR(r)&&(s[Go]=r.title),function rS(n,t,e,i){const r=function eB(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return(0,it.of)({});const s={};return(0,sn.D)(r).pipe((0,Li.z)(c=>function tB(n,t,e,i){const r=vf(t)??i,s=kd(n,r);return Hs(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[c],t,e,i).pipe(ma(),(0,Kn.b)(d=>{s[c]=d}))),my(1),function UE(n){return(0,We.U)(()=>n)}(s),ga(c=>ZE(c)?vn.E:$n(c)))}(s,n,t,i).pipe((0,We.U)(c=>(n._resolvedData=c,n.data=Hm(n,e).resolve,r&&DR(r)&&(n.data[Go]=r.title),null)))}(c.route,i,n,t)),(0,Kn.b)(()=>s++),my(1),(0,Li.z)(c=>s===r.length?(0,it.of)(e):vn.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,Kn.b)({next:()=>p=!0,complete:()=>{p||(e.restoreHistory(d),this.cancelNavigationTransition(d,"",2))}}))}),(0,Kn.b)(d=>{const p=new Bw(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),Jm(c=>{const d=p=>{const y=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(p.routeConfig).pipe((0,Kn.b)(w=>{p.component=w}),(0,We.U)(()=>{})));for(const w of p.children)y.push(...d(w));return y};return A(d(c.targetSnapshot.root)).pipe(pa(),An(1))}),Jm(()=>this.afterPreactivation()),(0,We.U)(c=>{const d=function rt(n,t,e){const i=Dt(n,t._root,e?e._root:void 0);return new mf(i,t)}(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return i={...c,targetRouterState:d}}),(0,Kn.b)(c=>{e.currentUrlTree=c.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),e.routerState=c.targetRouterState,"deferred"===e.urlUpdateStrategy&&(c.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,c),e.browserUrlTree=c.urlAfterRedirects)}),((n,t,e,i)=>(0,We.U)(r=>(new QL(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),An(1),(0,Kn.b)({next:c=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new Jr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{r=!0}}),Im(()=>{r||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),ga(c=>{if(s=!0,zm(c)){_f(c)||(e.navigated=!0,e.restoreHistory(i,!0));const d=new Ed(i.id,this.urlSerializer.serialize(i.extractedUrl),c.message,c.cancellationCode);if(this.events.next(d),_f(c)){const p=e.urlHandlingStrategy.merge(c.url,e.rawUrlTree),y={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||oS(i.source)};e.scheduleNavigation(p,Za,null,y,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const d=new jo(i.id,this.urlSerializer.serialize(i.extractedUrl),c,i.targetSnapshot??void 0);this.events.next(d);try{i.resolve(e.errorHandler(c))}catch(p){i.reject(p)}}return vn.E}))}))}cancelNavigationTransition(e,i,r){const s=new Ed(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(s),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function oS(n){return n!==Za}let aS=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===jt);return i}getResolvedTitleForRoute(e){return e.data[Go]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(ER)},providedIn:"root"}),n})(),ER=(()=>{class n extends aS{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(md))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(cS)},providedIn:"root"}),n})();class $y{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let cS=(()=>{class n extends $y{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xf=new o.OlP("",{providedIn:"root",factory:()=>({})});let SR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(Ld)},providedIn:"root"}),n})(),Ld=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var eg=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(eg||{});function uS(n,t){n.events.pipe(kn(e=>e instanceof Jr||e instanceof Ed||e instanceof jo||e instanceof or),(0,We.U)(e=>e instanceof Jr||e instanceof or?eg.COMPLETE:e instanceof Ed&&(0===e.code||1===e.code)?eg.REDIRECTING:eg.FAILED),kn(e=>e!==eg.REDIRECTING),An(1)).subscribe(()=>{t()})}function dS(n){throw n}function hS(n,t,e){return t.parse("/")}const AR={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IR={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Yi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,o.f3M)(o.c2e),this.isNgZoneEnabled=!1,this.options=(0,o.f3M)(xf,{optional:!0})||{},this.pendingTasks=(0,o.f3M)(o.HDt),this.errorHandler=this.options.errorHandler||dS,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||hS,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,o.f3M)(SR),this.routeReuseStrategy=(0,o.f3M)(lS),this.titleStrategy=(0,o.f3M)(aS),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,o.f3M)(ru,{optional:!0})?.flat()??[],this.navigationTransitions=(0,o.f3M)(jy),this.urlSerializer=(0,o.f3M)(wd),this.location=(0,o.f3M)(Ye),this.componentInputBindingEnabled=!!(0,o.f3M)(pe,{optional:!0}),this.isNgZoneEnabled=(0,o.f3M)(o.R0b)instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new zs,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Py(0,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId??0},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Za,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const s={replaceUrl:!0},c=r?.navigationId?r:null;if(r){const p={...r};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(s.state=p)}const d=this.parseUrl(e);this.scheduleNavigation(d,i,c,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Ym),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:c,queryParamsHandling:d,preserveFragment:p}=i,y=p?this.currentUrlTree.fragment:c;let E,w=null;switch(d){case"merge":w={...this.currentUrlTree.queryParams,...s};break;case"preserve":w=this.currentUrlTree.queryParams;break;default:w=s||null}null!==w&&(w=this.removeEmptyProps(w));try{E=Ay(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),E=this.currentUrlTree.root}return eu(E,e,w,y??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Gs(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Za,null,i)}navigate(e,i={skipLocationChange:!1}){return function MR(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new o.vHH(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...AR}:!1===i?{...IR}:i,Gs(e))return Yc(this.currentUrlTree,e,r);const s=this.parseUrl(e);return Yc(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(e,i,r,s,c){if(this.disposed)return Promise.resolve(!1);let d,p,y;c?(d=c.resolve,p=c.reject,y=c.promise):y=new Promise((E,T)=>{d=E,p=T});const w=this.pendingTasks.add();return uS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(w))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:d,reject:p,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(E=>Promise.reject(E))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const c={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",c)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,(this.browserPageId??0)+1)};this.location.go(r,"",s)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tg=(()=>{class n{constructor(e,i,r,s,c,d){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=c,this.locationStrategy=d,this.href=null,this.commands=null,this.onChanges=new Ke.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const p=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===p||"area"===p,this.isAnchorElement?this.subscription=e.events.subscribe(y=>{y instanceof Jr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,s,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||s||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,o.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,e,i):r.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Yi),o.Y36(Xa),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(Ne))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&o.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",o.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",o.VuI],replaceUrl:["replaceUrl","replaceUrl",o.VuI],routerLink:"routerLink"},standalone:!0,features:[o.Xq5,o.TTD]}),n})();class Df{}let fS=(()=>{class n{constructor(e,i,r,s,c){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(kn(e=>e instanceof Jr),go(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,o.MMx)(s.providers,e,`Route: ${s.path}`));const c=s._injector??e,d=s._loadedInjector??c;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(c,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(d,s.children??s._loadedRoutes))}return(0,sn.D)(r).pipe((0,ke.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):(0,it.of)(null);const s=r.pipe((0,Li.z)(c=>null===c?(0,it.of)(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??e,c.routes))));if(i.loadComponent&&!i._loadedComponent){const c=this.loader.loadComponent(i);return(0,sn.D)([s,c]).pipe((0,ke.J)())}return s})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Yi),o.LFG(o.Sil),o.LFG(o.lqb),o.LFG(Df),o.LFG(sS))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yy=new o.OlP("");let Jw=(()=>{class n{constructor(e,i,r,s,c={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof ff?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Jr?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof or&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Fy&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Fy(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function el(n,t){return{\u0275kind:n,\u0275providers:t}}function yS(){const n=(0,o.f3M)(o.zs3);return t=>{const e=n.get(o.z2F);if(t!==e.components[0])return;const i=n.get(Yi),r=n.get(Wy);1===n.get(Zy)&&i.initialNavigation(),n.get(Ky,null,o.XFs.Optional)?.setUpPreloading(),n.get(Yy,null,o.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const Wy=new o.OlP("",{factory:()=>new Ke.x}),Zy=new o.OlP("",{providedIn:"root",factory:()=>1}),Ky=new o.OlP("");function Qy(n){return el(0,[{provide:Ky,useExisting:fS},{provide:Df,useExisting:n}])}const Xy=new o.OlP("ROUTER_FORROOT_GUARD"),kR=[Ye,{provide:wd,useClass:uf},Yi,_a,{provide:Xa,useFactory:function pS(n){return n.routerState.root},deps:[Yi]},sS,[]];function RR(){return new o.PXZ("Router",Yi)}let t0=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[kR,[],{provide:ru,multi:!0,useValue:e},{provide:Xy,useFactory:PR,deps:[[Yi,new o.FiY,new o.tp0]]},{provide:xf,useValue:i||{}},i?.useHash?{provide:Ne,useClass:Fe}:{provide:Ne,useClass:Ze},{provide:Yy,useFactory:()=>{const n=(0,o.f3M)(Il),t=(0,o.f3M)(o.R0b),e=(0,o.f3M)(xf),i=(0,o.f3M)(jy),r=(0,o.f3M)(wd);return e.scrollOffset&&n.setOffset(e.scrollOffset),new Jw(r,i,n,t,e)}},i?.preloadingStrategy?Qy(i.preloadingStrategy).\u0275providers:[],{provide:o.PXZ,multi:!0,useFactory:RR},i?.initialNavigation?n0(i):[],i?.bindToComponentInputs?el(8,[je,{provide:pe,useExisting:je}]).\u0275providers:[],[{provide:r0,useFactory:yS},{provide:o.tb,multi:!0,useExisting:r0}]]}}static forChild(e){return{ngModule:n,providers:[{provide:ru,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Xy,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function PR(n){return"guarded"}function n0(n){return["disabled"===n.initialNavigation?el(3,[{provide:o.ip1,multi:!0,useFactory:()=>{const t=(0,o.f3M)(Yi);return()=>{t.setUpLocationChangeListener()}}},{provide:Zy,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?el(2,[{provide:Zy,useValue:0},{provide:o.ip1,multi:!0,deps:[o.zs3],useFactory:t=>{const e=t.get(Ee,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(Yi),s=t.get(Wy);uS(r,()=>{i(!0)}),t.get(jy).afterPreactivation=()=>(i(!0),s.closed?(0,it.of)(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const r0=new o.OlP("");var Jy=P(6321),Mn=P(2994);function Sf(){return(0,ii.e)((n,t)=>{let e,i=!1;n.subscribe((0,Sn.x)(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}var _t,ev=P(3997),Wi=P(6304),su=(P(8443),P(3106)),_e=P(5861),Ur=P(4303),ws=P(4537),$s=P(7879),N=P(9058),DS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ya={},ES=ES||{},Vt=DS||self;function Af(){}function ng(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function ig(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var tv="closure_uid_"+(1e9*Math.random()>>>0),SS=0;function VR(n,t,e){return n.call.apply(n.bind,arguments)}function UR(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Cs(n,t,e){return(Cs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?VR:UR).apply(null,arguments)}function nv(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function gr(n,t){function e(){}e.prototype=t.prototype,n.X=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Wb=function(i,r,s){for(var c=Array(arguments.length-2),d=2;d<arguments.length;d++)c[d-2]=arguments[d];return t.prototype[r].apply(i,c)}}function tl(){this.s=this.s,this.o=this.o}tl.prototype.s=!1,tl.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function BR(n){Object.prototype.hasOwnProperty.call(n,tv)&&n[tv]||(n[tv]=++SS)}(this)},tl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const s0=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function rg(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function sg(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(ng(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let c=0;c<s;c++)n[r+c]=i[c]}else n.push(i)}}function ts(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}ts.prototype.h=function(){this.defaultPrevented=!0};var AS=function(){if(!Vt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Vt.addEventListener("test",Af,t),Vt.removeEventListener("test",Af,t)}catch{}return n}();function iv(n){return/^[\s\xa0]*$/.test(n)}var o0=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function IS(n,t){return n<t?-1:n>t?1:0}function rv(){var n=Vt.navigator;return n&&(n=n.userAgent)?n:""}function qs(n){return-1!=rv().indexOf(n)}function a0(n){return a0[" "](n),n}a0[" "]=Af;var ag,n,og=qs("Opera"),Mf=qs("Trident")||qs("MSIE"),l0=qs("Edge"),c0=l0||Mf,MS=qs("Gecko")&&!(-1!=rv().toLowerCase().indexOf("webkit")&&!qs("Edge"))&&!(qs("Trident")||qs("MSIE"))&&!qs("Edge"),zR=-1!=rv().toLowerCase().indexOf("webkit")&&!qs("Edge");function u0(){var n=Vt.document;return n?n.documentMode:void 0}e:{var lg="",Ud=(n=rv(),MS?/rv:([^\);]+)(\)|;)/.exec(n):l0?/Edge\/([\d\.]+)/.exec(n):Mf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):zR?/WebKit\/(\S+)/.exec(n):og?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Ud&&(lg=Ud?Ud[1]:""),Mf){var sv=u0();if(null!=sv&&sv>parseFloat(lg)){ag=String(sv);break e}}ag=lg}var uB={};var TS=Vt.document&&Mf&&(u0()||parseInt(ag,10))||void 0;function Tf(n,t){if(ts.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(MS){e:{try{a0(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:GR[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Tf.X.h.call(this)}}gr(Tf,ts);var GR={2:"touch",3:"pen",4:"mouse"};Tf.prototype.h=function(){Tf.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ug="closure_listenable_"+(1e6*Math.random()|0),jR=0;function $R(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ha=r,this.key=++jR,this.ba=this.ea=!1}function ov(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function h0(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function f0(n){const t={};for(const e in n)t[e]=n[e];return t}const Hd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nl(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<Hd.length;s++)e=Hd[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function dg(n){this.src=n,this.g={},this.h=0}function kS(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=s0(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(ov(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function p0(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ba&&s.listener==t&&s.capture==!!e&&s.ha==i)return r}return-1}dg.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=p0(n,t,i,r);return-1<c?(t=n[c],e||(t.ea=!1)):((t=new $R(t,this.src,s,!!i,r)).ea=e,n.push(t)),t};var RS="closure_lm_"+(1e6*Math.random()|0),OS={};function m0(n,t,e,i,r){if(i&&i.once)return _0(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)m0(n,t[s],e,i,r);return null}return e=cv(e),n&&n[ug]?n.N(t,e,ig(i)?!!i.capture:!!i,r):g0(n,t,e,!1,i,r)}function g0(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var c=ig(r)?!!r.capture:!!r,d=zt(n);if(d||(n[RS]=d=new dg(n)),(e=d.add(t,e,i,c,s)).proxy)return e;if(i=function dB(){const t=FS;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)AS||(r=c),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(y0(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function _0(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)_0(n,t[s],e,i,r);return null}return e=cv(e),n&&n[ug]?n.O(t,e,ig(i)?!!i.capture:!!i,r):g0(n,t,e,!0,i,r)}function hg(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)hg(n,t[s],e,i,r);else i=ig(i)?!!i.capture:!!i,e=cv(e),n&&n[ug]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=p0(s=n.g[t],e,i,r))&&(ov(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=zt(n))&&(t=n.g[t.toString()],n=-1,t&&(n=p0(t,e,i,r)),(e=-1<n?t[n]:null)&&av(e))}function av(n){if("number"!=typeof n&&n&&!n.ba){var t=n.src;if(t&&t[ug])kS(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(y0(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=zt(t))?(kS(e,n),0==e.h&&(e.src=null,t[RS]=null)):ov(n)}}}function y0(n){return n in OS?OS[n]:OS[n]="on"+n}function FS(n,t){if(n.ba)n=!0;else{t=new Tf(t,this);var e=n.listener,i=n.ha||n.src;n.ea&&av(n),n=e.call(i,t)}return n}function zt(n){return(n=n[RS])instanceof dg?n:null}var lv="__closure_events_fn_"+(1e9*Math.random()>>>0);function cv(n){return"function"==typeof n?n:(n[lv]||(n[lv]=function(t){return n.handleEvent(t)}),n[lv])}function Hr(){tl.call(this),this.i=new dg(this),this.P=this,this.I=null}function zr(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new ts(t,n);else if(t instanceof ts)t.target=t.target||n;else{var r=t;nl(t=new ts(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var c=t.g=e[s];r=fg(c,i,!0,t)&&r}if(r=fg(c=t.g=n,i,!0,t)&&r,r=fg(c,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=fg(c=t.g=e[s],i,!1,t)&&r}function fg(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var c=t[s];if(c&&!c.ba&&c.capture==e){var d=c.listener,p=c.ha||c.src;c.ea&&kS(n.i,c),r=!1!==d.call(p,i)&&r}}return r&&!i.defaultPrevented}gr(Hr,tl),Hr.prototype[ug]=!0,Hr.prototype.removeEventListener=function(n,t,e,i){hg(this,n,t,e,i)},Hr.prototype.M=function(){if(Hr.X.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)ov(e[i]);delete n.g[t],n.h--}}this.I=null},Hr.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Hr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var v0=Vt.JSON.stringify;function qR(){var n=ec;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var VS,NS=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new LS,n=>n.reset());class LS{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function YR(n){Vt.setTimeout(()=>{throw n},0)}function BS(n,t){VS||function US(){var n=Vt.Promise.resolve(void 0);VS=function(){n.then(kf)}}(),uv||(VS(),uv=!0),ec.add(n,t)}var uv=!1,ec=new class PS{constructor(){this.h=this.g=null}add(t,e){const i=NS.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function kf(){for(var n;n=qR();){try{n.h.call(n.g)}catch(e){YR(e)}var t=NS;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}uv=!1}function pg(n,t){Hr.call(this),this.h=n||1,this.g=t||Vt,this.j=Cs(this.lb,this),this.l=Date.now()}function b0(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Rf(n,t,e){if("function"==typeof n)e&&(n=Cs(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Cs(n.handleEvent,n)}return 2147483647<Number(t)?-1:Vt.setTimeout(n,t||0)}function zd(n){n.g=Rf(()=>{n.g=null,n.i&&(n.i=!1,zd(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}gr(pg,Hr),(_t=pg.prototype).ca=!1,_t.R=null,_t.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),zr(this,"tick"),this.ca&&(b0(this),this.start()))}},_t.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},_t.M=function(){pg.X.M.call(this),b0(this),delete this.g};class w0 extends tl{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:zd(this)}M(){super.M(),this.g&&(Vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tc(n){tl.call(this),this.h=n,this.g={}}gr(tc,tl);var C0=[];function dv(n,t,e,i){Array.isArray(e)||(e&&(C0[0]=e.toString()),e=C0);for(var r=0;r<e.length;r++){var s=m0(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function hv(n){h0(n.g,function(t,e){this.g.hasOwnProperty(e)&&av(t)},n),n.g={}}function Of(){this.g=!0}function Ff(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function ZR(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<r.length;c++)r[c]=""}}}return v0(e)}catch{return t}}(n,e)+(i?" "+i:"")})}tc.prototype.M=function(){tc.X.M.call(this),hv(this)},tc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Of.prototype.Aa=function(){this.g=!1},Of.prototype.info=function(){};var au={},zS=null;function fv(){return zS=zS||new Hr}function GS(n){ts.call(this,au.Pa,n)}function mg(n){const t=fv();zr(t,new GS(t))}function D0(n,t){ts.call(this,au.STAT_EVENT,n),this.stat=t}function ns(n){const t=fv();zr(t,new D0(t,n))}function jS(n,t){ts.call(this,au.Qa,n),this.size=t}function gg(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Vt.setTimeout(function(){n()},t)}au.Pa="serverreachability",gr(GS,ts),au.STAT_EVENT="statevent",gr(D0,ts),au.Qa="timingevent",gr(jS,ts);var is={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},$S={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function E0(){}function pv(){}E0.prototype.h=null;var I0,Pf={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function S0(){ts.call(this,"d")}function A0(){ts.call(this,"c")}function _g(){}function yg(n,t,e,i){this.l=n,this.j=t,this.m=e,this.U=i||1,this.S=new tc(this),this.O=M0,this.T=new pg(n=c0?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new qS}function qS(){this.i=null,this.g="",this.h=!1}gr(S0,ts),gr(A0,ts),gr(_g,E0),_g.prototype.g=function(){return new XMLHttpRequest},_g.prototype.i=function(){return{}},I0=new _g;var M0=45e3,T0={},mv={};function k0(n,t,e){n.K=1,n.v=yv(ba(t)),n.s=e,n.P=!0,YS(n,null)}function YS(n,t){n.F=Date.now(),vg(n),n.A=ba(n.v);var e=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),QS(e.i,"t",i),n.C=0,e=n.l.H,n.h=new qS,n.g=Zd(n.l,e?t:null,!n.s),0<n.N&&(n.L=new w0(Cs(n.La,n,n.g),n.N)),dv(n.S,n.g,"readystatechange",n.ib),t=n.H?f0(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,t)):(n.u="GET",n.g.da(n.A,n.u,null,t)),mg(),function HS(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var c="",d=s.split("&"),p=0;p<d.length;p++){var y=d[p].split("=");if(1<y.length){var w=y[0];y=y[1];var E=w.split("_");c=2<=E.length&&"type"==E[1]?c+(w+"=")+y+"&":c+(w+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function WS(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function va(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=R0(n,e),r==mv){4==t&&(n.o=4,ns(14),i=!1),Ff(n.j,n.m,null,"[Incomplete Response]");break}if(r==T0){n.o=4,ns(15),Ff(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Ff(n.j,n.m,r,null),Lf(n,r)}WS(n)&&r!=mv&&r!=T0&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,ns(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.$&&(n.$=!0,(t=n.l).g==n&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),fu(t),t.K=!0,ns(11))):(Ff(n.j,n.m,e,"[Invalid Chunked Response]"),lu(n),Nf(n))}function R0(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?mv:(e=Number(t.substring(e,i)),isNaN(e)?T0:(i+=1)+e>t.length?mv:(t=t.substr(i,e),n.C=i+e,t))}function vg(n){n.V=Date.now()+n.O,O0(n,n.O)}function O0(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=gg(Cs(n.gb,n),t)}function gv(n){n.B&&(Vt.clearTimeout(n.B),n.B=null)}function Nf(n){0==n.l.G||n.I||$d(n.l,n)}function lu(n){gv(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,b0(n.T),hv(n.S),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function Lf(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||z0(e.h,n)))if(!n.J&&z0(e.h,n)&&3==e.G){try{var i=e.Fa.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;nc(e),Hf(e)}Ig(e),ns(18)}}else e.Ba=r[1],0<e.Ba-e.T&&37500>r[2]&&e.L&&0==e.A&&!e.v&&(e.v=gg(Cs(e.cb,e),6e3));if(1>=H0(e.h)&&e.ja){try{e.ja()}catch{}e.ja=void 0}}else Yo(e,11)}else if((n.J||e.g==n)&&nc(e),!iv(t))for(r=e.Fa.g.parse(t),t=0;t<r.length;t++){let y=r[t];if(e.T=y[0],y=y[1],2==e.G)if("c"==y[0]){e.I=y[1],e.ka=y[2];const w=y[3];null!=w&&(e.ma=w,e.j.info("VER="+e.ma));const E=y[4];null!=E&&(e.Ca=E,e.j.info("SVER="+e.Ca));const T=y[5];null!=T&&"number"==typeof T&&0<T&&(e.J=i=1.5*T,e.j.info("backChannelRequestTimeoutMs_="+i)),i=e;const F=n.g;if(F){const B=F.g?F.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(B){var s=i.h;s.g||-1==B.indexOf("spdy")&&-1==B.indexOf("quic")&&-1==B.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(G0(s,s.h),s.h=null))}if(i.D){const $=F.g?F.g.getResponseHeader("X-HTTP-Session-Id"):null;$&&(i.za=$,ri(i.F,i.D,$))}}e.G=3,e.l&&e.l.xa(),e.$&&(e.P=Date.now()-n.F,e.j.info("Handshake RTT: "+e.P+"ms"));var c=n;if((i=e).sa=Wd(i,i.H?i.ka:null,i.V),c.J){Uf(i.h,c);var d=c,p=i.J;p&&d.setTimeout(p),d.B&&(gv(d),vg(d)),i.g=c}else yo(i);0<e.i.length&&_o(e)}else"stop"!=y[0]&&"close"!=y[0]||Yo(e,7);else 3==e.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?Yo(e,7):Z0(e):"noop"!=y[0]&&e.l&&e.l.wa(y),e.A=0)}mg()}catch{}}function P0(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(ng(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function hB(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(ng(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function F0(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(ng(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(_t=yg.prototype).setTimeout=function(n){this.O=n},_t.ib=function(n){n=n.target;const t=this.L;t&&3==du(n)?t.l():this.La(n)},_t.La=function(n){try{if(n==this.g)e:{const w=du(this.g);var t=this.g.Ea();if(this.g.aa(),!(3>w)&&(3!=w||c0||this.g&&(this.h.h||this.g.fa()||Y0(this.g)))){this.I||4!=w||7==t||mg(),gv(this);var e=this.g.aa();this.Y=e;t:if(WS(this)){var i=Y0(this.g);n="";var r=i.length,s=4==du(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){lu(this),Nf(this);var c="";break t}this.h.i=new Vt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==e,function x0(n,t,e,i,r,s,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.U,w,e),this.i){if(this.Z&&!this.J){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!iv(d)){var y=d;break t}}y=null}if(!(e=y)){this.i=!1,this.o=3,ns(12),lu(this),Nf(this);break e}Ff(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Lf(this,e)}this.P?(va(this,w,c),c0&&this.i&&3==w&&(dv(this.S,this.T,"tick",this.hb),this.T.start())):(Ff(this.j,this.m,c,null),Lf(this,c)),4==w&&lu(this),this.i&&!this.I&&(4==w?$d(this.l,this):(this.i=!1,vg(this)))}else 400==e&&0<c.indexOf("Unknown SID")?(this.o=3,ns(12)):(this.o=0,ns(13)),lu(this),Nf(this)}}}catch{}},_t.hb=function(){if(this.g){var n=du(this.g),t=this.g.fa();this.C<t.length&&(gv(this),va(this,n,t),this.i&&4!=n&&vg(this))}},_t.cancel=function(){this.I=!0,lu(this)},_t.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function WR(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(mg(),ns(17)),lu(this),this.o=2,Nf(this)):O0(this,this.V-n)};var N0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cu(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof cu){this.h=void 0!==t?t:n.h,qo(this,n.j),this.s=n.s,this.g=n.g,_v(this,n.m),this.l=n.l,t=n.i;var e=new wv;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),KS(this,e),this.o=n.o}else n&&(e=String(n).match(N0))?(this.h=!!t,qo(this,e[1]||"",!0),this.s=bg(e[2]||""),this.g=bg(e[3]||"",!0),_v(this,e[4]),this.l=bg(e[5]||"",!0),KS(this,e[6]||"",!0),this.o=bg(e[7]||"")):(this.h=!!t,this.i=new wv(null,this.h))}function ba(n){return new cu(n)}function qo(n,t,e){n.j=e?bg(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function _v(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function KS(n,t,e){t instanceof wv?(n.i=t,function XS(n,t){t&&!n.j&&(uu(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(B0(this,i),QS(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=wg(t,Cg)),n.i=new wv(t,n.h))}function ri(n,t,e){n.i.set(t,e)}function yv(n){return ri(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function bg(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function wg(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,fB),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function fB(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}cu.prototype.toString=function(){var n=[],t=this.j;t&&n.push(wg(t,L0,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(wg(t,L0,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(wg(e,"/"==e.charAt(0)?vv:QR,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",wg(e,bv)),n.join("")};var L0=/[#\/\?@]/g,QR=/[#\?:]/g,vv=/[#\?]/g,Cg=/[#\?@]/g,bv=/#/g;function wv(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function uu(n){n.g||(n.g=new Map,n.h=0,n.i&&function ZS(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function B0(n,t){uu(n),t=Bf(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function V0(n,t){return uu(n),t=Bf(n,t),n.g.has(t)}function QS(n,t,e){B0(n,t),0<e.length&&(n.i=null,n.g.set(Bf(n,t),rg(e)),n.h+=e.length)}function Bf(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function Vf(n){this.l=n||XR,n=Vt.PerformanceNavigationTiming?0<(n=Vt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Vt.g&&Vt.g.Ga&&Vt.g.Ga()&&Vt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(_t=wv.prototype).add=function(n,t){uu(this),this.i=null,n=Bf(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},_t.forEach=function(n,t){uu(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},_t.oa=function(){uu(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},_t.W=function(n){uu(this);let t=[];if("string"==typeof n)V0(this,n)&&(t=t.concat(this.g.get(Bf(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},_t.set=function(n,t){return uu(this),this.i=null,V0(this,n=Bf(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},_t.get=function(n,t){return n&&0<(n=this.W(n)).length?String(n[0]):t},_t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),c=this.W(i);for(i=0;i<c.length;i++){var r=s;""!==c[i]&&(r+="="+encodeURIComponent(String(c[i]))),n.push(r)}}return this.i=n.join("&")};var XR=10;function U0(n){return!!n.h||!!n.g&&n.g.size>=n.j}function H0(n){return n.h?1:n.g?n.g.size:0}function z0(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function G0(n,t){n.g?n.g.add(t):n.h=t}function Uf(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function eA(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return rg(n.i)}function tA(){}function JR(){this.g=new tA}function eO(n,t,e){const i=e||"";try{P0(n,function(r,s){let c=r;ig(r)&&(c=v0(r)),t.push(i+s+"="+encodeURIComponent(c))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function Cv(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function xg(n){this.l=n.ac||null,this.j=n.jb||!1}function xv(n,t){Hr.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=j0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vf.prototype.cancel=function(){if(this.i=eA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},tA.prototype.stringify=function(n){return Vt.JSON.stringify(n,void 0)},tA.prototype.parse=function(n){return Vt.JSON.parse(n,void 0)},gr(xg,E0),xg.prototype.g=function(){return new xv(this.l,this.j)},xg.prototype.i=function(n){return function(){return n}}({}),gr(xv,Hr);var j0=0;function $0(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Gd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Dg(n)}function Dg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(_t=xv.prototype).open=function(n,t){if(this.readyState!=j0)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Dg(this)},_t.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Vt).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},_t.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Gd(this)),this.readyState=j0},_t.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Dg(this)),this.g&&(this.readyState=3,Dg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Vt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$0(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},_t.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Gd(this):Dg(this),3==this.readyState&&$0(this)}},_t.Va=function(n){this.g&&(this.response=this.responseText=n,Gd(this))},_t.Ua=function(n){this.g&&(this.response=n,Gd(this))},_t.ga=function(){this.g&&Gd(this)},_t.setRequestHeader=function(n,t){this.v.append(n,t)},_t.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},_t.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(xv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Dv=Vt.JSON.parse;function Bi(n){Hr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=nA,this.K=this.L=!1}gr(Bi,Hr);var nA="",nO=/^https?$/i,iO=["POST","PUT"];function iA(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,rA(n),Eg(n)}function rA(n){n.D||(n.D=!0,zr(n,"complete"),zr(n,"error"))}function q0(n){if(n.h&&typeof ES<"u"&&(!n.C[1]||4!=du(n)||2!=n.aa()))if(n.v&&4==du(n))Rf(n.Ha,0,n);else if(zr(n,"readystatechange"),4==du(n)){n.h=!1;try{const d=n.aa();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===d){var r=String(n.H).match(N0)[1]||null;if(!r&&Vt.self&&Vt.self.location){var s=Vt.self.location.protocol;r=s.substr(0,s.length-1)}i=!nO.test(r?r.toLowerCase():"")}e=i}if(e)zr(n,"complete"),zr(n,"success");else{n.m=6;try{var c=2<du(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",rA(n)}}finally{Eg(n)}}}function Eg(n,t){if(n.g){sA(n);const e=n.g,i=n.C[0]?Af:null;n.g=null,n.C=null,t||zr(n,"ready");try{e.onreadystatechange=i}catch{}}}function sA(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Vt.clearTimeout(n.A),n.A=null)}function du(n){return n.g?n.g.readyState:0}function Y0(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case nA:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function W0(n){let t="";return h0(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function oA(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=W0(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):ri(n,t,e))}function hu(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function aA(n){this.Ca=0,this.i=[],this.j=new Of,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=hu("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=hu("baseRetryDelayMs",5e3,n),this.bb=hu("retryDelaySeedMs",1e4,n),this.$a=hu("forwardChannelMaxRetries",2,n),this.ta=hu("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new Vf(n&&n.concurrentRequestLimit),this.Fa=new JR,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Z0(n){if(lA(n),3==n.G){var t=n.U++,e=ba(n.F);ri(e,"SID",n.I),ri(e,"RID",t),ri(e,"TYPE","terminate"),wa(n,e),(t=new yg(n,n.j,t,void 0)).K=2,t.v=yv(ba(e)),e=!1,Vt.navigator&&Vt.navigator.sendBeacon&&(e=Vt.navigator.sendBeacon(t.v.toString(),"")),!e&&Vt.Image&&((new Image).src=t.v,e=!0),e||(t.g=Zd(t.l,null),t.g.da(t.v)),t.F=Date.now(),vg(t)}Yd(n)}function Hf(n){n.g&&(fu(n),n.g.cancel(),n.g=null)}function lA(n){Hf(n),n.u&&(Vt.clearTimeout(n.u),n.u=null),nc(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Vt.clearTimeout(n.m),n.m=null)}function _o(n){U0(n.h)||n.m||(n.m=!0,BS(n.Ja,n),n.C=0)}function Gr(n,t){var e;e=t?t.m:n.U++;const i=ba(n.F);ri(i,"SID",n.I),ri(i,"RID",e),ri(i,"AID",n.T),wa(n,i),n.o&&n.s&&oA(i,n.o,n.s),e=new yg(n,n.j,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.i=t.D.concat(n.i)),t=Ag(n,e,1e3),e.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),G0(n.h,e),k0(e,i,t)}function wa(n,t){n.ia&&h0(n.ia,function(e,i){ri(t,i,e)}),n.l&&P0({},function(e,i){ri(t,i,e)})}function Ag(n,t,e){e=Math.min(n.i.length,e);var i=n.l?Cs(n.l.Ra,n.l,n):null;e:{var r=n.i;let s=-1;for(;;){const c=["count="+e];-1==s?0<e?(s=r[0].h,c.push("ofs="+s)):s=0:c.push("ofs="+s);let d=!0;for(let p=0;p<e;p++){let y=r[p].h;const w=r[p].g;if(y-=s,0>y)s=Math.max(0,r[p].h-100),d=!1;else try{eO(w,c,"req"+y+"_")}catch{i&&i(w)}}if(d){i=c.join("&");break e}}}return n=n.i.splice(0,e),t.D=n,i}function yo(n){n.g||n.u||(n.Z=1,BS(n.Ia,n),n.A=0)}function Ig(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=gg(Cs(n.Ia,n),qd(n,n.A)),n.A++,0))}function fu(n){null!=n.B&&(Vt.clearTimeout(n.B),n.B=null)}function jd(n){n.g=new yg(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var t=ba(n.sa);ri(t,"RID","rpc"),ri(t,"SID",n.I),ri(t,"CI",n.L?"0":"1"),ri(t,"AID",n.T),ri(t,"TYPE","xmlhttp"),wa(n,t),n.o&&n.s&&oA(t,n.o,n.s),n.J&&n.g.setTimeout(n.J);var e=n.g;n=n.ka,e.K=1,e.v=yv(ba(t)),e.s=null,e.P=!0,YS(e,n)}function nc(n){null!=n.v&&(Vt.clearTimeout(n.v),n.v=null)}function $d(n,t){var e=null;if(n.g==t){nc(n),fu(n),n.g=null;var i=2}else{if(!z0(n.h,t))return;e=t.D,Uf(n.h,t),i=1}if(0!=n.G)if(n.pa=t.Y,t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;zr(i=fv(),new jS(i,e)),_o(n)}else yo(n);else if(3==(r=t.o)||0==r&&0<n.pa||!(1==i&&function Sg(n,t){return!(H0(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=t.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=gg(Cs(n.Ja,n,t),qd(n,n.C)),n.C++,0)))}(n,t)||2==i&&Ig(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),r){case 1:Yo(n,5);break;case 4:Yo(n,10);break;case 3:Yo(n,6);break;default:Yo(n,2)}}function qd(n,t){let e=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(e*=2),e*t}function Yo(n,t){if(n.j.info("Error code "+t),2==t){var e=null;n.l&&(e=null);var i=Cs(n.kb,n);e||(e=new cu("//www.google.com/images/cleardot.gif"),Vt.location&&"http"==Vt.location.protocol||qo(e,"https"),yv(e)),function tO(n,t){const e=new Of;if(Vt.Image){const i=new Image;i.onload=nv(Cv,e,i,"TestLoadImage: loaded",!0,t),i.onerror=nv(Cv,e,i,"TestLoadImage: error",!1,t),i.onabort=nv(Cv,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=nv(Cv,e,i,"TestLoadImage: timeout",!1,t),Vt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else ns(2);n.G=0,n.l&&n.l.va(t),Yd(n),lA(n)}function Yd(n){if(n.G=0,n.la=[],n.l){const t=eA(n.h);(0!=t.length||0!=n.i.length)&&(sg(n.la,t),sg(n.la,n.i),n.h.i.length=0,rg(n.i),n.i.length=0),n.l.ua()}}function Wd(n,t,e){var i=e instanceof cu?ba(e):new cu(e,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),_v(i,i.m);else{var r=Vt.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new cu(null,void 0);i&&qo(s,i),t&&(s.g=t),r&&_v(s,r),e&&(s.l=e),i=s}return t=n.za,(e=n.D)&&t&&ri(i,e,t),ri(i,"VER",n.ma),wa(n,i),i}function Zd(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Bi(e&&n.Da&&!n.ra?new xg({jb:!0}):n.ra)).Ka(n.H),t}function K0(){}function Mg(){if(Mf&&!(10<=Number(TS)))throw Error("Environmental error: no available transport.")}function Ys(n,t){Hr.call(this),this.g=new aA(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.S=n,(n=t&&t.Yb)&&!iv(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!iv(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Kd(this)}function Q0(n){S0.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function X0(){A0.call(this),this.status=1}function Kd(n){this.g=n}(_t=Bi.prototype).Ka=function(n){this.L=n},_t.da=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():I0.g(),this.C=function KR(n){return n.h||(n.h=n.i())}(this.u?this.u:I0),this.g.onreadystatechange=Cs(this.Ha,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(s){return void iA(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=Vt.FormData&&n instanceof Vt.FormData,!(0<=s0(iO,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,c]of e)this.g.setRequestHeader(s,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{sA(this),0<this.B&&((this.K=function rO(n){return Mf&&function d0(){return function If(n){var t=uB;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=o0(String(ag)).split("."),e=o0("9").split("."),i=Math.max(t.length,e.length);for(let c=0;0==n&&c<i;c++){var r=t[c]||"",s=e[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=IS(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||IS(0==r[2].length,0==s[2].length)||IS(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Cs(this.qa,this)):this.A=Rf(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){iA(this,s)}},_t.qa=function(){typeof ES<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zr(this,"timeout"),this.abort(8))},_t.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,zr(this,"complete"),zr(this,"abort"),Eg(this))},_t.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Eg(this,!0)),Bi.X.M.call(this)},_t.Ha=function(){this.s||(this.F||this.v||this.l?q0(this):this.fb())},_t.fb=function(){q0(this)},_t.aa=function(){try{return 2<du(this)?this.g.status:-1}catch{return-1}},_t.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},_t.Sa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),Dv(t)}},_t.Ea=function(){return this.m},_t.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(_t=aA.prototype).ma=8,_t.G=1,_t.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new yg(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=f0(s),nl(s,this.S)):s=this.S),null!==this.o||this.N||(r.H=s,s=null),this.O)e:{for(var t=0,e=0;e<this.i.length;e++){var i=this.i[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=Ag(this,r,t),ri(e=ba(this.F),"RID",n),ri(e,"CVER",22),this.D&&ri(e,"X-HTTP-Session-Id",this.D),wa(this,e),s&&(this.N?t="headers="+encodeURIComponent(String(W0(s)))+"&"+t:this.o&&oA(e,this.o,s)),G0(this.h,r),this.Ya&&ri(e,"TYPE","init"),this.O?(ri(e,"$req",t),ri(e,"SID","null"),r.Z=!0,k0(r,e,null)):k0(r,e,t),this.G=2}}else 3==this.G&&(n?Gr(this,n):0==this.i.length||U0(this.h)||Gr(this))},_t.Ia=function(){if(this.u=null,jd(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=gg(Cs(this.eb,this),n)}},_t.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ns(10),Hf(this),jd(this))},_t.cb=function(){null!=this.v&&(this.v=null,Hf(this),Ig(this),ns(19))},_t.kb=function(n){n?(this.j.info("Successfully pinged google.com"),ns(2)):(this.j.info("Failed to ping google.com"),ns(1))},(_t=K0.prototype).xa=function(){},_t.wa=function(){},_t.va=function(){},_t.ua=function(){},_t.Ra=function(){},Mg.prototype.g=function(n,t){return new Ys(n,t)},gr(Ys,Hr),Ys.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;ns(0),n.V=t,n.ia=e||{},n.L=n.Y,n.F=Wd(n,null,n.V),_o(n)},Ys.prototype.close=function(){Z0(this.g)},Ys.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=v0(n),n=e);t.i.push(new class{constructor(n,t){this.h=n,this.g=t}}(t.ab++,n)),3==t.G&&_o(t)},Ys.prototype.M=function(){this.g.l=null,delete this.j,Z0(this.g),delete this.g,Ys.X.M.call(this)},gr(Q0,S0),gr(X0,A0),gr(Kd,K0),Kd.prototype.xa=function(){zr(this.g,"a")},Kd.prototype.wa=function(n){zr(this.g,new Q0(n))},Kd.prototype.va=function(n){zr(this.g,new X0)},Kd.prototype.ua=function(){zr(this.g,"b")},Mg.prototype.createWebChannel=Mg.prototype.g,Ys.prototype.send=Ys.prototype.u,Ys.prototype.open=Ys.prototype.m,Ys.prototype.close=Ys.prototype.close,is.NO_ERROR=0,is.TIMEOUT=8,is.HTTP_ERROR=6,$S.COMPLETE="complete",pv.EventType=Pf,Pf.OPEN="a",Pf.CLOSE="b",Pf.ERROR="c",Pf.MESSAGE="d",Hr.prototype.listen=Hr.prototype.N,Bi.prototype.listenOnce=Bi.prototype.O,Bi.prototype.getLastError=Bi.prototype.Oa,Bi.prototype.getLastErrorCode=Bi.prototype.Ea,Bi.prototype.getStatus=Bi.prototype.aa,Bi.prototype.getResponseJson=Bi.prototype.Sa,Bi.prototype.getResponseText=Bi.prototype.fa,Bi.prototype.send=Bi.prototype.da,Bi.prototype.setWithCredentials=Bi.prototype.Ka;var cA=ya.createWebChannelTransport=function(){return new Mg},uA=ya.getStatEventTarget=function(){return fv()},Ev=ya.ErrorCode=is,J0=ya.EventType=$S,sO=ya.Event=au,oO=ya.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},pB=ya.FetchXmlHttpFactory=xg,Sv=ya.WebChannel=pv,aO=ya.XhrIo=Bi;const lO="@firebase/firestore";class Dr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Dr.UNAUTHENTICATED=new Dr(null),Dr.GOOGLE_CREDENTIALS=new Dr("google-credentials-uid"),Dr.FIRST_PARTY=new Dr("first-party-uid"),Dr.MOCK_USER=new Dr("mock-user");let Tg="9.16.0";const pu=new $s.Yd("@firebase/firestore");function eC(){return pu.logLevel}function Le(n,...t){if(pu.logLevel<=$s.in.DEBUG){const e=t.map(zf);pu.debug(`Firestore (${Tg}): ${n}`,...e)}}function ui(n,...t){if(pu.logLevel<=$s.in.ERROR){const e=t.map(zf);pu.error(`Firestore (${Tg}): ${n}`,...e)}}function ic(n,...t){if(pu.logLevel<=$s.in.WARN){const e=t.map(zf);pu.warn(`Firestore (${Tg}): ${n}`,...e)}}function zf(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function at(n="Unexpected state"){const t=`FIRESTORE (${Tg}) INTERNAL ASSERTION FAILED: `+n;throw ui(t),new Error(t)}function mt(n,t){n||at()}function Je(n,t){return n}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends N.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _r{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class hA{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class uO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Dr.UNAUTHENTICATED))}shutdown(){}}class tC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Av{constructor(t){this.t=t,this.currentUser=Dr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=y=>this.i!==r?(r=this.i,e(y)):Promise.resolve();let c=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new _r,t.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const y=c;t.enqueueRetryable((0,_e.Z)(function*(){yield y.promise,yield s(i.currentUser)}))},p=y=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(y=>p(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new _r)}},0),d()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(mt("string"==typeof i.accessToken),new hA(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return mt(null===t||"string"==typeof t),new Dr(t)}}class Iv{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r,this.type="FirstParty",this.user=Dr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(mt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class mB{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r}getToken(){return Promise.resolve(new Iv(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e(Dr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fA{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dO{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const i=s=>{null!=s.error&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.A;return this.A=s.token,Le("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?r(s):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(mt("string"==typeof e.token),this.A=e.token,new fA(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function hO(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class nC{static R(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=hO(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function $t(n,t){return n<t?-1:n>t?1:0}function Gf(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function iC(n){return n+"\0"}class di{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Oe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Oe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Oe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Oe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return di.fromMillis(Date.now())}static fromDate(t){return di.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new di(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?$t(this.nanoseconds,t.nanoseconds):$t(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Et{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Et(t)}static min(){return new Et(new di(0,0))}static max(){return new Et(new di(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class kg{constructor(t,e,i){void 0===e?e=0:e>t.length&&at(),void 0===i?i=t.length-e:i>t.length-e&&at(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===kg.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof kg?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),c=e.get(r);if(s<c)return-1;if(s>c)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class wn extends kg{construct(t,e,i){return new wn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Oe(ue.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new wn(e)}static emptyPath(){return new wn([])}}const fO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ai extends kg{construct(t,e,i){return new Ai(t,e,i)}static isValidIdentifier(t){return fO.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ai.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ai(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Oe(ue.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const d=t[r];if("\\"===d){if(r+1===t.length)throw new Oe(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Oe(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=p,r+=2}else"`"===d?(c=!c,r++):"."!==d||c?(i+=d,r++):(s(),r++)}if(s(),c)throw new Oe(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ai(e)}static emptyPath(){return new Ai([])}}class Qe{constructor(t){this.path=t}static fromPath(t){return new Qe(wn.fromString(t))}static fromName(t){return new Qe(wn.fromString(t).popFirst(5))}static empty(){return new Qe(wn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===wn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return wn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Qe(new wn(t.slice()))}}class jf{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function rC(n){return n.fields.find(t=>2===t.kind)}function il(n){return n.fields.filter(t=>2!==t.kind)}jf.UNKNOWN_ID=-1;class $f{constructor(t,e){this.fieldPath=t,this.kind=e}}class Rg{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Rg(0,rs.min())}}function gA(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Et.fromTimestamp(1e9===i?new di(e+1,0):new di(e,i));return new rs(r,Qe.empty(),t)}function _A(n){return new rs(n.readTime,n.key,-1)}class rs{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new rs(Et.min(),Qe.empty(),-1)}static max(){return new rs(Et.max(),Qe.empty(),-1)}}function qf(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Qe.comparator(n.documentKey,t.documentKey),0!==e?e:$t(n.largestBatchId,t.largestBatchId))}const Tv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function mu(n){return oC.apply(this,arguments)}function oC(){return oC=(0,_e.Z)(function*(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==Tv)throw n;Le("LocalStore","Unexpectedly lost primary lease")}),oC.apply(this,arguments)}class ce{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&at(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ce((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ce?e:ce.resolve(e)}catch(e){return ce.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ce.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ce.reject(e)}static resolve(t){return new ce((e,i)=>{e(t)})}static reject(t){return new ce((e,i)=>{i(t)})}static waitFor(t){return new ce((e,i)=>{let r=0,s=0,c=!1;t.forEach(d=>{++r,d.next(()=>{++s,c&&s===r&&e()},p=>i(p))}),c=!0,s===r&&e()})}static or(t){let e=ce.resolve(!1);for(const i of t)e=e.next(r=>r?ce.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new ce((i,r)=>{const s=t.length,c=new Array(s);let d=0;for(let p=0;p<s;p++){const y=p;e(t[y]).next(w=>{c[y]=w,++d,d===s&&i(c)},w=>r(w))}})}static doWhile(t,e){return new ce((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class Yf{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.P=new _r,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{e.error?this.P.reject(new Qd(t,e.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=kv(i.target.error);this.P.reject(new Qd(t,r))}}static open(t,e,i,r){try{return new Yf(e,t.transaction(r,i))}catch(s){throw new Qd(e,s)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||(Le("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new yA(e)}}class Wo{constructor(t,e,i){this.name=t,this.version=e,this.S=i,12.2===Wo.D((0,N.z$)())&&ui("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Le("SimpleDb","Removing database:",t),_u(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,N.hl)())return!1;if(Wo.N())return!0;const t=(0,N.z$)(),e=Wo.D(t),i=0<e&&e<10,r=Wo.k(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static N(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.O)}static M(t,e){return t.store(e)}static D(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(t){var e=this;return(0,_e.Z)(function*(){return e.db||(Le("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=c=>{i(c.target.result)},s.onblocked=()=>{r(new Qd(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=c=>{const d=c.target.error;r("VersionError"===d.name?new Oe(ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new Oe(ue.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new Qd(t,d))},s.onupgradeneeded=c=>{Le("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',c.oldVersion),e.S.$(c.target.result,s.transaction,c.oldVersion,e.version).next(()=>{Le("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,_e.Z)(function*(){const c="readonly"===e;let d=0;for(;;){++d;try{s.db=yield s.F(t);const p=Yf.open(s.db,t,c?"readonly":"readwrite",i),y=r(p).next(w=>(p.V(),w)).catch(w=>(p.abort(w),ce.reject(w))).toPromise();return y.catch(()=>{}),yield p.v,y}catch(p){const y=p,w="FirebaseError"!==y.name&&d<3;if(Le("SimpleDb","Transaction failed with error:",y.message,"Retrying:",w),s.close(),!w)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class aC{constructor(t){this.q=t,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(t){this.q=t}done(){this.U=!0}j(t){this.K=t}delete(){return _u(this.q.delete())}}class Qd extends Oe{constructor(t,e){super(ue.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function gu(n){return"IndexedDbTransactionError"===n.name}class yA{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Le("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),_u(i)}add(t){return Le("SimpleDb","ADD",this.store.name,t,t),_u(this.store.add(t))}get(t){return _u(this.store.get(t)).next(e=>(void 0===e&&(e=null),Le("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Le("SimpleDb","DELETE",this.store.name,t),_u(this.store.delete(t))}count(){return Le("SimpleDb","COUNT",this.store.name),_u(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.H(r,(c,d)=>{s.push(d)}).next(()=>s)}{const r=this.store.getAll(i.range);return new ce((s,c)=>{r.onerror=d=>{c(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}}J(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new ce((r,s)=>{i.onerror=c=>{s(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}Y(t,e){Le("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.X=!1;const r=this.cursor(i);return this.H(r,(s,c,d)=>d.delete())}Z(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.H(r,e)}tt(t){const e=this.cursor({});return new ce((i,r)=>{e.onerror=s=>{const c=kv(s.target.error);r(c)},e.onsuccess=s=>{const c=s.target.result;c?t(c.primaryKey,c.value).next(d=>{d?c.continue():i()}):i()}})}H(t,e){const i=[];return new ce((r,s)=>{t.onerror=c=>{s(c.target.error)},t.onsuccess=c=>{const d=c.target.result;if(!d)return void r();const p=new aC(d),y=e(d.primaryKey,d.value,p);if(y instanceof ce){const w=y.catch(E=>(p.done(),ce.reject(E)));i.push(w)}p.isDone?r():null===p.G?d.continue():d.continue(p.G)}}).next(()=>ce.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.X?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function _u(n){return new ce((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=kv(i.target.error);e(r)}})}let lC=!1;function kv(n){const t=Wo.D((0,N.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return lC||(lC=!0,setTimeout(()=>{throw i},0)),i}}return n}class pO{constructor(t,e){this.asyncQueue=t,this.et=e,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){var e=this;Le("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,_e.Z)(function*(){e.task=null;try{Le("IndexBackiller",`Documents written: ${yield e.et.st()}`)}catch(i){gu(i)?Le("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield mu(i)}yield e.nt(6e4)}))}}class vA{constructor(t,e){this.localStore=t,this.persistence=e}st(t=50){var e=this;return(0,_e.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.it(i,t))})()}it(t,e){const i=new Set;let r=e,s=!0;return ce.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(c=>{if(null!==c&&!i.has(c))return Le("IndexBackiller",`Processing collection: ${c}`),this.rt(t,c,r).next(d=>{r-=d,i.add(c)});s=!1})).next(()=>e-r)}rt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const c=s.changes;return this.localStore.indexManager.updateIndexEntries(t,c).next(()=>this.ot(r,s)).next(d=>(Le("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(t,e,d))).next(()=>c.size)}))}ot(t,e){let i=t;return e.changes.forEach((r,s)=>{const c=_A(s);qf(c,i)>0&&(i=c)}),new rs(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let Ws=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>i.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}return n.at=-1,n})();class bA{constructor(t,e,i,r,s,c,d,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.useFetchStreams=p}}class rl{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new rl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof rl&&t.projectId===this.projectId&&t.database===this.database}}function cC(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function yu(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function uC(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Wf(n){return null==n}function Zf(n){return 0===n&&1/n==-1/0}function dC(n){return"number"==typeof n&&Number.isInteger(n)&&!Zf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class ar{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new ar(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new ar(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return $t(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ar.EMPTY_BYTE_STRING=new ar("");const Rv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xs(n){if(mt(!!n),"string"==typeof n){let t=0;const e=Rv.exec(n);if(mt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Vi(n.seconds),nanos:Vi(n.nanos)}}function Vi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Xd(n){return"string"==typeof n?ar.fromBase64String(n):ar.fromUint8Array(n)}function Og(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function vu(n){const t=n.mapValue.fields.__previous_value__;return Og(t)?vu(t):t}function Jd(n){const t=xs(n.mapValue.fields.__local_write_time__.timestampValue);return new di(t.seconds,t.nanos)}const bu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Kf={nullValue:"NULL_VALUE"};function Qf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Og(n)?4:eh(n)?9007199254740991:10:at()}function rc(n,t){if(n===t)return!0;const e=Qf(n);if(e!==Qf(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Jd(n).isEqual(Jd(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=xs(i.timestampValue),c=xs(r.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Xd(n.bytesValue).isEqual(Xd(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Vi(i.geoPointValue.latitude)===Vi(r.geoPointValue.latitude)&&Vi(i.geoPointValue.longitude)===Vi(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Vi(i.integerValue)===Vi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Vi(i.doubleValue),c=Vi(r.doubleValue);return s===c?Zf(s)===Zf(c):isNaN(s)&&isNaN(c)}return!1}(n,t);case 9:return Gf(n.arrayValue.values||[],t.arrayValue.values||[],rc);case 10:return function(i,r){const s=i.mapValue.fields||{},c=r.mapValue.fields||{};if(cC(s)!==cC(c))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(void 0===c[d]||!rc(s[d],c[d])))return!1;return!0}(n,t);default:return at()}var r}function Fg(n,t){return void 0!==(n.values||[]).find(e=>rc(e,t))}function wu(n,t){if(n===t)return 0;const e=Qf(n),i=Qf(t);if(e!==i)return $t(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return $t(n.booleanValue,t.booleanValue);case 2:return function(r,s){const c=Vi(r.integerValue||r.doubleValue),d=Vi(s.integerValue||s.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,t);case 3:return hC(n.timestampValue,t.timestampValue);case 4:return hC(Jd(n),Jd(t));case 5:return $t(n.stringValue,t.stringValue);case 6:return function(r,s){const c=Xd(r),d=Xd(s);return c.compareTo(d)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const c=r.split("/"),d=s.split("/");for(let p=0;p<c.length&&p<d.length;p++){const y=$t(c[p],d[p]);if(0!==y)return y}return $t(c.length,d.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const c=$t(Vi(r.latitude),Vi(s.latitude));return 0!==c?c:$t(Vi(r.longitude),Vi(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const c=r.values||[],d=s.values||[];for(let p=0;p<c.length&&p<d.length;++p){const y=wu(c[p],d[p]);if(y)return y}return $t(c.length,d.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===bu.mapValue&&s===bu.mapValue)return 0;if(r===bu.mapValue)return 1;if(s===bu.mapValue)return-1;const c=r.fields||{},d=Object.keys(c),p=s.fields||{},y=Object.keys(p);d.sort(),y.sort();for(let w=0;w<d.length&&w<y.length;++w){const E=$t(d[w],y[w]);if(0!==E)return E;const T=wu(c[d[w]],p[y[w]]);if(0!==T)return T}return $t(d.length,y.length)}(n.mapValue,t.mapValue);default:throw at()}}function hC(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return $t(n,t);const e=xs(n),i=xs(t),r=$t(e.seconds,i.seconds);return 0!==r?r:$t(e.nanos,i.nanos)}function Xf(n){return Zi(n)}function Zi(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=xs(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Xd(n.bytesValue).toBase64():"referenceValue"in n?Qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const c of i.values||[])s?s=!1:r+=",",r+=Zi(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",c=!0;for(const d of r)c?c=!1:s+=",",s+=`${d}:${Zi(i.fields[d])}`;return s+"}"}(n.mapValue):at();var t}function Cu(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function fC(n){return!!n&&"integerValue"in n}function Pg(n){return!!n&&"arrayValue"in n}function pC(n){return!!n&&"nullValue"in n}function CA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ng(n){return!!n&&"mapValue"in n}function Jf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return yu(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Jf(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Jf(n.arrayValue.values[e]);return t}return Object.assign({},n)}function eh(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function mO(n){return"nullValue"in n?Kf:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Cu(rl.empty(),Qe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:at()}function gO(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Cu(rl.empty(),Qe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?bu:at()}function mC(n,t){const e=wu(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function xA(n,t){const e=wu(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class sc{constructor(t,e){this.position=t,this.inclusive=e}}function _O(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],c=n.position[r];if(i=s.field.isKeyField()?Qe.comparator(Qe.fromName(c.referenceValue),e.key):wu(c,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function Ov(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!rc(n.position[e],t.position[e]))return!1;return!0}class Fv{}class qt extends Fv{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new yO(t,e,i):"array-contains"===e?new bO(t,i):"in"===e?new yC(t,i):"not-in"===e?new wO(t,i):"array-contains-any"===e?new CO(t,i):new qt(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new vO(t,i):new _C(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(wu(e,this.value)):null!==e&&Qf(this.value)===Qf(e)&&this.matchesComparison(wu(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return at()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Vn extends Fv{constructor(t,e){super(),this.filters=t,this.op=e,this.ht=null}static create(t,e){return new Vn(t,e)}matches(t){return ep(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt(e=>e.isInequality());return null!==t?t.field:null}lt(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function ep(n){return"and"===n.op}function Zo(n){return"or"===n.op}function vo(n){return Ko(n)&&ep(n)}function Ko(n){for(const t of n.filters)if(t instanceof Vn)return!1;return!0}function Pv(n){if(n instanceof qt)return n.field.canonicalString()+n.op.toString()+Xf(n.value);if(vo(n))return n.filters.map(t=>Pv(t)).join(",");{const t=n.filters.map(e=>Pv(e)).join(",");return`${n.op}(${t})`}}function gC(n,t){return n instanceof qt?(e=n,(i=t)instanceof qt&&e.op===i.op&&e.field.isEqual(i.field)&&rc(e.value,i.value)):n instanceof Vn?function(e,i){return i instanceof Vn&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,s,c)=>r&&gC(s,i.filters[c]),!0)}(n,t):void at();var e,i}function DA(n,t){const e=n.filters.concat(t);return Vn.create(e,n.op)}function EA(n){return n instanceof qt?`${(t=n).field.canonicalString()} ${t.op} ${Xf(t.value)}`:n instanceof Vn?function(t){return t.op.toString()+" {"+t.getFilters().map(EA).join(" ,")+"}"}(n):"Filter";var t}class yO extends qt{constructor(t,e,i){super(t,e,i),this.key=Qe.fromName(i.referenceValue)}matches(t){const e=Qe.comparator(t.key,this.key);return this.matchesComparison(e)}}class vO extends qt{constructor(t,e){super(t,"in",e),this.keys=tp(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class _C extends qt{constructor(t,e){super(t,"not-in",e),this.keys=tp(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function tp(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Qe.fromName(i.referenceValue))}class bO extends qt{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Pg(e)&&Fg(e.arrayValue,this.value)}}class yC extends qt{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Fg(this.value.arrayValue,e)}}class wO extends qt{constructor(t,e){super(t,"not-in",e)}matches(t){if(Fg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Fg(this.value.arrayValue,e)}}class CO extends qt{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Pg(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Fg(this.value.arrayValue,i))}}class th{constructor(t,e="asc"){this.field=t,this.dir=e}}function SA(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class hi{constructor(t,e){this.comparator=t,this.root=e||Er.EMPTY}insert(t,e){return new hi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Er.BLACK,null,null))}remove(t){return new hi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Er.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Nv(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Nv(this.root,t,this.comparator,!1)}getReverseIterator(){return new Nv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Nv(this.root,t,this.comparator,!0)}}class Nv{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Er{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??Er.RED,this.left=r??Er.EMPTY,this.right=s??Er.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new Er(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Er.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Er.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Er.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw at();const t=this.left.check();if(t!==this.right.check())throw at();return t+(this.isRed()?0:1)}}Er.EMPTY=null,Er.RED=!0,Er.BLACK=!1,Er.EMPTY=new class{constructor(){this.size=0}get key(){throw at()}get value(){throw at()}get color(){throw at()}get left(){throw at()}get right(){throw at()}copy(n,t,e,i,r){return this}insert(n,t,e){return new Er(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Un{constructor(t){this.comparator=t,this.data=new hi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new vC(this.data.getIterator())}getIteratorFrom(t){return new vC(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Un)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Un(this.comparator);return e.data=t,e}}class vC{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function np(n){return n.hasNext()?n.getNext():void 0}class Zs{constructor(t){this.fields=t,t.sort(Ai.comparator)}static empty(){return new Zs([])}unionWith(t){let e=new Un(Ai.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Zs(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Gf(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class yr{constructor(t){this.value=t}static empty(){return new yr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Ng(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Jf(e)}setAll(t){let e=Ai.emptyPath(),i={},r=[];t.forEach((c,d)=>{if(!e.isImmediateParentOf(d)){const p=this.getFieldsMap(e);this.applyChanges(p,i,r),i={},r=[],e=d.popLast()}c?i[d.lastSegment()]=Jf(c):r.push(d.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());Ng(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return rc(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Ng(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){yu(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new yr(Jf(this.value))}}function Lg(n){const t=[];return yu(n.fields,(e,i)=>{const r=new Ai([e]);if(Ng(i)){const s=Lg(i.mapValue).fields;if(0===s.length)t.push(r);else for(const c of s)t.push(r.child(c))}else t.push(r)}),new Zs(t)}class si{constructor(t,e,i,r,s,c,d){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=c,this.documentState=d}static newInvalidDocument(t){return new si(t,0,Et.min(),Et.min(),Et.min(),yr.empty(),0)}static newFoundDocument(t,e,i,r){return new si(t,1,e,Et.min(),i,r,0)}static newNoDocument(t,e){return new si(t,2,e,Et.min(),Et.min(),yr.empty(),0)}static newUnknownDocument(t,e){return new si(t,3,e,Et.min(),Et.min(),yr.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Et.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=yr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=yr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof si&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new si(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class AA{constructor(t,e=null,i=[],r=[],s=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=c,this.endAt=d,this.ft=null}}function Lv(n,t=null,e=[],i=[],r=null,s=null,c=null){return new AA(n,t,e,i,r,s,c)}function xu(n){const t=Je(n);if(null===t.ft){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>Pv(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Wf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Xf(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Xf(i)).join(",")),t.ft=e}return t.ft}function ip(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!SA(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!gC(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Ov(n.startAt,t.startAt)&&Ov(n.endAt,t.endAt)}function Bg(n){return Qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Vg(n,t){return n.filters.filter(e=>e instanceof qt&&e.field.isEqual(t))}function bC(n,t,e){let i=Kf,r=!0;for(const s of Vg(n,t)){let c=Kf,d=!0;switch(s.op){case"<":case"<=":c=mO(s.value);break;case"==":case"in":case">=":c=s.value;break;case">":c=s.value,d=!1;break;case"!=":case"not-in":c=Kf}mC({value:i,inclusive:r},{value:c,inclusive:d})<0&&(i=c,r=d)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const c=e.position[s];mC({value:i,inclusive:r},{value:c,inclusive:e.inclusive})<0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}function wC(n,t,e){let i=bu,r=!0;for(const s of Vg(n,t)){let c=bu,d=!0;switch(s.op){case">=":case">":c=gO(s.value),d=!1;break;case"==":case"in":case"<=":c=s.value;break;case"<":c=s.value,d=!1;break;case"!=":case"not-in":c=bu}xA({value:i,inclusive:r},{value:c,inclusive:d})>0&&(i=c,r=d)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const c=e.position[s];xA({value:i,inclusive:r},{value:c,inclusive:e.inclusive})>0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}class oc{constructor(t,e=null,i=[],r=[],s=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=c,this.startAt=d,this.endAt=p,this.dt=null,this._t=null}}function IA(n,t,e,i,r,s,c,d){return new oc(n,t,e,i,r,s,c,d)}function rp(n){return new oc(n)}function MA(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function CC(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Bv(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function xC(n){return null!==n.collectionGroup}function nh(n){const t=Je(n);if(null===t.dt){t.dt=[];const e=Bv(t),i=CC(t);if(null!==e&&null===i)e.isKeyField()||t.dt.push(new th(e)),t.dt.push(new th(Ai.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t.dt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new th(Ai.keyField(),s))}}}return t.dt}function Ds(n){const t=Je(n);if(!t._t)if("F"===t.limitType)t._t=Lv(t.path,t.collectionGroup,nh(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of nh(t))e.push(new th(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new sc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new sc(t.startAt.position,t.startAt.inclusive):null;t._t=Lv(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t._t}function DC(n,t){t.getFirstInequalityField(),Bv(n);const e=n.filters.concat([t]);return new oc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Vv(n,t,e){return new oc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Ug(n,t){return ip(Ds(n),Ds(t))&&n.limitType===t.limitType}function TA(n){return`${xu(Ds(n))}|lt:${n.limitType}`}function EC(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>EA(i)).join(", ")}]`),Wf(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Xf(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Xf(i)).join(",")),`Target(${e})`}(Ds(n))}; limitType=${n.limitType})`}function SC(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):Qe.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of nh(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,c){const d=_O(r,s,c);return r.inclusive?d<=0:d<0}(e.startAt,nh(e),i)||e.endAt&&!function(r,s,c){const d=_O(r,s,c);return r.inclusive?d>=0:d>0}(e.endAt,nh(e),i)));var e,i}function kA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function RA(n){return(t,e)=>{let i=!1;for(const r of nh(n)){const s=OA(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function OA(n,t,e){const i=n.field.isKeyField()?Qe.comparator(t.key,e.key):function(r,s,c){const d=s.data.field(r),p=c.data.field(r);return null!==d&&null!==p?wu(d,p):at()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return at()}}function AC(n,t){if(n.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zf(t)?"-0":t}}function IC(n){return{integerValue:""+n}}function MC(n,t){return dC(t)?IC(t):AC(n,t)}class Hg{constructor(){this._=void 0}}function FA(n,t,e){return n instanceof ih?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof ac?Uv(n,t):n instanceof bo?NA(n,t):function(i,r){const s=TC(i,r),c=rh(s)+rh(i.gt);return fC(s)&&fC(i.gt)?IC(c):AC(i.yt,c)}(n,t)}function PA(n,t,e){return n instanceof ac?Uv(n,t):n instanceof bo?NA(n,t):e}function TC(n,t){return n instanceof sp?fC(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class ih extends Hg{}class ac extends Hg{constructor(t){super(),this.elements=t}}function Uv(n,t){const e=xO(t);for(const i of n.elements)e.some(r=>rc(r,i))||e.push(i);return{arrayValue:{values:e}}}class bo extends Hg{constructor(t){super(),this.elements=t}}function NA(n,t){let e=xO(t);for(const i of n.elements)e=e.filter(r=>!rc(r,i));return{arrayValue:{values:e}}}class sp extends Hg{constructor(t,e){super(),this.yt=t,this.gt=e}}function rh(n){return Vi(n.integerValue||n.doubleValue)}function xO(n){return Pg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class sh{constructor(t,e){this.field=t,this.transform=e}}class LA{constructor(t,e){this.version=t,this.transformResults=e}}class fi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new fi}static exists(t){return new fi(void 0,t)}static updateTime(t){return new fi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function kC(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class lc{}function BA(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new oh(n.key,fi.none()):new cc(n.key,n.data,fi.none());{const e=n.data,i=yr.empty();let r=new Un(Ai.comparator);for(let s of t.fields)if(!r.has(s)){let c=e.field(s);null===c&&s.length>1&&(s=s.popLast(),c=e.field(s)),null===c?i.delete(s):i.set(s,c),r=r.add(s)}return new Qo(n.key,i,new Zs(r.toArray()),fi.none())}}function DO(n,t,e){n instanceof cc?function(i,r,s){const c=i.value.clone(),d=EO(i.fieldTransforms,r,s.transformResults);c.setAll(d),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,t,e):n instanceof Qo?function(i,r,s){if(!kC(i.precondition,r))return void r.convertToUnknownDocument(s.version);const c=EO(i.fieldTransforms,r,s.transformResults),d=r.data;d.setAll(Es(i)),d.setAll(c),r.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function zg(n,t,e,i){return n instanceof cc?function(r,s,c,d){if(!kC(r.precondition,s))return c;const p=r.value.clone(),y=RC(r.fieldTransforms,d,s);return p.setAll(y),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null}(n,t,e,i):n instanceof Qo?function(r,s,c,d){if(!kC(r.precondition,s))return c;const p=RC(r.fieldTransforms,d,s),y=s.data;return y.setAll(Es(r)),y.setAll(p),s.convertToFoundDocument(s.version,y).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(w=>w.field))}(n,t,e,i):(c=e,kC(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c);var s,c}function op(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=TC(i.transform,r||null);null!=s&&(null===e&&(e=yr.empty()),e.set(i.field,s))}return e||null}function VA(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Gf(e,i,(r,s)=>function gB(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof ac&&i instanceof ac||e instanceof bo&&i instanceof bo?Gf(e.elements,i.elements,rc):e instanceof sp&&i instanceof sp?rc(e.gt,i.gt):e instanceof ih&&i instanceof ih);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class cc extends lc{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Qo extends lc{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Es(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function EO(n,t,e){const i=new Map;mt(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],c=s.transform,d=t.data.field(s.field);i.set(s.field,PA(c,d,e[r]))}return i}function RC(n,t,e){const i=new Map;for(const r of n){const s=r.transform,c=e.data.field(r.field);i.set(r.field,FA(s,c,t))}return i}class oh extends lc{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OC extends lc{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class UA{constructor(t){this.count=t}}var Ki,bn;function FC(n){switch(n){default:return at();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function HA(n){if(void 0===n)return ui("GRPC error has no .code"),ue.UNKNOWN;switch(n){case Ki.OK:return ue.OK;case Ki.CANCELLED:return ue.CANCELLED;case Ki.UNKNOWN:return ue.UNKNOWN;case Ki.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Ki.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Ki.INTERNAL:return ue.INTERNAL;case Ki.UNAVAILABLE:return ue.UNAVAILABLE;case Ki.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Ki.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Ki.NOT_FOUND:return ue.NOT_FOUND;case Ki.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Ki.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Ki.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Ki.ABORTED:return ue.ABORTED;case Ki.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Ki.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Ki.DATA_LOSS:return ue.DATA_LOSS;default:return at()}}(bn=Ki||(Ki={}))[bn.OK=0]="OK",bn[bn.CANCELLED=1]="CANCELLED",bn[bn.UNKNOWN=2]="UNKNOWN",bn[bn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bn[bn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bn[bn.NOT_FOUND=5]="NOT_FOUND",bn[bn.ALREADY_EXISTS=6]="ALREADY_EXISTS",bn[bn.PERMISSION_DENIED=7]="PERMISSION_DENIED",bn[bn.UNAUTHENTICATED=16]="UNAUTHENTICATED",bn[bn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bn[bn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bn[bn.ABORTED=10]="ABORTED",bn[bn.OUT_OF_RANGE=11]="OUT_OF_RANGE",bn[bn.UNIMPLEMENTED=12]="UNIMPLEMENTED",bn[bn.INTERNAL=13]="INTERNAL",bn[bn.UNAVAILABLE=14]="UNAVAILABLE",bn[bn.DATA_LOSS=15]="DATA_LOSS";class Du{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){yu(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return uC(this.inner)}size(){return this.innerSize}}const SO=new hi(Qe.comparator);function Sr(){return SO}const zA=new hi(Qe.comparator);function Gg(...n){let t=zA;for(const e of n)t=t.insert(e.key,e);return t}function GA(n){let t=zA;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function wo(){return ap()}function PC(){return ap()}function ap(){return new Du(n=>n.toString(),(n,t)=>n.isEqual(t))}const jA=new hi(Qe.comparator),AO=new Un(Qe.comparator);function Gt(...n){let t=AO;for(const e of n)t=t.add(e);return t}const jg=new Un($t);function Hv(){return jg}class $g{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,qg.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new $g(Et.min(),r,Hv(),Sr(),Gt())}}class qg{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new qg(i,e,Gt(),Gt(),Gt())}}class Yg{constructor(t,e,i,r){this.It=t,this.removedTargetIds=e,this.key=i,this.Tt=r}}class NC{constructor(t,e){this.targetId=t,this.Et=e}}class LC{constructor(t,e,i=ar.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class $A{constructor(){this.At=0,this.Rt=WA(),this.bt=ar.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(t){t.approximateByteSize()>0&&(this.vt=!0,this.bt=t)}Ct(){let t=Gt(),e=Gt(),i=Gt();return this.Rt.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:at()}}),new qg(this.bt,this.Pt,t,e,i)}xt(){this.vt=!1,this.Rt=WA()}Nt(t,e){this.vt=!0,this.Rt=this.Rt.insert(t,e)}kt(t){this.vt=!0,this.Rt=this.Rt.remove(t)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class qA{constructor(t){this.$t=t,this.Bt=new Map,this.Lt=Sr(),this.qt=YA(),this.Ut=new Un($t)}Kt(t){for(const e of t.It)t.Tt&&t.Tt.isFoundDocument()?this.Gt(e,t.Tt):this.Qt(e,t.key,t.Tt);for(const e of t.removedTargetIds)this.Qt(e,t.key,t.Tt)}jt(t){this.forEachTarget(t,e=>{const i=this.Wt(e);switch(t.state){case 0:this.zt(e)&&i.Dt(t.resumeToken);break;case 1:i.Mt(),i.Vt||i.xt(),i.Dt(t.resumeToken);break;case 2:i.Mt(),i.Vt||this.removeTarget(e);break;case 3:this.zt(e)&&(i.Ft(),i.Dt(t.resumeToken));break;case 4:this.zt(e)&&(this.Ht(e),i.Dt(t.resumeToken));break;default:at()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Bt.forEach((i,r)=>{this.zt(r)&&e(r)})}Jt(t){const e=t.targetId,i=t.Et.count,r=this.Yt(e);if(r){const s=r.target;if(Bg(s))if(0===i){const c=new Qe(s.path);this.Qt(e,c,si.newNoDocument(c,Et.min()))}else mt(1===i);else this.Xt(e)!==i&&(this.Ht(e),this.Ut=this.Ut.add(e))}}Zt(t){const e=new Map;this.Bt.forEach((s,c)=>{const d=this.Yt(c);if(d){if(s.current&&Bg(d.target)){const p=new Qe(d.target.path);null!==this.Lt.get(p)||this.te(c,p)||this.Qt(c,p,si.newNoDocument(p,t))}s.St&&(e.set(c,s.Ct()),s.xt())}});let i=Gt();this.qt.forEach((s,c)=>{let d=!0;c.forEachWhile(p=>{const y=this.Yt(p);return!y||2===y.purpose||(d=!1,!1)}),d&&(i=i.add(s))}),this.Lt.forEach((s,c)=>c.setReadTime(t));const r=new $g(t,e,this.Ut,this.Lt,i);return this.Lt=Sr(),this.qt=YA(),this.Ut=new Un($t),r}Gt(t,e){if(!this.zt(t))return;const i=this.te(t,e.key)?2:0;this.Wt(t).Nt(e.key,i),this.Lt=this.Lt.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ee(e.key).add(t))}Qt(t,e,i){if(!this.zt(t))return;const r=this.Wt(t);this.te(t,e)?r.Nt(e,1):r.kt(e),this.qt=this.qt.insert(e,this.ee(e).delete(t)),i&&(this.Lt=this.Lt.insert(e,i))}removeTarget(t){this.Bt.delete(t)}Xt(t){const e=this.Wt(t).Ct();return this.$t.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ot(t){this.Wt(t).Ot()}Wt(t){let e=this.Bt.get(t);return e||(e=new $A,this.Bt.set(t,e)),e}ee(t){let e=this.qt.get(t);return e||(e=new Un($t),this.qt=this.qt.insert(t,e)),e}zt(t){const e=null!==this.Yt(t);return e||Le("WatchChangeAggregator","Detected inactive target",t),e}Yt(t){const e=this.Bt.get(t);return e&&e.Vt?null:this.$t.ne(t)}Ht(t){this.Bt.set(t,new $A),this.$t.getRemoteKeysForTarget(t).forEach(e=>{this.Qt(t,e,null)})}te(t,e){return this.$t.getRemoteKeysForTarget(t).has(e)}}function YA(){return new hi(Qe.comparator)}function WA(){return new hi(Qe.comparator)}const _B={asc:"ASCENDING",desc:"DESCENDING"},yB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vB={and:"AND",or:"OR"};class bB{constructor(t,e){this.databaseId=t,this.wt=e}}function ah(n,t){return n.wt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Wg(n,t){return n.wt?t.toBase64():t.toUint8Array()}function IO(n,t){return ah(n,t.toTimestamp())}function Qi(n){return mt(!!n),Et.fromTimestamp(function(t){const e=xs(t);return new di(e.seconds,e.nanos)}(n))}function zv(n,t){return(e=n,new wn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function lp(n){const t=wn.fromString(n);return mt(tI(t)),t}function Zg(n,t){return zv(n.databaseId,t.path)}function sl(n,t){const e=lp(t);if(e.get(1)!==n.databaseId.projectId)throw new Oe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Oe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Qe(KA(e))}function BC(n,t){return zv(n.databaseId,t)}function ZA(n){const t=lp(n);return 4===t.length?wn.emptyPath():KA(t)}function Gv(n){return new wn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function KA(n){return mt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function VC(n,t,e){return{name:Zg(n,t),fields:e.value.mapValue.fields}}function QA(n,t,e){const i=sl(n,t.name),r=Qi(t.updateTime),s=t.createTime?Qi(t.createTime):Et.min(),c=new yr({mapValue:{fields:t.fields}}),d=si.newFoundDocument(i,r,s,c);return e&&d.setHasCommittedMutations(),e?d.setHasCommittedMutations():d}function Qg(n,t){let e;if(t instanceof cc)e={update:VC(n,t.key,t.value)};else if(t instanceof oh)e={delete:Zg(n,t.key)};else if(t instanceof Qo)e={update:VC(n,t.key,t.data),updateMask:GC(t.fieldMask)};else{if(!(t instanceof OC))return at();e={verify:Zg(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const c=s.transform;if(c instanceof ih)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof ac)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof bo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof sp)return{fieldPath:s.field.canonicalString(),increment:c.gt};throw at()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:IO(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:at()),e;var r}function jv(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?fi.updateTime(Qi(r.updateTime)):void 0!==r.exists?fi.exists(r.exists):fi.none():fi.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,c){let d=null;"setToServerValue"in c?(mt("REQUEST_TIME"===c.setToServerValue),d=new ih):"appendMissingElements"in c?d=new ac(c.appendMissingElements.values||[]):"removeAllFromArray"in c?d=new bo(c.removeAllFromArray.values||[]):"increment"in c?d=new sp(s,c.increment):at();const p=Ai.fromServerFormat(c.fieldPath);return new sh(p,d)}(n,r)):[];var r;if(t.update){const r=sl(n,t.update.name),s=new yr({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=new Zs((t.updateMask.fieldPaths||[]).map(y=>Ai.fromServerFormat(y)));return new Qo(r,s,c,e,i)}return new cc(r,s,e,i)}if(t.delete){const r=sl(n,t.delete);return new oh(r,e)}if(t.verify){const r=sl(n,t.verify);return new OC(r,e)}return at()}function UC(n,t){return{documents:[BC(n,t.path)]}}function HC(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=BC(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=BC(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0!==p.length)return eI(Vn.create(p,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const s=function(p){if(0!==p.length)return p.map(y=>{return{field:cp((w=y).field),direction:RO(w.dir)};var w})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const c=(y=t.limit,n.wt||Wf(y)?y:{value:y});var y,d,p;return null!==c&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt={before:(d=t.startAt).inclusive,values:d.position}),t.endAt&&(e.structuredQuery.endAt={before:!(p=t.endAt).inclusive,values:p.position}),e}function zC(n){let t=ZA(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){mt(1===i);const w=e.from[0];w.allDescendants?r=w.collectionId:t=t.child(w.collectionId)}let s=[];e.where&&(s=function(w){const E=$v(w);return E instanceof Vn&&vo(E)?E.getFilters():[E]}(e.where));let c=[];e.orderBy&&(c=e.orderBy.map(w=>{return new th(up((E=w).field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction));var E}));let d=null;e.limit&&(d=function(w){let E;return E="object"==typeof w?w.value:w,Wf(E)?null:E}(e.limit));let p=null;var w;e.startAt&&(p=new sc((w=e.startAt).values||[],!!w.before));let y=null;return e.endAt&&(y=function(w){return new sc(w.values||[],!w.before)}(e.endAt)),IA(t,r,c,s,d,"F",p,y)}function $v(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=up(t.unaryFilter.field);return qt.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=up(t.unaryFilter.field);return qt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=up(t.unaryFilter.field);return qt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=up(t.unaryFilter.field);return qt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return at()}}(n):void 0!==n.fieldFilter?qt.create(up((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return at()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Vn.create(t.compositeFilter.filters.map(e=>$v(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return at()}}(t.compositeFilter.op))}(n):at();var t}function RO(n){return _B[n]}function XA(n){return yB[n]}function JA(n){return vB[n]}function cp(n){return{fieldPath:n.canonicalString()}}function up(n){return Ai.fromServerFormat(n.fieldPath)}function eI(n){return n instanceof qt?function(t){if("=="===t.op){if(CA(t.value))return{unaryFilter:{field:cp(t.field),op:"IS_NAN"}};if(pC(t.value))return{unaryFilter:{field:cp(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(CA(t.value))return{unaryFilter:{field:cp(t.field),op:"IS_NOT_NAN"}};if(pC(t.value))return{unaryFilter:{field:cp(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cp(t.field),op:XA(t.op),value:t.value}}}(n):n instanceof Vn?function(t){const e=t.getFilters().map(i=>eI(i));return 1===e.length?e[0]:{compositeFilter:{op:JA(t.op),filters:e}}}(n):at()}function GC(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function tI(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ss(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=nI(t)),t=OO(n.get(e),t);return nI(t)}function OO(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function nI(n){return n+"\x01\x01"}function ol(n){const t=n.length;if(mt(t>=2),2===t)return mt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),wn.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const c=n.indexOf("\x01",s);switch((c<0||c>e)&&at(),n.charAt(c+1)){case"\x01":const d=n.substring(s,c);let p;0===r.length?p=d:(r+=d,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(s,c),r+="\0";break;case"\x11":r+=n.substring(s,c+1);break;default:at()}s=c+2}return new wn(i)}const iI=["userId","batchId"];function qv(n,t){return[n,ss(t)]}function rI(n,t,e){return[n,ss(t),e]}const FO={},PO=["prefixPath","collectionGroup","readTime","documentId"],sI=["prefixPath","collectionGroup","documentId"],oI=["collectionGroup","readTime","prefixPath","documentId"],NO=["canonicalId","targetId"],LO=["targetId","path"],aI=["path","targetId"],BO=["collectionId","parent"],VO=["indexId","uid"],UO=["uid","sequenceNumber"],jC=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],$C=["indexId","uid","orderedDocumentKey"],lI=["userId","collectionPath","documentId"],qC=["userId","collectionPath","largestBatchId"],HO=["userId","collectionGroup","largestBatchId"],cI=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],YC=[...cI,"documentOverlays"],uI=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],WC=uI,dp=[...WC,"indexConfiguration","indexState","indexEntries"];class Yv extends sC{constructor(t,e){super(),this.se=t,this.currentSequenceNumber=e}}function Ar(n,t){const e=Je(n);return Wo.M(e.se,t)}class dI{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&DO(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=zg(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=zg(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=PC();return this.mutations.forEach(r=>{const s=t.get(r.key),c=s.overlayedDocument;let d=this.applyToLocalView(c,s.mutatedFields);d=e.has(r.key)?null:d;const p=BA(c,d);null!==p&&i.set(r.key,p),c.isValidDocument()||c.convertToNoDocument(Et.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Gt())}isEqual(t){return this.batchId===t.batchId&&Gf(this.mutations,t.mutations,(e,i)=>VA(e,i))&&Gf(this.baseMutations,t.baseMutations,(e,i)=>VA(e,i))}}class Xg{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){mt(t.mutations.length===i.length);let r=jA;const s=t.mutations;for(let c=0;c<s.length;c++)r=r.insert(s[c].key,i[c].version);return new Xg(t,e,i,r)}}class Jg{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Eu{constructor(t,e,i,r,s=Et.min(),c=Et.min(),d=ar.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d}withSequenceNumber(t){return new Eu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Eu(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Eu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class ZC{constructor(t){this.ie=t}}function fI(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:e_(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:Zg(r=n.ie,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:ah(r,s.version.toTimestamp()),createTime:ah(r,s.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:uc(t.version)};else{if(!t.isUnknownDocument())return at();i.unknownDocument={path:e.path.toArray(),version:uc(t.version)}}var r,s;return i}function e_(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function uc(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Su(n){const t=new di(n.seconds,n.nanoseconds);return Et.fromTimestamp(t)}function Au(n,t){const e=(t.baseMutations||[]).map(s=>jv(n.ie,s));for(let s=0;s<t.mutations.length-1;++s)s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(t.mutations[s].updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s);const i=t.mutations.map(s=>jv(n.ie,s)),r=di.fromMillis(t.localWriteTimeMs);return new dI(t.batchId,r,e,i)}function hp(n){const t=Su(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Su(n.lastLimboFreeSnapshotVersion):Et.min();let i;var r;return void 0!==n.query.documents?(mt(1===(r=n.query).documents.length),i=Ds(rp(ZA(r.documents[0])))):i=Ds(zC(n.query)),new Eu(i,n.targetId,0,n.lastListenSequenceNumber,t,e,ar.fromBase64String(n.resumeToken))}function KC(n,t){const e=uc(t.snapshotVersion),i=uc(t.lastLimboFreeSnapshotVersion);let r;r=Bg(t.target)?UC(n.ie,t.target):HC(n.ie,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:xu(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function QC(n){const t=zC({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Vv(t,t.limit,"L"):t}function XC(n,t){return new Jg(t.largestBatchId,jv(n.ie,t.overlayMutation))}function pI(n,t){const e=t.path.lastSegment();return[n,ss(t.path.popLast()),e]}function mI(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:uc(i.readTime),documentKey:ss(i.documentKey.path),largestBatchId:i.largestBatchId}}class gI{getBundleMetadata(t,e){return zO(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Su(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return zO(t).put({bundleId:(i=e).id,createTime:uc(Qi(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return JC(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:QC(r.bundledQuery),readTime:Su(r.readTime)};var r})}saveNamedQuery(t,e){return JC(t).put({name:(i=e).name,readTime:uc(Qi(i.readTime)),bundledQuery:i.bundledQuery});var i}}function zO(n){return Ar(n,"bundles")}function JC(n){return Ar(n,"namedQueries")}class Wv{constructor(t,e){this.yt=t,this.userId=e}static re(t,e){return new Wv(t,e.uid||"")}getOverlay(t,e){return t_(t).get(pI(this.userId,e)).next(i=>i?XC(this.yt,i):null)}getOverlays(t,e){const i=wo();return ce.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,c)=>{const d=new Jg(e,c);r.push(this.oe(t,d))}),ce.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(c=>r.add(ss(c.getCollectionPath())));const s=[];return r.forEach(c=>{const d=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);s.push(t_(t).Y("collectionPathOverlayIndex",d))}),ce.waitFor(s)}getOverlaysForCollection(t,e,i){const r=wo(),s=ss(e),c=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return t_(t).W("collectionPathOverlayIndex",c).next(d=>{for(const p of d){const y=XC(this.yt,p);r.set(y.getKey(),y)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=wo();let c;const d=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return t_(t).Z({index:"collectionGroupOverlayIndex",range:d},(p,y,w)=>{const E=XC(this.yt,y);s.size()<r||E.largestBatchId===c?(s.set(E.getKey(),E),c=E.largestBatchId):w.done()}).next(()=>s)}oe(t,e){return t_(t).put(function(i,r,s){const[c,d,p]=pI(r,s.mutation.key);return{userId:r,collectionPath:d,documentId:p,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Qg(i.ie,s.mutation)}}(this.yt,this.userId,e))}}function t_(n){return Ar(n,"documentOverlays")}class fp{constructor(){}ue(t,e){this.ce(t,e),e.ae()}ce(t,e){if("nullValue"in t)this.he(e,5);else if("booleanValue"in t)this.he(e,10),e.le(t.booleanValue?1:0);else if("integerValue"in t)this.he(e,15),e.le(Vi(t.integerValue));else if("doubleValue"in t){const i=Vi(t.doubleValue);isNaN(i)?this.he(e,13):(this.he(e,15),Zf(i)?e.le(0):e.le(i))}else if("timestampValue"in t){const i=t.timestampValue;this.he(e,20),"string"==typeof i?e.fe(i):(e.fe(`${i.seconds||""}`),e.le(i.nanos||0))}else if("stringValue"in t)this.de(t.stringValue,e),this._e(e);else if("bytesValue"in t)this.he(e,30),e.we(Xd(t.bytesValue)),this._e(e);else if("referenceValue"in t)this.me(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.he(e,45),e.le(i.latitude||0),e.le(i.longitude||0)}else"mapValue"in t?eh(t)?this.he(e,Number.MAX_SAFE_INTEGER):(this.ge(t.mapValue,e),this._e(e)):"arrayValue"in t?(this.ye(t.arrayValue,e),this._e(e)):at()}de(t,e){this.he(e,25),this.pe(t,e)}pe(t,e){e.fe(t)}ge(t,e){const i=t.fields||{};this.he(e,55);for(const r of Object.keys(i))this.de(r,e),this.ce(i[r],e)}ye(t,e){const i=t.values||[];this.he(e,50);for(const r of i)this.ce(r,e)}me(t,e){this.he(e,37),Qe.fromName(t).path.forEach(i=>{this.he(e,60),this.pe(i,e)})}he(t,e){t.le(e)}_e(t){t.le(2)}}function GO(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function _I(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const s=GO(255&e[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(t/8)}fp.Ie=new fp;class jO{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ee(i.value),i=e.next();this.Ae()}Re(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.be(i.value),i=e.next();this.Pe()}ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{const r=e.codePointAt(0);this.Ee(240|r>>>18),this.Ee(128|63&r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r)}}this.Ae()}Ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{const r=e.codePointAt(0);this.be(240|r>>>18),this.be(128|63&r>>>12),this.be(128|63&r>>>6),this.be(128|63&r)}}this.Pe()}Se(t){const e=this.De(t),i=_I(e);this.Ce(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}xe(t){const e=this.De(t),i=_I(e);this.Ce(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(t){this.Ce(t.length),this.buffer.set(t,this.position),this.position+=t.length}Fe(){return this.buffer.slice(0,this.position)}De(t){const e=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ee(t){const e=255&t;0===e?(this.ke(0),this.ke(255)):255===e?(this.ke(255),this.ke(0)):this.ke(e)}be(t){const e=255&t;0===e?(this.Me(0),this.Me(255)):255===e?(this.Me(255),this.Me(0)):this.Me(t)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(t){this.Ce(1),this.buffer[this.position++]=t}Me(t){this.Ce(1),this.buffer[this.position++]=~t}Ce(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class yI{constructor(t){this.$e=t}we(t){this.$e.Te(t)}fe(t){this.$e.ve(t)}le(t){this.$e.Se(t)}ae(){this.$e.Ne()}}class $O{constructor(t){this.$e=t}we(t){this.$e.Re(t)}fe(t){this.$e.Ve(t)}le(t){this.$e.xe(t)}ae(){this.$e.Oe()}}class n_{constructor(){this.$e=new jO,this.Be=new yI(this.$e),this.Le=new $O(this.$e)}seed(t){this.$e.seed(t)}qe(t){return 0===t?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class lh{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ue(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new lh(this.indexId,this.documentKey,this.arrayValue,i)}}function Iu(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=vI(n.arrayValue,t.arrayValue),0!==e?e:(e=vI(n.directionalValue,t.directionalValue),0!==e?e:Qe.comparator(n.documentKey,t.documentKey)))}function vI(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class qO{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];for(const e of t.filters){const i=e;i.isInequality()?this.Qe=i:this.Ge.push(i)}}je(t){mt(t.collectionGroup===this.collectionId);const e=rC(t);if(void 0!==e&&!this.We(e))return!1;const i=il(t);let r=0,s=0;for(;r<i.length&&this.We(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Qe){const c=i[r];if(!this.ze(this.Qe,c)||!this.He(this.Ke[s++],c))return!1;++r}for(;r<i.length;++r)if(s>=this.Ke.length||!this.He(this.Ke[s++],i[r]))return!1;return!0}We(t){for(const e of this.Ge)if(this.ze(e,t))return!0;return!1}ze(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}He(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function bI(n){var t,e;if(mt(n instanceof qt||n instanceof Vn),n instanceof qt){if(n instanceof yC){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(s=>qt.create(n.field,"==",s)))||[];return Vn.create(r,"or")}return n}const i=n.filters.map(r=>bI(r));return Vn.create(i,n.op)}function YO(n){if(0===n.getFilters().length)return[];const t=Kv(bI(n));return mt(ex(t)),ch(t)||Zv(t)?[t]:t.getFilters()}function ch(n){return n instanceof qt}function Zv(n){return n instanceof Vn&&vo(n)}function ex(n){return ch(n)||Zv(n)||function(t){if(t instanceof Vn&&Zo(t)){for(const e of t.getFilters())if(!ch(e)&&!Zv(e))return!1;return!0}return!1}(n)}function Kv(n){if(mt(n instanceof qt||n instanceof Vn),n instanceof qt)return n;if(1===n.filters.length)return Kv(n.filters[0]);const t=n.filters.map(i=>Kv(i));let e=Vn.create(t,n.op);return e=i_(e),ex(e)?e:(mt(e instanceof Vn),mt(ep(e)),mt(e.filters.length>1),e.filters.reduce((i,r)=>Qv(i,r)))}function Qv(n,t){let e;return mt(n instanceof qt||n instanceof Vn),mt(t instanceof qt||t instanceof Vn),e=n instanceof qt?t instanceof qt?Vn.create([n,t],"and"):tx(n,t):t instanceof qt?tx(t,n):function(i,r){if(mt(i.filters.length>0&&r.filters.length>0),ep(i)&&ep(r))return DA(i,r.getFilters());const s=Zo(i)?i:r,c=Zo(i)?r:i,d=s.filters.map(p=>Qv(p,c));return Vn.create(d,"or")}(n,t),i_(e)}function tx(n,t){if(ep(t))return DA(t,n.getFilters());{const e=t.filters.map(i=>Qv(n,i));return Vn.create(e,"or")}}function i_(n){if(mt(n instanceof qt||n instanceof Vn),n instanceof qt)return n;const t=n.getFilters();if(1===t.length)return i_(t[0]);if(Ko(n))return n;const e=t.map(r=>i_(r)),i=[];return e.forEach(r=>{r instanceof qt?i.push(r):r instanceof Vn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Vn.create(i,n.op)}class WO{constructor(){this.Je=new wI}addToCollectionParentIndex(t,e){return this.Je.add(e),ce.resolve()}getCollectionParents(t,e){return ce.resolve(this.Je.getEntries(e))}addFieldIndex(t,e){return ce.resolve()}deleteFieldIndex(t,e){return ce.resolve()}getDocumentsMatchingTarget(t,e){return ce.resolve(null)}getIndexType(t,e){return ce.resolve(0)}getFieldIndexes(t,e){return ce.resolve([])}getNextCollectionGroupToUpdate(t){return ce.resolve(null)}getMinOffset(t,e){return ce.resolve(rs.min())}getMinOffsetFromCollectionGroup(t,e){return ce.resolve(rs.min())}updateCollectionGroup(t,e,i){return ce.resolve()}updateIndexEntries(t,e){return ce.resolve()}}class wI{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Un(wn.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Un(wn.comparator)).toArray()}}const nx=new Uint8Array(0);class CI{constructor(t,e){this.user=t,this.databaseId=e,this.Ye=new wI,this.Xe=new Du(i=>xu(i),(i,r)=>ip(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Ye.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Ye.add(e)});const s={collectionId:i,parent:ss(r)};return ix(t).put(s)}return ce.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[iC(e),""],!1,!0);return ix(t).W(r).next(s=>{for(const c of s){if(c.collectionId!==e)break;i.push(ol(c.parent))}return i})}addFieldIndex(t,e){const i=Xv(t),r={indexId:(c=e).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var c;delete r.indexId;const s=i.add(r);if(e.indexState){const c=s_(t);return s.next(d=>{c.put(mI(d,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=Xv(t),r=s_(t),s=r_(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=r_(t);let r=!0;const s=new Map;return ce.forEach(this.Ze(e),c=>this.tn(t,c).next(d=>{r&&(r=!!d),s.set(c,d)})).next(()=>{if(r){let c=Gt();const d=[];return ce.forEach(s,(p,y)=>{var w;Le("IndexedDbIndexManager",`Using index ${w=p,`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(Ge=>`${Ge.fieldPath}:${Ge.kind}`).join(",")}`} to execute ${xu(e)}`);const E=function(Ge,$e){const gt=rC($e);if(void 0===gt)return null;for(const Ct of Vg(Ge,gt.fieldPath))switch(Ct.op){case"array-contains-any":return Ct.value.arrayValue.values||[];case"array-contains":return[Ct.value]}return null}(y,p),T=function(Ge,$e){const gt=new Map;for(const Ct of il($e))for(const ln of Vg(Ge,Ct.fieldPath))switch(ln.op){case"==":case"in":gt.set(Ct.fieldPath.canonicalString(),ln.value);break;case"not-in":case"!=":return gt.set(Ct.fieldPath.canonicalString(),ln.value),Array.from(gt.values())}return null}(y,p),F=function(Ge,$e){const gt=[];let Ct=!0;for(const ln of il($e)){const hr=0===ln.kind?bC(Ge,ln.fieldPath,Ge.startAt):wC(Ge,ln.fieldPath,Ge.startAt);gt.push(hr.value),Ct&&(Ct=hr.inclusive)}return new sc(gt,Ct)}(y,p),B=function(Ge,$e){const gt=[];let Ct=!0;for(const ln of il($e)){const hr=0===ln.kind?wC(Ge,ln.fieldPath,Ge.endAt):bC(Ge,ln.fieldPath,Ge.endAt);gt.push(hr.value),Ct&&(Ct=hr.inclusive)}return new sc(gt,Ct)}(y,p),$=this.en(p,y,F),K=this.en(p,y,B),De=this.nn(p,y,T),ze=this.sn(p.indexId,E,$,F.inclusive,K,B.inclusive,De);return ce.forEach(ze,Ge=>i.J(Ge,e.limit).next($e=>{$e.forEach(gt=>{const Ct=Qe.fromSegments(gt.documentKey);c.has(Ct)||(c=c.add(Ct),d.push(Ct))})}))}).next(()=>d)}return ce.resolve(null)})}Ze(t){let e=this.Xe.get(t);return e||(e=0===t.filters.length?[t]:YO(Vn.create(t.filters,"and")).map(i=>Lv(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.Xe.set(t,e),e)}sn(t,e,i,r,s,c,d){const p=(null!=e?e.length:1)*Math.max(i.length,s.length),y=p/(null!=e?e.length:1),w=[];for(let E=0;E<p;++E){const T=e?this.rn(e[E/y]):nx,F=this.on(t,T,i[E%y],r),B=this.un(t,T,s[E%y],c),$=d.map(K=>this.on(t,T,K,!0));w.push(...this.createRange(F,B,$))}return w}on(t,e,i,r){const s=new lh(t,Qe.empty(),e,i);return r?s:s.Ue()}un(t,e,i,r){const s=new lh(t,Qe.empty(),e,i);return r?s.Ue():s}tn(t,e){const i=new qO(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let c=null;for(const d of s)i.je(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c})}getIndexType(t,e){let i=2;const r=this.Ze(e);return ce.forEach(r,s=>this.tn(t,s).next(c=>{c?0!==i&&c.fields.length<function(d){let p=new Un(Ai.comparator),y=!1;for(const w of d.filters)for(const E of w.getFlattenedFilters())E.field.isKeyField()||("array-contains"===E.op||"array-contains-any"===E.op?y=!0:p=p.add(E.field));for(const w of d.orderBy)w.field.isKeyField()||(p=p.add(w.field));return p.size+(y?1:0)}(s)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}cn(t,e){const i=new n_;for(const r of il(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const c=i.qe(r.kind);fp.Ie.ue(s,c)}return i.Fe()}rn(t){const e=new n_;return fp.Ie.ue(t,e.qe(0)),e.Fe()}an(t,e){const i=new n_;return fp.Ie.ue(Cu(this.databaseId,e),i.qe(function(r){const s=il(r);return 0===s.length?0:s[s.length-1].kind}(t))),i.Fe()}nn(t,e,i){if(null===i)return[];let r=[];r.push(new n_);let s=0;for(const c of il(t)){const d=i[s++];for(const p of r)if(this.hn(e,c.fieldPath)&&Pg(d))r=this.ln(r,c,d);else{const y=p.qe(c.kind);fp.Ie.ue(d,y)}}return this.fn(r)}en(t,e,i){return this.nn(t,e,i.position)}fn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Fe();return e}ln(t,e,i){const r=[...t],s=[];for(const c of i.arrayValue.values||[])for(const d of r){const p=new n_;p.seed(d.Fe()),fp.Ie.ue(c,p.qe(e.kind)),s.push(p)}return s}hn(t,e){return!!t.filters.find(i=>i instanceof qt&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=Xv(t),r=s_(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(s=>{const c=[];return ce.forEach(s,d=>r.get([d.indexId,this.uid]).next(p=>{c.push(function(y,w){const E=w?new Rg(w.sequenceNumber,new rs(Su(w.readTime),new Qe(ol(w.documentKey)),w.largestBatchId)):Rg.empty(),T=y.fields.map(([F,B])=>new $f(Ai.fromServerFormat(F),B));return new jf(y.indexId,y.collectionGroup,T,E)}(d,p))})).next(()=>c)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:$t(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=Xv(t),s=s_(t);return this.dn(t).next(c=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(d=>ce.forEach(d,p=>s.put(mI(p.indexId,this.user,c,i)))))}updateIndexEntries(t,e){const i=new Map;return ce.forEach(e,(r,s)=>{const c=i.get(r.collectionGroup);return(c?ce.resolve(c):this.getFieldIndexes(t,r.collectionGroup)).next(d=>(i.set(r.collectionGroup,d),ce.forEach(d,p=>this._n(t,r,p).next(y=>{const w=this.wn(s,p);return y.isEqual(w)?ce.resolve():this.mn(t,s,p,y,w)}))))})}gn(t,e,i,r){return r_(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(i,e.key),documentKey:e.key.path.toArray()})}yn(t,e,i,r){return r_(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(i,e.key),e.key.path.toArray()])}_n(t,e,i){const r=r_(t);let s=new Un(Iu);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.an(i,e)])},(c,d)=>{s=s.add(new lh(i.indexId,e,d.arrayValue,d.directionalValue))}).next(()=>s)}wn(t,e){let i=new Un(Iu);const r=this.cn(e,t);if(null==r)return i;const s=rC(e);if(null!=s){const c=t.data.field(s.fieldPath);if(Pg(c))for(const d of c.arrayValue.values||[])i=i.add(new lh(e.indexId,t.key,this.rn(d),r))}else i=i.add(new lh(e.indexId,t.key,nx,r));return i}mn(t,e,i,r,s){Le("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const c=[];return function(d,p,y,w,E){const T=d.getIterator(),F=p.getIterator();let B=np(T),$=np(F);for(;B||$;){let K=!1,De=!1;if(B&&$){const ze=y(B,$);ze<0?De=!0:ze>0&&(K=!0)}else null!=B?De=!0:K=!0;K?(w($),$=np(F)):De?(E(B),B=np(T)):(B=np(T),$=np(F))}}(r,s,Iu,d=>{c.push(this.gn(t,e,i,d))},d=>{c.push(this.yn(t,e,i,d))}),ce.waitFor(c)}dn(t){let e=1;return s_(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((c,d)=>Iu(c,d)).filter((c,d,p)=>!d||0!==Iu(c,p[d-1]));const r=[];r.push(t);for(const c of i){const d=Iu(c,t),p=Iu(c,e);if(0===d)r[0]=t.Ue();else if(d>0&&p<0)r.push(c),r.push(c.Ue());else if(p>0)break}r.push(e);const s=[];for(let c=0;c<r.length;c+=2){if(this.pn(r[c],r[c+1]))return[];s.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,nx,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,nx,[]]))}return s}pn(t,e){return Iu(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(pp)}getMinOffset(t,e){return ce.mapArray(this.Ze(e),i=>this.tn(t,i).next(r=>r||at())).next(pp)}}function ix(n){return Ar(n,"collectionParents")}function r_(n){return Ar(n,"indexEntries")}function Xv(n){return Ar(n,"indexConfiguration")}function s_(n){return Ar(n,"indexState")}function pp(n){mt(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;qf(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new rs(t.readTime,t.documentKey,e)}const xI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class os{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new os(t,os.DEFAULT_COLLECTION_PERCENTILE,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ca(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],c=IDBKeyRange.only(e.batchId);let d=0;const p=i.Z({range:c},(w,E,T)=>(d++,T.delete()));s.push(p.next(()=>{mt(1===d)}));const y=[];for(const w of e.mutations){const E=rI(t,w.key.path,e.batchId);s.push(r.delete(E)),y.push(w.key)}return ce.waitFor(s).next(()=>y)}function Jv(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw at();t=n.noDocument}return JSON.stringify(t).length}os.DEFAULT_COLLECTION_PERCENTILE=10,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,os.DEFAULT=new os(41943040,os.DEFAULT_COLLECTION_PERCENTILE,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),os.DISABLED=new os(-1,0,0);class uh{constructor(t,e,i,r){this.userId=t,this.yt=e,this.indexManager=i,this.referenceDelegate=r,this.In={}}static re(t,e,i,r){mt(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new uh(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Mu(t).Z({index:"userMutationsIndex",range:i},(r,s,c)=>{e=!1,c.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=gp(t),c=Mu(t);return c.add({}).next(d=>{mt("number"==typeof d);const p=new dI(d,e,i,r),y=function(T,F,B){const $=B.baseMutations.map(De=>Qg(T.ie,De)),K=B.mutations.map(De=>Qg(T.ie,De));return{userId:F,batchId:B.batchId,localWriteTimeMs:B.localWriteTime.toMillis(),baseMutations:$,mutations:K}}(this.yt,this.userId,p),w=[];let E=new Un((T,F)=>$t(T.canonicalString(),F.canonicalString()));for(const T of r){const F=rI(this.userId,T.key.path,d);E=E.add(T.key.path.popLast()),w.push(c.put(y)),w.push(s.put(F,FO))}return E.forEach(T=>{w.push(this.indexManager.addToCollectionParentIndex(t,T))}),t.addOnCommittedListener(()=>{this.In[d]=p.keys()}),ce.waitFor(w).next(()=>p)})}lookupMutationBatch(t,e){return Mu(t).get(e).next(i=>i?(mt(i.userId===this.userId),Au(this.yt,i)):null)}Tn(t,e){return this.In[e]?ce.resolve(this.In[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.In[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Mu(t).Z({index:"userMutationsIndex",range:r},(c,d,p)=>{d.userId===this.userId&&(mt(d.batchId>=i),s=Au(this.yt,d)),p.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Mu(t).Z({index:"userMutationsIndex",range:e,reverse:!0},(r,s,c)=>{i=s.batchId,c.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Mu(t).W("userMutationsIndex",e).next(i=>i.map(r=>Au(this.yt,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=qv(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return gp(t).Z({range:r},(c,d,p)=>{const[y,w,E]=c,T=ol(w);if(y===this.userId&&e.path.isEqual(T))return Mu(t).get(E).next(F=>{if(!F)throw at();mt(F.userId===this.userId),s.push(Au(this.yt,F))});p.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Un($t);const r=[];return e.forEach(s=>{const c=qv(this.userId,s.path),d=IDBKeyRange.lowerBound(c),p=gp(t).Z({range:d},(y,w,E)=>{const[T,F,B]=y,$=ol(F);T===this.userId&&s.path.isEqual($)?i=i.add(B):E.done()});r.push(p)}),ce.waitFor(r).next(()=>this.En(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=qv(this.userId,i),c=IDBKeyRange.lowerBound(s);let d=new Un($t);return gp(t).Z({range:c},(p,y,w)=>{const[E,T,F]=p,B=ol(T);E===this.userId&&i.isPrefixOf(B)?B.length===r&&(d=d.add(F)):w.done()}).next(()=>this.En(t,d))}En(t,e){const i=[],r=[];return e.forEach(s=>{r.push(Mu(t).get(s).next(c=>{if(null===c)throw at();mt(c.userId===this.userId),i.push(Au(this.yt,c))}))}),ce.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return Ca(t.se,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.An(e.batchId)}),ce.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}An(t){delete this.In[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return ce.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return gp(t).Z({range:i},(s,c,d)=>{if(s[0]===this.userId){const p=ol(s[1]);r.push(p)}else d.done()}).next(()=>{mt(0===r.length)})})}containsKey(t,e){return mp(t,this.userId,e)}Rn(t){return DI(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function mp(n,t,e){const i=qv(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let c=!1;return gp(n).Z({range:s,X:!0},(d,p,y)=>{const[w,E,T]=d;w===t&&E===r&&(c=!0),y.done()}).next(()=>c)}function Mu(n){return Ar(n,"mutations")}function gp(n){return Ar(n,"documentMutations")}function DI(n){return Ar(n,"mutationQueues")}class al{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new al(0)}static vn(){return new al(-1)}}class EI{constructor(t,e){this.referenceDelegate=t,this.yt=e}allocateTargetId(t){return this.Vn(t).next(e=>{const i=new al(e.highestTargetId);return e.highestTargetId=i.next(),this.Sn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Vn(t).next(e=>Et.fromTimestamp(new di(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Vn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Vn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Sn(t,r)))}addTargetData(t,e){return this.Dn(t,e).next(()=>this.Vn(t).next(i=>(i.targetCount+=1,this.Cn(e,i),this.Sn(t,i))))}updateTargetData(t,e){return this.Dn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>_p(t).delete(e.targetId)).next(()=>this.Vn(t)).next(i=>(mt(i.targetCount>0),i.targetCount-=1,this.Sn(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return _p(t).Z((c,d)=>{const p=hp(d);p.sequenceNumber<=e&&null===i.get(p.targetId)&&(r++,s.push(this.removeTargetData(t,p)))}).next(()=>ce.waitFor(s)).next(()=>r)}forEachTarget(t,e){return _p(t).Z((i,r)=>{const s=hp(r);e(s)})}Vn(t){return SI(t).get("targetGlobalKey").next(e=>(mt(null!==e),e))}Sn(t,e){return SI(t).put("targetGlobalKey",e)}Dn(t,e){return _p(t).put(KC(this.yt,e))}Cn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Vn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=xu(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return _p(t).Z({range:r,index:"queryTargetsIndex"},(c,d,p)=>{const y=hp(d);ip(e,y.target)&&(s=y,p.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=ll(t);return e.forEach(c=>{const d=ss(c.path);r.push(s.put({targetId:i,path:d})),r.push(this.referenceDelegate.addReference(t,i,c))}),ce.waitFor(r)}removeMatchingKeys(t,e,i){const r=ll(t);return ce.forEach(e,s=>{const c=ss(s.path);return ce.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=ll(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=ll(t);let s=Gt();return r.Z({range:i,X:!0},(c,d,p)=>{const y=ol(c[1]),w=new Qe(y);s=s.add(w)}).next(()=>s)}containsKey(t,e){const i=ss(e.path),r=IDBKeyRange.bound([i],[iC(i)],!1,!0);let s=0;return ll(t).Z({index:"documentTargetsIndex",X:!0,range:r},([c,d],p,y)=>{0!==c&&(s++,y.done())}).next(()=>s>0)}ne(t,e){return _p(t).get(e).next(i=>i?hp(i):null)}}function _p(n){return Ar(n,"targets")}function SI(n){return Ar(n,"targetGlobal")}function ll(n){return Ar(n,"targetDocuments")}function AI([n,t],[e,i]){const r=$t(n,e);return 0===r?$t(t,i):r}class ZO{constructor(t){this.xn=t,this.buffer=new Un(AI),this.Nn=0}kn(){return++this.Nn}On(t){const e=[t,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();AI(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class II{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(t){var e=this;Le("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,_e.Z)(function*(){e.Mn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){gu(i)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield mu(i)}yield e.Fn(3e5)}))}}class KO{constructor(t,e){this.$n=t,this.params=e}calculateTargetCount(t,e){return this.$n.Bn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return ce.resolve(Ws.at);const i=new ZO(e);return this.$n.forEachTarget(t,r=>i.On(r.sequenceNumber)).next(()=>this.$n.Ln(t,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.$n.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.$n.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(xI)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xI):this.qn(t,e))}getCacheSize(t){return this.$n.getCacheSize(t)}qn(t,e){let i,r,s,c,d,p,y;const w=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),r=this.params.maximumSequenceNumbersToCollect):r=E,c=Date.now(),this.nthSequenceNumber(t,r))).next(E=>(i=E,d=Date.now(),this.removeTargets(t,i,e))).next(E=>(s=E,p=Date.now(),this.removeOrphanedDocuments(t,i))).next(E=>(y=Date.now(),eC()<=$s.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-w}ms\n\tDetermined least recently used ${r} in `+(d-c)+`ms\n\tRemoved ${s} targets in `+(p-d)+`ms\n\tRemoved ${E} documents in `+(y-p)+`ms\nTotal Duration: ${y-w}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:E})))}}class QO{constructor(t,e){this.db=t,this.garbageCollector=new KO(this,e)}Bn(t){const e=this.Un(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Un(t){let e=0;return this.Ln(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Ln(t,e){return this.Kn(t,(i,r)=>e(r))}addReference(t,e,i){return o_(t,i)}removeReference(t,e,i){return o_(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return o_(t,e)}Gn(t,e){return function(i,r){let s=!1;return DI(i).tt(c=>mp(i,c,r).next(d=>(d&&(s=!0),ce.resolve(!d)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Kn(t,(c,d)=>{if(d<=e){const p=this.Gn(t,c).next(y=>{if(!y)return s++,i.getEntry(t,c).next(()=>(i.removeEntry(c,Et.min()),ll(t).delete([0,ss(c.path)])))});r.push(p)}}).next(()=>ce.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return o_(t,e)}Kn(t,e){const i=ll(t);let r,s=Ws.at;return i.Z({index:"documentTargetsIndex"},([c,d],{path:p,sequenceNumber:y})=>{0===c?(s!==Ws.at&&e(new Qe(ol(r)),s),s=y,r=p):s=Ws.at}).next(()=>{s!==Ws.at&&e(new Qe(ol(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function o_(n,t){return ll(n).put((i=n.currentSequenceNumber,{targetId:0,path:ss(t.path),sequenceNumber:i}));var i}class a_{constructor(){this.changes=new Du(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,si.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?ce.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class XO{constructor(t){this.yt=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return dc(t).put(i)}removeEntry(t,e,i){return dc(t).delete(function(r,s){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],e_(s),c[c.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Qn(t,i)))}getEntry(t,e){let i=si.newInvalidDocument(e);return dc(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(yp(e))},(r,s)=>{i=this.jn(e,s)}).next(()=>i)}Wn(t,e){let i={size:0,document:si.newInvalidDocument(e)};return dc(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(yp(e))},(r,s)=>{i={document:this.jn(e,s),size:Jv(s)}}).next(()=>i)}getEntries(t,e){let i=Sr();return this.zn(t,e,(r,s)=>{const c=this.jn(r,s);i=i.insert(r,c)}).next(()=>i)}Hn(t,e){let i=Sr(),r=new hi(Qe.comparator);return this.zn(t,e,(s,c)=>{const d=this.jn(s,c);i=i.insert(s,d),r=r.insert(s,Jv(c))}).next(()=>({documents:i,Jn:r}))}zn(t,e,i){if(e.isEmpty())return ce.resolve();let r=new Un(sx);e.forEach(p=>r=r.add(p));const s=IDBKeyRange.bound(yp(r.first()),yp(r.last())),c=r.getIterator();let d=c.getNext();return dc(t).Z({index:"documentKeyIndex",range:s},(p,y,w)=>{const E=Qe.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;d&&sx(d,E)<0;)i(d,null),d=c.getNext();d&&d.isEqual(E)&&(i(d,y),d=c.hasNext()?c.getNext():null),d?w.j(yp(d)):w.done()}).next(()=>{for(;d;)i(d,null),d=c.hasNext()?c.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),e_(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return dc(t).W(IDBKeyRange.bound(r,s,!0)).next(c=>{let d=Sr();for(const p of c){const y=this.jn(Qe.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);d=d.insert(y.key,y)}return d})}getAllFromCollectionGroup(t,e,i,r){let s=Sr();const c=kI(e,i),d=kI(e,rs.max());return dc(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,d,!0)},(p,y,w)=>{const E=this.jn(Qe.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);s=s.insert(E.key,E),s.size===r&&w.done()}).next(()=>s)}newChangeBuffer(t){return new TI(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return rx(t).get("remoteDocumentGlobalKey").next(e=>(mt(!!e),e))}Qn(t,e){return rx(t).put("remoteDocumentGlobalKey",e)}jn(t,e){if(e){const i=function hI(n,t){let e;if(t.document)e=QA(n.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Qe.fromSegments(t.noDocument.path),r=Su(t.noDocument.readTime);e=si.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return at();{const i=Qe.fromSegments(t.unknownDocument.path),r=Su(t.unknownDocument.version);e=si.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new di(i[0],i[1]);return Et.fromTimestamp(r)}(t.readTime)),e}(this.yt,e);if(!i.isNoDocument()||!i.version.isEqual(Et.min()))return i}return si.newInvalidDocument(t)}}function MI(n){return new XO(n)}class TI extends a_{constructor(t,e){super(),this.Yn=t,this.trackRemovals=e,this.Xn=new Du(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Un((s,c)=>$t(s.canonicalString(),c.canonicalString()));return this.changes.forEach((s,c)=>{const d=this.Xn.get(s);if(e.push(this.Yn.removeEntry(t,s,d.readTime)),c.isValidDocument()){const p=fI(this.Yn.yt,c);r=r.add(s.path.popLast());const y=Jv(p);i+=y-d.size,e.push(this.Yn.addEntry(t,s,p))}else if(i-=d.size,this.trackRemovals){const p=fI(this.Yn.yt,c.convertToNoDocument(Et.min()));e.push(this.Yn.addEntry(t,s,p))}}),r.forEach(s=>{e.push(this.Yn.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.Yn.updateMetadata(t,i)),ce.waitFor(e)}getFromCache(t,e){return this.Yn.Wn(t,e).next(i=>(this.Xn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Yn.Hn(t,e).next(({documents:i,Jn:r})=>(r.forEach((s,c)=>{this.Xn.set(s,{size:c,readTime:i.get(s).readTime})}),i))}}function rx(n){return Ar(n,"remoteDocumentGlobal")}function dc(n){return Ar(n,"remoteDocumentsV14")}function yp(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function kI(n,t){const e=t.documentKey.path.toArray();return[n,e_(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function sx(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=$t(e[s],i[s]),r)return r;return r=$t(e.length,i.length),r||(r=$t(e[e.length-2],i[i.length-2]),r||$t(e[e.length-1],i[i.length-1]))}class RI{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class OI{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&zg(i.mutation,r,Zs.empty(),di.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Gt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Gt()){const r=wo();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let c=Gg();return s.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const i=wo();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Gt()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((c,d)=>{e.set(c,d)})})}computeViews(t,e,i,r){let s=Sr();const c=ap(),d=ap();return e.forEach((p,y)=>{const w=i.get(y.key);r.has(y.key)&&(void 0===w||w.mutation instanceof Qo)?s=s.insert(y.key,y):void 0!==w?(c.set(y.key,w.mutation.getFieldMask()),zg(w.mutation,y,w.mutation.getFieldMask(),di.now())):c.set(y.key,Zs.empty())}),this.recalculateAndSaveOverlays(t,s).next(p=>(p.forEach((y,w)=>c.set(y,w)),e.forEach((y,w)=>{var E;return d.set(y,new RI(w,null!==(E=c.get(y))&&void 0!==E?E:null))}),d))}recalculateAndSaveOverlays(t,e){const i=ap();let r=new hi((c,d)=>c-d),s=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const d of c)d.keys().forEach(p=>{const y=e.get(p);if(null===y)return;let w=i.get(p)||Zs.empty();w=d.applyToLocalView(y,w),i.set(p,w);const E=(r.get(d.batchId)||Gt()).add(p);r=r.insert(d.batchId,E)})}).next(()=>{const c=[],d=r.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),y=p.key,w=p.value,E=PC();w.forEach(T=>{if(!s.has(T)){const F=BA(e.get(T),i.get(T));null!==F&&E.set(T,F),s=s.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(t,y,E))}return ce.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return Qe.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):xC(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const c=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):ce.resolve(wo());let d=-1,p=s;return c.next(y=>ce.forEach(y,(w,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),s.get(w)?ce.resolve():this.remoteDocumentCache.getEntry(t,w).next(T=>{p=p.insert(w,T)}))).next(()=>this.populateOverlays(t,y,s)).next(()=>this.computeViews(t,p,y,Gt())).next(w=>({batchId:d,changes:GA(w)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Qe(e)).next(i=>{let r=Gg();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let s=Gg();return this.indexManager.getCollectionParents(t,r).next(c=>ce.forEach(c,d=>{const p=(y=e,w=d.child(r),new oc(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,w;return this.getDocumentsMatchingCollectionQuery(t,p,i).next(y=>{y.forEach((w,E)=>{s=s.insert(w,E)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(s=>{s.forEach((d,p)=>{const y=p.getKey();null===r.get(y)&&(r=r.insert(y,si.newInvalidDocument(y)))});let c=Gg();return r.forEach((d,p)=>{const y=s.get(d);void 0!==y&&zg(y.mutation,p,Zs.empty(),di.now()),SC(e,p)&&(c=c.insert(d,p))}),c})}}class JO{constructor(t){this.yt=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return ce.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var i;return this.Zn.set(e.id,{id:(i=e).id,version:i.version,createTime:Qi(i.createTime)}),ce.resolve()}getNamedQuery(t,e){return ce.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,{name:(i=e).name,query:QC(i.bundledQuery),readTime:Qi(i.readTime)}),ce.resolve();var i}}class ox{constructor(){this.overlays=new hi(Qe.comparator),this.es=new Map}getOverlay(t,e){return ce.resolve(this.overlays.get(e))}getOverlays(t,e){const i=wo();return ce.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.oe(t,e,s)}),ce.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(i)),ce.resolve()}getOverlaysForCollection(t,e,i){const r=wo(),s=e.length+1,c=new Qe(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,y=p.getKey();if(!e.isPrefixOf(y.path))break;y.path.length===s&&p.largestBatchId>i&&r.set(p.getKey(),p)}return ce.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new hi((y,w)=>y-w);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===e&&y.largestBatchId>i){let w=s.get(y.largestBatchId);null===w&&(w=wo(),s=s.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const d=wo(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,w)=>d.set(y,w)),!(d.size()>=r)););return ce.resolve(d)}oe(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Jg(e,i));let s=this.es.get(e);void 0===s&&(s=Gt(),this.es.set(e,s)),this.es.set(e,s.add(i.key))}}class l_{constructor(){this.ns=new Un(vr.ss),this.rs=new Un(vr.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const i=new vr(t,e);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.cs(new vr(t,e))}hs(t,e){t.forEach(i=>this.removeReference(i,e))}ls(t){const e=new Qe(new wn([])),i=new vr(e,t),r=new vr(e,t+1),s=[];return this.rs.forEachInRange([i,r],c=>{this.cs(c),s.push(c.key)}),s}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new Qe(new wn([])),i=new vr(e,t),r=new vr(e,t+1);let s=Gt();return this.rs.forEachInRange([i,r],c=>{s=s.add(c.key)}),s}containsKey(t){const e=new vr(t,0),i=this.ns.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class vr{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return Qe.comparator(t.key,e.key)||$t(t._s,e._s)}static os(t,e){return $t(t._s,e._s)||Qe.comparator(t.key,e.key)}}class ax{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new Un(vr.ss)}checkEmpty(t){return ce.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.ws;this.ws++;const c=new dI(s,e,i,r);this.mutationQueue.push(c);for(const d of r)this.gs=this.gs.add(new vr(d.key,s)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return ce.resolve(c)}lookupMutationBatch(t,e){return ce.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ps(e+1),s=r<0?0:r;return ce.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new vr(e,0),r=new vr(e,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([i,r],c=>{const d=this.ys(c._s);s.push(d)}),ce.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Un($t);return e.forEach(r=>{const s=new vr(r,0),c=new vr(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,c],d=>{i=i.add(d._s)})}),ce.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;Qe.isDocumentKey(s)||(s=s.child(""));const c=new vr(new Qe(s),0);let d=new Un($t);return this.gs.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===r&&(d=d.add(p._s)),!0)},c),ce.resolve(this.Is(d))}Is(t){const e=[];return t.forEach(i=>{const r=this.ys(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){mt(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return ce.forEach(e.mutations,r=>{const s=new vr(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.gs=i})}An(t){}containsKey(t,e){const i=new vr(e,0),r=this.gs.firstAfterOrEqual(i);return ce.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return ce.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class lx{constructor(t){this.Es=t,this.docs=new hi(Qe.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,c=this.Es(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ce.resolve(i?i.document.mutableCopy():si.newInvalidDocument(e))}getEntries(t,e){let i=Sr();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():si.newInvalidDocument(r))}),ce.resolve(i)}getAllFromCollection(t,e,i){let r=Sr();const s=new Qe(e.child("")),c=this.docs.getIteratorFrom(s);for(;c.hasNext();){const{key:d,value:{document:p}}=c.getNext();if(!e.isPrefixOf(d.path))break;d.path.length>e.length+1||qf(_A(p),i)<=0||(r=r.insert(p.key,p.mutableCopy()))}return ce.resolve(r)}getAllFromCollectionGroup(t,e,i,r){at()}As(t,e){return ce.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new eF(this)}getSize(t){return ce.resolve(this.size)}}class eF extends a_{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Yn.addEntry(t,r)):this.Yn.removeEntry(i)}),ce.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}class tF{constructor(t){this.persistence=t,this.Rs=new Du(e=>xu(e),ip),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.bs=0,this.Ps=new l_,this.targetCount=0,this.vs=al.Pn()}forEachTarget(t,e){return this.Rs.forEach((i,r)=>e(r)),ce.resolve()}getLastRemoteSnapshotVersion(t){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ce.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.bs&&(this.bs=e),ce.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new al(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,ce.resolve()}updateTargetData(t,e){return this.Dn(e),ce.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,ce.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Rs.forEach((c,d)=>{d.sequenceNumber<=e&&null===i.get(d.targetId)&&(this.Rs.delete(c),s.push(this.removeMatchingKeysForTargetId(t,d.targetId)),r++)}),ce.waitFor(s).next(()=>r)}getTargetCount(t){return ce.resolve(this.targetCount)}getTargetData(t,e){const i=this.Rs.get(e)||null;return ce.resolve(i)}addMatchingKeys(t,e,i){return this.Ps.us(e,i),ce.resolve()}removeMatchingKeys(t,e,i){this.Ps.hs(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(c=>{s.push(r.markPotentiallyOrphaned(t,c))}),ce.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),ce.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ps.ds(e);return ce.resolve(i)}containsKey(t,e){return ce.resolve(this.Ps.containsKey(e))}}class FI{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new Ws(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new tF(this),this.indexManager=new WO,this.remoteDocumentCache=new lx(i=>this.referenceDelegate.xs(i)),this.yt=new ZC(e),this.Ns=new JO(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new ox,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Vs[t.toKey()];return i||(i=new ax(e,this.referenceDelegate),this.Vs[t.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,i){Le("MemoryPersistence","Starting transaction:",t);const r=new nF(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(s=>this.referenceDelegate.Os(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ms(t,e){return ce.or(Object.values(this.Vs).map(i=>()=>i.containsKey(t,e)))}}class nF extends sC{constructor(t){super(),this.currentSequenceNumber=t}}class c_{constructor(t){this.persistence=t,this.Fs=new l_,this.$s=null}static Bs(t){return new c_(t)}get Ls(){if(this.$s)return this.$s;throw at()}addReference(t,e,i){return this.Fs.addReference(i,e),this.Ls.delete(i.toString()),ce.resolve()}removeReference(t,e,i){return this.Fs.removeReference(i,e),this.Ls.add(i.toString()),ce.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),ce.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Ls.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}ks(){this.$s=new Set}Os(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Ls,i=>{const r=Qe.fromPath(i);return this.qs(t,r).next(s=>{s||e.removeEntry(r,Et.min())})}).next(()=>(this.$s=null,e.apply(t)))}updateLimboDocument(t,e){return this.qs(t,e).next(i=>{i?this.Ls.delete(e.toString()):this.Ls.add(e.toString())})}xs(t){return 0}qs(t,e){return ce.or([()=>ce.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ms(t,e)])}}class cx{constructor(t){this.yt=t}$(t,e,i,r){const s=new Yf("createOrUpgrade",e);var d;i<1&&r>=1&&(t.createObjectStore("owner"),(d=t).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",iI,{unique:!0}),d.createObjectStore("documentMutations"),ux(t),function(d){d.createObjectStore("remoteDocuments")}(t));let c=ce.resolve();return i<3&&r>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(t),ux(t)),c=c.next(()=>function(d){const p=d.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Et.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",y)}(s))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(d,p){return p.store("mutations").W().next(y=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",iI,{unique:!0});const w=p.store("mutations"),E=y.map(T=>w.put(T));return ce.waitFor(E)})}(t,s))),c=c.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(c=c.next(()=>this.Us(s))),i<6&&r>=6&&(c=c.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(t),this.Ks(s)))),i<7&&r>=7&&(c=c.next(()=>this.Gs(s))),i<8&&r>=8&&(c=c.next(()=>this.Qs(t,s))),i<9&&r>=9&&(c=c.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(c=c.next(()=>this.js(s))),i<11&&r>=11&&(c=c.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(c=c.next(()=>{!function(d){const p=d.createObjectStore("documentOverlays",{keyPath:lI});p.createIndex("collectionPathOverlayIndex",qC,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",HO,{unique:!1})}(t)})),i<13&&r>=13&&(c=c.next(()=>function(d){const p=d.createObjectStore("remoteDocumentsV14",{keyPath:PO});p.createIndex("documentKeyIndex",sI),p.createIndex("collectionGroupIndex",oI)}(t)).next(()=>this.Ws(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.zs(t,s))),i<15&&r>=15&&(c=c.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:VO}).createIndex("sequenceNumberIndex",UO,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:jC}).createIndex("documentKeyIndex",$C,{unique:!1})}(t))),c}Ks(t){let e=0;return t.store("remoteDocuments").Z((i,r)=>{e+=Jv(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Us(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>ce.forEach(r,s=>{const c=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",c).next(d=>ce.forEach(d,p=>{mt(p.userId===s.userId);const y=Au(this.yt,p);return Ca(t,s.userId,y).next(()=>{})}))}))}Gs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Z((c,d)=>{const p=new wn(c),y=[0,ss(p)];s.push(e.get(y).next(w=>w?ce.resolve():e.put({targetId:0,path:ss(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ce.waitFor(s))})}Qs(t,e){t.createObjectStore("collectionParents",{keyPath:BO});const i=e.store("collectionParents"),r=new wI,s=c=>{if(r.add(c)){const d=c.lastSegment(),p=c.popLast();return i.put({collectionId:d,parent:ss(p)})}};return e.store("remoteDocuments").Z({X:!0},(c,d)=>{const p=new wn(c);return s(p.popLast())}).next(()=>e.store("documentMutations").Z({X:!0},([c,d,p],y)=>{const w=ol(d);return s(w.popLast())}))}js(t){const e=t.store("targets");return e.Z((i,r)=>{const s=hp(r),c=KC(this.yt,s);return e.put(c)})}Ws(t,e){const i=e.store("remoteDocuments"),r=[];return i.Z((s,c)=>{const d=e.store("remoteDocumentsV14"),p=(y=c,y.document?new Qe(wn.fromString(y.document.name).popFirst(5)):y.noDocument?Qe.fromSegments(y.noDocument.path):y.unknownDocument?Qe.fromSegments(y.unknownDocument.path):at()).path.toArray();var y;const w={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(d.put(w))}).next(()=>ce.waitFor(r))}zs(t,e){const i=e.store("mutations"),r=MI(this.yt),s=new FI(c_.Bs,this.yt.ie);return i.W().next(c=>{const d=new Map;return c.forEach(p=>{var y;let w=null!==(y=d.get(p.userId))&&void 0!==y?y:Gt();Au(this.yt,p).keys().forEach(E=>w=w.add(E)),d.set(p.userId,w)}),ce.forEach(d,(p,y)=>{const w=new Dr(y),E=Wv.re(this.yt,w),T=s.getIndexManager(w),F=uh.re(w,this.yt,T,s.referenceDelegate);return new OI(r,F,E,T).recalculateAndSaveOverlaysForDocumentKeys(new Yv(e,Ws.at),p).next()})})}}function ux(n){n.createObjectStore("targetDocuments",{keyPath:LO}).createIndex("documentTargetsIndex",aI,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",NO,{unique:!0}),n.createObjectStore("targetGlobal")}const eb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class tb{constructor(t,e,i,r,s,c,d,p,y,w,E=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Hs=s,this.window=c,this.document=d,this.Js=y,this.Ys=w,this.Xs=E,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=T=>Promise.resolve(),!tb.C())throw new Oe(ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new QO(this,r),this.ii=e+"main",this.yt=new ZC(p),this.ri=new Wo(this.ii,this.Xs,new cx(this.yt)),this.Cs=new EI(this.referenceDelegate,this.yt),this.remoteDocumentCache=MI(this.yt),this.Ns=new gI,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===w&&ui("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(ue.FAILED_PRECONDITION,eb);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Cs.getHighestSequenceNumber(t))}).then(t=>{this.Ss=new Ws(t,this.Js)}).then(()=>{this.Ds=!0}).catch(t=>(this.ri&&this.ri.close(),Promise.reject(t)))}li(t){var e=this;return this.si=function(){var i=(0,_e.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ri.L(function(){var e=(0,_e.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Hs.enqueueAndForget((0,_e.Z)(function*(){e.started&&(yield e.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>nb(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(t)).next(e=>this.isPrimary&&!e?this._i(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(gu(t))return Le("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Hs.enqueueRetryable(()=>this.si(t)),this.isPrimary=t})}fi(t){return vp(t).get("owner").next(e=>ce.resolve(this.mi(e)))}gi(t){return nb(t).delete(this.clientId)}yi(){var t=this;return(0,_e.Z)(function*(){if(t.isPrimary&&!t.pi(t.ni,18e5)){t.ni=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Ar(i,"clientMetadata");return r.W().next(s=>{const c=t.Ii(s,18e5),d=s.filter(p=>-1===c.indexOf(p));return ce.forEach(d,p=>r.delete(p.clientId)).next(()=>d)})}).catch(()=>[]);if(t.oi)for(const i of e)t.oi.removeItem(t.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(t){return!!t&&t.ownerId===this.clientId}di(t){return this.Ys?ce.resolve(!0):vp(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)){if(this.mi(e)&&this.networkEnabled)return!0;if(!this.mi(e)){if(!e.allowTabSynchronization)throw new Oe(ue.FAILED_PRECONDITION,eb);return!1}}return!(!this.networkEnabled||!this.inForeground)||nb(t).W().next(i=>void 0===this.Ii(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&Le("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,_e.Z)(function*(){t.Ds=!1,t.Ai(),t.ei&&(t.ei.cancel(),t.ei=null),t.Ri(),t.bi(),yield t.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new Yv(e,Ws.at);return t._i(i).next(()=>t.gi(i))}),t.ri.close(),t.Pi()})()}Ii(t,e){return t.filter(i=>this.pi(i.updateTimeMs,e)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",t=>nb(t).W().next(e=>this.Ii(e,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(t,e){return uh.re(t,this.yt,e,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new CI(t,this.yt.ie.databaseId)}getDocumentOverlayCache(t){return Wv.re(this.yt,t)}getBundleCache(){return this.Ns}runTransaction(t,e,i){Le("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=15===(c=this.Xs)?dp:14===c?WC:13===c?uI:12===c?YC:11===c?cI:void at();var c;let d;return this.ri.runTransaction(t,r,s,p=>(d=new Yv(p,this.Ss?this.Ss.next():Ws.at),"readwrite-primary"===e?this.fi(d).next(y=>!!y||this.di(d)).next(y=>{if(!y)throw ui(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Oe(ue.FAILED_PRECONDITION,Tv);return i(d)}).next(y=>this.wi(d).next(()=>y)):this.Vi(d).next(()=>i(d)))).then(p=>(d.raiseOnCommittedEvent(),p))}Vi(t){return vp(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Oe(ue.FAILED_PRECONDITION,eb)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return vp(t).put("owner",e)}static C(){return Wo.C()}_i(t){const e=vp(t);return e.get("owner").next(i=>this.mi(i)?(Le("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):ce.resolve())}pi(t,e){const i=Date.now();return!(t<i-e||t>i&&(ui(`Detected an update time that is in the future: ${t} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,N.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(t){var e;try{const i=null!==(null===(e=this.oi)||void 0===e?void 0:e.getItem(this.Ti(t)));return Le("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return ui("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(t){ui("Failed to set zombie client id.",t)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function vp(n){return Ar(n,"owner")}function nb(n){return Ar(n,"clientMetadata")}function ib(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class rb{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Si=i,this.Di=r}static Ci(t,e){let i=Gt(),r=Gt();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new rb(t,e.fromCache,i,r)}}class PI{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.ki(t,e).next(s=>s||this.Oi(t,e,r,i)).next(s=>s||this.Mi(t,e))}ki(t,e){if(MA(e))return ce.resolve(null);let i=Ds(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=Vv(e,null,"F"),i=Ds(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const c=Gt(...s);return this.Ni.getDocuments(t,c).next(d=>this.indexManager.getMinOffset(t,i).next(p=>{const y=this.Fi(e,d);return this.$i(e,y,c,p.readTime)?this.ki(t,Vv(e,null,"F")):this.Bi(t,y,e,p)}))})))}Oi(t,e,i,r){return MA(e)||r.isEqual(Et.min())?this.Mi(t,e):this.Ni.getDocuments(t,i).next(s=>{const c=this.Fi(e,s);return this.$i(e,c,i,r)?this.Mi(t,e):(eC()<=$s.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),EC(e)),this.Bi(t,c,e,gA(r,-1)))})}Fi(t,e){let i=new Un(RA(t));return e.forEach((r,s)=>{SC(t,s)&&(i=i.add(s))}),i}$i(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Mi(t,e){return eC()<=$s.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",EC(e)),this.Ni.getDocumentsMatchingQuery(t,e,rs.min())}Bi(t,e,i,r){return this.Ni.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(c=>{s=s.insert(c.key,c)}),s))}}class NI{constructor(t,e,i,r){this.persistence=t,this.Li=e,this.yt=r,this.qi=new hi($t),this.Ui=new Du(s=>xu(s),ip),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(i)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new OI(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.qi))}}function dx(n,t,e,i){return new NI(n,t,e,i)}function as(n,t){return Tu.apply(this,arguments)}function Tu(){return Tu=(0,_e.Z)(function*(n,t){const e=Je(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.Qi(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const c=[],d=[];let p=Gt();for(const y of r){c.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}for(const y of s){d.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}return e.localDocuments.getDocuments(i,p).next(y=>({ji:y,removedBatchIds:c,addedBatchIds:d}))})})}),Tu.apply(this,arguments)}function LI(n){const t=Je(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Cs.getLastRemoteSnapshotVersion(e))}function rF(n,t,e){let i=Gt(),r=Gt();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let c=Sr();return e.forEach((d,p)=>{const y=s.get(d);p.isFoundDocument()!==y.isFoundDocument()&&(r=r.add(d)),p.isNoDocument()&&p.version.isEqual(Et.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||0===p.version.compareTo(y.version)&&y.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):Le("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)}),{Wi:c,zi:r}})}function BI(n,t){const e=Je(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function ku(n,t){const e=Je(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Cs.getTargetData(i,t).next(s=>s?(r=s,ce.resolve(r)):e.Cs.allocateTargetId(i).next(c=>(r=new Eu(t,c,0,i.currentSequenceNumber),e.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.qi.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.qi=e.qi.insert(i.targetId,i),e.Ui.set(t,i.targetId)),i})}function cl(n,t,e){return hx.apply(this,arguments)}function hx(){return hx=(0,_e.Z)(function*(n,t,e){const i=Je(n),r=i.qi.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!gu(c))throw c;Le("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}i.qi=i.qi.remove(t),i.Ui.delete(r.target)}),hx.apply(this,arguments)}function bp(n,t,e){const i=Je(n);let r=Et.min(),s=Gt();return i.persistence.runTransaction("Execute query","readonly",c=>function(d,p,y){const w=Je(d),E=w.Ui.get(y);return void 0!==E?ce.resolve(w.qi.get(E)):w.Cs.getTargetData(p,y)}(i,c,Ds(t)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(c,d.targetId).next(p=>{s=p})}).next(()=>i.Li.getDocumentsMatchingQuery(c,t,e?r:Et.min(),e?s:Gt())).next(d=>(UI(i,kA(t),d),{documents:d,Hi:s})))}function VI(n,t){const e=Je(n),i=Je(e.Cs),r=e.qi.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.ne(s,t).next(c=>c?c.target:null))}function fx(n,t){const e=Je(n),i=e.Ki.get(t)||Et.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Gi.getAllFromCollectionGroup(r,t,gA(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(UI(e,t,r),r))}function UI(n,t,e){let i=n.Ki.get(t)||Et.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Ki.set(t,i)}function px(){return px=(0,_e.Z)(function*(n,t,e,i){const r=Je(n);let s=Gt(),c=Sr();for(const y of e){const w=t.Ji(y.metadata.name);y.document&&(s=s.add(w));const E=t.Yi(y);E.setReadTime(t.Xi(y.metadata.readTime)),c=c.insert(w,E)}const d=r.Gi.newChangeBuffer({trackRemovals:!0}),p=yield ku(r,(y=i,Ds(rp(wn.fromString(`__bundle__/docs/${y}`)))));var y;return r.persistence.runTransaction("Apply bundle documents","readwrite",y=>rF(y,d,c).next(w=>(d.apply(y),w)).next(w=>r.Cs.removeMatchingKeysForTargetId(y,p.targetId).next(()=>r.Cs.addMatchingKeys(y,s,p.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(y,w.Wi,w.zi)).next(()=>w.Wi)))}),px.apply(this,arguments)}function mx(n,t){return sb.apply(this,arguments)}function sb(){return sb=(0,_e.Z)(function*(n,t,e=Gt()){const i=yield ku(n,Ds(QC(t.bundledQuery))),r=Je(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const c=Qi(t.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.Ns.saveNamedQuery(s,t);const d=i.withResumeToken(ar.EMPTY_BYTE_STRING,c);return r.qi=r.qi.insert(d.targetId,d),r.Cs.updateTargetData(s,d).next(()=>r.Cs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Cs.addMatchingKeys(s,e,i.targetId)).next(()=>r.Ns.saveNamedQuery(s,t))})}),sb.apply(this,arguments)}function HI(n,t){return`firestore_clients_${n}_${t}`}function u_(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function d_(n,t){return`firestore_targets_${n}_${t}`}class gx{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Zi(t,e,i){const r=JSON.parse(i);let s,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(s=new Oe(r.error.code,r.error.message))),c?new gx(t,e,r.state,s):(ui("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class wp{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Zi(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Oe(i.error.code,i.error.message))),s?new wp(t,i.state,r):(ui("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class ob{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Zi(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=Hv();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=dC(i.activeTargetIds[c]),s=s.add(i.activeTargetIds[c]);return r?new ob(t,s):(ui("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class ab{constructor(t,e){this.clientId=t,this.onlineState=e}static Zi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new ab(e.clientId,e.onlineState):(ui("SharedClientState",`Failed to parse online state: ${t}`),null)}}class Ru{constructor(){this.activeTargetIds=Hv()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class _x{constructor(t,e,i,r,s){this.window=t,this.Hs=e,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new hi($t),this.started=!1,this.cr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ar=HI(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Ru),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,_e.Z)(function*(){const e=yield t.syncEngine.vi();for(const r of e){if(r===t.sr)continue;const s=t.getItem(HI(t.persistenceKey,r));if(s){const c=ob.Zi(r,s);c&&(t.ur=t.ur.insert(c.clientId,c))}}t.gr();const i=t.storage.getItem(t.wr);if(i){const r=t.yr(i);r&&t.pr(r)}for(const r of t.cr)t.rr(r);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.hr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(t){let e=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Tr(t,"pending")}updateMutationState(t,e,i){this.Tr(t,e,i),this.Er(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(d_(this.persistenceKey,t));if(i){const r=wp.Zi(t,i);r&&(e=r.state)}}return this.Ar.er(t),this.gr(),e}removeLocalQueryTarget(t){this.Ar.nr(t),this.gr()}isLocalQueryTarget(t){return this.Ar.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(d_(this.persistenceKey,t))}updateQueryState(t,e,i){this.Rr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Er(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.br(t)}notifyBundleLoaded(t){this.Pr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Le("SharedClientState","READ",t,e),e}setItem(t,e){Le("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Le("SharedClientState","REMOVE",t),this.storage.removeItem(t)}rr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Le("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void ui("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,_e.Z)(function*(){if(e.started){if(null!==i.key)if(e.lr.test(i.key)){if(null==i.newValue){const r=e.vr(i.key);return e.Vr(r,null)}{const r=e.Sr(i.key,i.newValue);if(r)return e.Vr(r.clientId,r)}}else if(e.dr.test(i.key)){if(null!==i.newValue){const r=e.Dr(i.key,i.newValue);if(r)return e.Cr(r)}}else if(e._r.test(i.key)){if(null!==i.newValue){const r=e.Nr(i.key,i.newValue);if(r)return e.kr(r)}}else if(i.key===e.wr){if(null!==i.newValue){const r=e.yr(i.newValue);if(r)return e.pr(r)}}else if(i.key===e.hr){const r=function(s){let c=Ws.at;if(null!=s)try{const d=JSON.parse(s);mt("number"==typeof d),c=d}catch(d){ui("SharedClientState","Failed to read sequence number from WebStorage",d)}return c}(i.newValue);r!==Ws.at&&e.sequenceNumberHandler(r)}else if(i.key===e.mr){const r=e.Or(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Mr(s)))}}else e.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(t,e,i){const r=new gx(this.currentUser,t,e,i),s=u_(this.persistenceKey,this.currentUser,t);this.setItem(s,r.tr())}Er(t){const e=u_(this.persistenceKey,this.currentUser,t);this.removeItem(e)}br(t){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:t}))}Rr(t,e,i){const r=d_(this.persistenceKey,t),s=new wp(t,e,i);this.setItem(r,s.tr())}Pr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.mr,e)}vr(t){const e=this.lr.exec(t);return e?e[1]:null}Sr(t,e){const i=this.vr(t);return ob.Zi(i,e)}Dr(t,e){const i=this.dr.exec(t),r=Number(i[1]);return gx.Zi(new Dr(void 0!==i[2]?i[2]:null),r,e)}Nr(t,e){const i=this._r.exec(t),r=Number(i[1]);return wp.Zi(r,e)}yr(t){return ab.Zi(t)}Or(t){return JSON.parse(t)}Cr(t){var e=this;return(0,_e.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Fr(t.batchId,t.state,t.error);Le("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}kr(t){return this.syncEngine.$r(t.targetId,t.state,t.error)}Vr(t,e){const i=e?this.ur.insert(t,e):this.ur.remove(t),r=this.Ir(this.ur),s=this.Ir(i),c=[],d=[];return s.forEach(p=>{r.has(p)||c.push(p)}),r.forEach(p=>{s.has(p)||d.push(p)}),this.syncEngine.Br(c,d).then(()=>{this.ur=i})}pr(t){this.ur.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ir(t){let e=Hv();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class yx{constructor(){this.Lr=new Ru,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Lr.er(t),this.qr[t]||"not-current"}updateQueryState(t,e,i){this.qr[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.qr[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new Ru,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class vx{Ur(t){}shutdown(){}}class oF{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const aF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CB{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}class lF extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.oo=(t.ssl?"https":"http")+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(t,e,i,r,s){const c=this.ho(t,e);Le("RestConnection","Sending: ",c,i);const d={};return this.lo(d,r,s),this.fo(t,c,d,i).then(p=>(Le("RestConnection","Received: ",p),p),p=>{throw ic("RestConnection",`${t} failed with error: `,p,"url: ",c,"request:",i),p})}_o(t,e,i,r,s,c){return this.ao(t,e,i,r,s)}lo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Tg,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}ho(t,e){return`${this.oo}/v1/${e}:${aF[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,e,i,r){return new Promise((s,c)=>{const d=new aO;d.setWithCredentials(!0),d.listenOnce(J0.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Ev.NO_ERROR:const y=d.getResponseJson();Le("Connection","XHR received:",JSON.stringify(y)),s(y);break;case Ev.TIMEOUT:Le("Connection",'RPC "'+t+'" timed out'),c(new Oe(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Ev.HTTP_ERROR:const w=d.getStatus();if(Le("Connection",'RPC "'+t+'" failed with status:',w,"response text:",d.getResponseText()),w>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const T=E?.error;if(T&&T.status&&T.message){const F=function(B){const $=B.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf($)>=0?$:ue.UNKNOWN}(T.status);c(new Oe(F,T.message))}else c(new Oe(ue.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Oe(ue.UNAVAILABLE,"Connection failed."));break;default:at()}}finally{Le("Connection",'RPC "'+t+'" completed.')}});const p=JSON.stringify(r);d.send(e,"POST",p,i,15)})}wo(t,e,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=cA(),c=uA(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new pB({})),this.lo(d.initMessageHeaders,e,i),d.encodeInitMessageHeaders=!0;const p=r.join("");Le("Connection","Creating WebChannel: "+p,d);const y=s.createWebChannel(p,d);let w=!1,E=!1;const T=new CB({Hr:B=>{E?Le("Connection","Not sending because WebChannel is closed:",B):(w||(Le("Connection","Opening WebChannel transport."),y.open(),w=!0),Le("Connection","WebChannel sending:",B),y.send(B))},Jr:()=>y.close()}),F=(B,$,K)=>{B.listen($,De=>{try{K(De)}catch(ze){setTimeout(()=>{throw ze},0)}})};return F(y,Sv.EventType.OPEN,()=>{E||Le("Connection","WebChannel transport opened.")}),F(y,Sv.EventType.CLOSE,()=>{E||(E=!0,Le("Connection","WebChannel transport closed"),T.io())}),F(y,Sv.EventType.ERROR,B=>{E||(E=!0,ic("Connection","WebChannel transport errored:",B),T.io(new Oe(ue.UNAVAILABLE,"The operation could not be completed")))}),F(y,Sv.EventType.MESSAGE,B=>{var $;if(!E){const K=B.data[0];mt(!!K);const ze=K.error||(null===($=K[0])||void 0===$?void 0:$.error);if(ze){Le("Connection","WebChannel received error:",ze);const Ge=ze.status;let $e=function(Ct){const ln=Ki[Ct];if(void 0!==ln)return HA(ln)}(Ge),gt=ze.message;void 0===$e&&($e=ue.INTERNAL,gt="Unknown error status: "+Ge+" with message "+ze.message),E=!0,T.io(new Oe($e,gt)),y.close()}else Le("Connection","WebChannel received:",K),T.ro(K)}}),F(c,sO.STAT_EVENT,B=>{B.stat===oO.PROXY?Le("Connection","Detected buffering proxy"):B.stat===oO.NOPROXY&&Le("Connection","Detected no buffering proxy")}),setTimeout(()=>{T.so()},0),T}}function zI(){return typeof window<"u"?window:null}function lb(){return typeof document<"u"?document:null}function Cp(n){return new bB(n,!0)}class cb{constructor(t,e,i=1e3,r=1.5,s=6e4){this.Hs=t,this.timerId=e,this.mo=i,this.yo=r,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const e=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,e-i);r>0&&Le("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class GI{constructor(t,e,i,r,s,c,d,p){this.Hs=t,this.vo=i,this.Vo=r,this.connection=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new cb(t,e)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var t=this;return(0,_e.Z)(function*(){t.No()&&(yield t.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(t){this.Lo(),this.stream.send(t)}$o(){var t=this;return(0,_e.Z)(function*(){if(t.ko())return t.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(t,e){var i=this;return(0,_e.Z)(function*(){i.Lo(),i.qo(),i.xo.cancel(),i.So++,4!==t?i.xo.reset():e&&e.code===ue.RESOURCE_EXHAUSTED?(ui(e.toString()),ui("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):e&&e.code===ue.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Uo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Zr(e)})()}Uo(){}auth(){this.state=1;const t=this.Ko(this.So),e=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===e&&this.Go(i,r)},i=>{t(()=>{const r=new Oe(ue.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(t,e){const i=this.Ko(this.So);this.stream=this.jo(t,e),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var t=this;this.state=5,this.xo.Ro((0,_e.Z)(function*(){t.state=0,t.start()}))}Qo(t){return Le("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return e=>{this.Hs.enqueueAndForget(()=>this.So===t?e():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jI extends GI{constructor(t,e,i,r,s,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.yt=s}jo(t,e){return this.connection.wo("Listen",t,e)}onMessage(t){this.xo.reset();const e=function Kg(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(p=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:at(),r=t.targetChange.targetIds||[],s=function(p,y){return p.wt?(mt(void 0===y||"string"==typeof y),ar.fromBase64String(y||"")):(mt(void 0===y||y instanceof Uint8Array),ar.fromUint8Array(y||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(p){const y=void 0===p.code?ue.UNKNOWN:HA(p.code);return new Oe(y,p.message||"")}(c);e=new LC(i,r,s,d||null)}else if("documentChange"in t){const i=t.documentChange,r=sl(n,i.document.name),s=Qi(i.document.updateTime),c=i.document.createTime?Qi(i.document.createTime):Et.min(),d=new yr({mapValue:{fields:i.document.fields}}),p=si.newFoundDocument(r,s,c,d);e=new Yg(i.targetIds||[],i.removedTargetIds||[],p.key,p)}else if("documentDelete"in t){const i=t.documentDelete,r=sl(n,i.document),s=i.readTime?Qi(i.readTime):Et.min(),c=si.newNoDocument(r,s);e=new Yg([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in t){const i=t.documentRemove,r=sl(n,i.document);e=new Yg([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return at();{const i=t.filter,s=new UA(i.count||0);e=new NC(i.targetId,s)}}var p;return e}(this.yt,t),i=function(r){if(!("targetChange"in r))return Et.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Et.min():s.readTime?Qi(s.readTime):Et.min()}(t);return this.listener.Wo(e,i)}zo(t){const e={};e.database=Gv(this.yt),e.addTarget=function(r,s){let c;const d=s.target;return c=Bg(d)?{documents:UC(r,d)}:{query:HC(r,d)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?c.resumeToken=Wg(r,s.resumeToken):s.snapshotVersion.compareTo(Et.min())>0&&(c.readTime=ah(r,s.snapshotVersion.toTimestamp())),c}(this.yt,t);const i=function kO(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return at()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Bo(e)}Ho(t){const e={};e.database=Gv(this.yt),e.removeTarget=t,this.Bo(e)}}class $I extends GI{constructor(t,e,i,r,s,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(t,e){return this.connection.wo("Write",t,e)}onMessage(t){if(mt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const e=function TO(n,t){return n&&n.length>0?(mt(void 0!==t),n.map(e=>function(i,r){let s=Qi(i.updateTime?i.updateTime:r);return s.isEqual(Et.min())&&(s=Qi(r)),new LA(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Qi(t.commitTime);return this.listener.Zo(i,e)}return mt(!t.writeResults||0===t.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=Gv(this.yt),this.Bo(t)}Xo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Qg(this.yt,i))};this.Bo(e)}}class cF extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.yt=r,this.nu=!1}su(){if(this.nu)throw new Oe(ue.FAILED_PRECONDITION,"The client has already been terminated.")}ao(t,e,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.ao(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Oe(ue.UNKNOWN,r.toString())})}_o(t,e,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection._o(t,e,i,s,c,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Oe(ue.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class dF{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(t){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,"Online"===t&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ui(e),this.ou=!1):Le("OnlineStateTracker",e)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class qI{constructor(t,e,i,r,s){var c=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(d=>{i.enqueueAndForget((0,_e.Z)(function*(){var p;Ou(c)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,_e.Z)(function*(y){const w=Je(y);w._u.add(4),yield dh(w),w.gu.set("Unknown"),w._u.delete(4),yield xp(w)}),function(y){return p.apply(this,arguments)})(c))}))}),this.gu=new dF(i,r)}}function xp(n){return db.apply(this,arguments)}function db(){return db=(0,_e.Z)(function*(n){if(Ou(n))for(const t of n.wu)yield t(!0)}),db.apply(this,arguments)}function dh(n){return bx.apply(this,arguments)}function bx(){return bx=(0,_e.Z)(function*(n){for(const t of n.wu)yield t(!1)}),bx.apply(this,arguments)}function hb(n,t){const e=Je(n);e.du.has(t.targetId)||(e.du.set(t.targetId,t),WI(e)?YI(e):Ep(e).ko()&&pb(e,t))}function fb(n,t){const e=Je(n),i=Ep(e);e.du.delete(t),i.ko()&&hF(e,t),0===e.du.size&&(i.ko()?i.Fo():Ou(e)&&e.gu.set("Unknown"))}function pb(n,t){n.yu.Ot(t.targetId),Ep(n).zo(t)}function hF(n,t){n.yu.Ot(t),Ep(n).Ho(t)}function YI(n){n.yu=new qA({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ne:t=>n.du.get(t)||null}),Ep(n).start(),n.gu.uu()}function WI(n){return Ou(n)&&!Ep(n).No()&&n.du.size>0}function Ou(n){return 0===Je(n)._u.size}function fF(n){n.yu=void 0}function xB(n){return ZI.apply(this,arguments)}function ZI(){return ZI=(0,_e.Z)(function*(n){n.du.forEach((t,e)=>{pb(n,t)})}),ZI.apply(this,arguments)}function DB(n,t){return KI.apply(this,arguments)}function KI(){return KI=(0,_e.Z)(function*(n,t){fF(n),WI(n)?(n.gu.hu(t),YI(n)):n.gu.set("Unknown")}),KI.apply(this,arguments)}function QI(n,t,e){return h_.apply(this,arguments)}function h_(){return h_=(0,_e.Z)(function*(n,t,e){if(n.gu.set("Online"),t instanceof LC&&2===t.state&&t.cause)try{yield(i=(0,_e.Z)(function*(r,s){const c=s.cause;for(const d of s.targetIds)r.du.has(d)&&(yield r.remoteSyncer.rejectListen(d,c),r.du.delete(d),r.yu.removeTarget(d))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){Le("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield f_(n,i)}else if(t instanceof Yg?n.yu.Kt(t):t instanceof NC?n.yu.Jt(t):n.yu.jt(t),!e.isEqual(Et.min()))try{const i=yield LI(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const c=r.yu.Zt(s);return c.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const y=r.du.get(p);y&&r.du.set(p,y.withResumeToken(d.resumeToken,s))}}),c.targetMismatches.forEach(d=>{const p=r.du.get(d);if(!p)return;r.du.set(d,p.withResumeToken(ar.EMPTY_BYTE_STRING,p.snapshotVersion)),hF(r,d);const y=new Eu(p.target,d,1,p.sequenceNumber);pb(r,y)}),r.remoteSyncer.applyRemoteEvent(c)}(n,e))}catch(i){Le("RemoteStore","Failed to raise snapshot:",i),yield f_(n,i)}var i}),h_.apply(this,arguments)}function f_(n,t,e){return wx.apply(this,arguments)}function wx(){return wx=(0,_e.Z)(function*(n,t,e){if(!gu(t))throw t;n._u.add(1),yield dh(n),n.gu.set("Offline"),e||(e=()=>LI(n.localStore)),n.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield e(),n._u.delete(1),yield xp(n)}))}),wx.apply(this,arguments)}function p_(n,t){return t().catch(e=>f_(n,e,t))}function Dp(n){return XI.apply(this,arguments)}function XI(){return XI=(0,_e.Z)(function*(n){const t=Je(n),e=ul(t);let i=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;EB(t);)try{const r=yield BI(t.localStore,i);if(null===r){0===t.fu.length&&e.Fo();break}i=r.batchId,pF(t,r)}catch(r){yield f_(t,r)}Cx(t)&&JI(t)}),XI.apply(this,arguments)}function EB(n){return Ou(n)&&n.fu.length<10}function pF(n,t){n.fu.push(t);const e=ul(n);e.ko()&&e.Yo&&e.Xo(t.mutations)}function Cx(n){return Ou(n)&&!ul(n).No()&&n.fu.length>0}function JI(n){ul(n).start()}function mF(n){return xx.apply(this,arguments)}function xx(){return xx=(0,_e.Z)(function*(n){ul(n).eu()}),xx.apply(this,arguments)}function SB(n){return Dx.apply(this,arguments)}function Dx(){return Dx=(0,_e.Z)(function*(n){const t=ul(n);for(const e of n.fu)t.Xo(e.mutations)}),Dx.apply(this,arguments)}function eM(n,t,e){return mb.apply(this,arguments)}function mb(){return mb=(0,_e.Z)(function*(n,t,e){const i=n.fu.shift(),r=Xg.from(i,t,e);yield p_(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Dp(n)}),mb.apply(this,arguments)}function AB(n,t){return Co.apply(this,arguments)}function Co(){return Co=(0,_e.Z)(function*(n,t){var e;t&&ul(n).Yo&&(yield(e=(0,_e.Z)(function*(i,r){if(FC(s=r.code)&&s!==ue.ABORTED){const c=i.fu.shift();ul(i).Mo(),yield p_(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield Dp(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),Cx(n)&&JI(n)}),Co.apply(this,arguments)}function Ex(n,t){return Sx.apply(this,arguments)}function Sx(){return Sx=(0,_e.Z)(function*(n,t){const e=Je(n);e.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const i=Ou(e);e._u.add(3),yield dh(e),i&&e.gu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e._u.delete(3),yield xp(e)}),Sx.apply(this,arguments)}function tM(n,t){return jr.apply(this,arguments)}function jr(){return jr=(0,_e.Z)(function*(n,t){const e=Je(n);t?(e._u.delete(2),yield xp(e)):t||(e._u.add(2),yield dh(e),e.gu.set("Unknown"))}),jr.apply(this,arguments)}function Ep(n){return n.pu||(n.pu=function(t,e,i){const r=Je(t);return r.su(),new jI(e,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(n.datastore,n.asyncQueue,{Yr:xB.bind(null,n),Zr:DB.bind(null,n),Wo:QI.bind(null,n)}),n.wu.push(function(){var t=(0,_e.Z)(function*(e){e?(n.pu.Mo(),WI(n)?YI(n):n.gu.set("Unknown")):(yield n.pu.stop(),fF(n))});return function(e){return t.apply(this,arguments)}}())),n.pu}function ul(n){return n.Iu||(n.Iu=function(t,e,i){const r=Je(t);return r.su(),new $I(e,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(n.datastore,n.asyncQueue,{Yr:mF.bind(null,n),Zr:AB.bind(null,n),tu:SB.bind(null,n),Zo:eM.bind(null,n)}),n.wu.push(function(){var t=(0,_e.Z)(function*(e){e?(n.Iu.Mo(),yield Dp(n)):(yield n.Iu.stop(),n.fu.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Iu}class Ax{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(t,e,i,r,s){const c=Date.now()+i,d=new Ax(t,e,c,r,s);return d.start(i),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(ue.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sp(n,t){if(ui("AsyncQueue",`${t}: ${n}`),gu(n))return new Oe(ue.UNAVAILABLE,`${t}: ${n}`);throw n}class Fu{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Qe.comparator(e.key,i.key):(e,i)=>Qe.comparator(e.key,i.key),this.keyedMap=Gg(),this.sortedSet=new hi(this.comparator)}static emptySet(t){return new Fu(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Fu)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Fu;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class Ix{constructor(){this.Tu=new hi(Qe.comparator)}track(t){const e=t.doc.key,i=this.Tu.get(e);i?0!==t.type&&3===i.type?this.Tu=this.Tu.insert(e,t):3===t.type&&1!==i.type?this.Tu=this.Tu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Tu=this.Tu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Tu=this.Tu.remove(e):1===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):at():this.Tu=this.Tu.insert(e,t)}Eu(){const t=[];return this.Tu.inorderTraversal((e,i)=>{t.push(i)}),t}}class hh{constructor(t,e,i,r,s,c,d,p,y){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,e,i,r,s){const c=[];return e.forEach(d=>{c.push({type:0,doc:d})}),new hh(t,e,Fu.emptySet(e),c,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ug(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class gF{constructor(){this.Au=void 0,this.listeners=[]}}class nM{constructor(){this.queries=new Du(t=>TA(t),Ug),this.onlineState="Unknown",this.Ru=new Set}}function gb(n,t){return _b.apply(this,arguments)}function _b(){return _b=(0,_e.Z)(function*(n,t){const e=Je(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new gF),r)try{s.Au=yield e.onListen(i)}catch(c){const d=Sp(c,`Initialization of query '${EC(t.query)}' failed`);return void t.onError(d)}e.queries.set(i,s),s.listeners.push(t),t.bu(e.onlineState),s.Au&&t.Pu(s.Au)&&m_(e)}),_b.apply(this,arguments)}function yb(n,t){return Mx.apply(this,arguments)}function Mx(){return Mx=(0,_e.Z)(function*(n,t){const e=Je(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const c=s.listeners.indexOf(t);c>=0&&(s.listeners.splice(c,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),Mx.apply(this,arguments)}function iM(n,t){const e=Je(n);let i=!1;for(const r of t){const c=e.queries.get(r.query);if(c){for(const d of c.listeners)d.Pu(r)&&(i=!0);c.Au=r}}i&&m_(e)}function _F(n,t,e){const i=Je(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function m_(n){n.Ru.forEach(t=>{t.next()})}class dl{constructor(t,e,i){this.query=t,this.vu=e,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new hh(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),e=!0):this.Cu(t,this.onlineState)&&(this.xu(t),e=!0),this.Su=t,e}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),e=!0),e}Cu(t,e){return!t.fromCache||(!this.options.Nu||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Du(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(t){t=hh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Vu=!0,this.vu.next(t)}}class rM{constructor(t,e){this.ku=t,this.byteLength=e}Ou(){return"metadata"in this.ku}}class vb{constructor(t){this.yt=t}Ji(t){return sl(this.yt,t)}Yi(t){return t.metadata.exists?QA(this.yt,t.document,!1):si.newNoDocument(this.Ji(t.metadata.name),this.Xi(t.metadata.readTime))}Xi(t){return Qi(t)}}class Tx{constructor(t,e,i){this.Mu=t,this.localStore=e,this.yt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=sM(t)}Fu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.ku.namedQuery)this.queries.push(t.ku.namedQuery);else if(t.ku.documentMetadata){this.documents.push({metadata:t.ku.documentMetadata}),t.ku.documentMetadata.exists||++e;const i=wn.fromString(t.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.ku.document&&(this.documents[this.documents.length-1].document=t.ku.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}$u(t){const e=new Map,i=new vb(this.yt);for(const r of t)if(r.metadata.queries){const s=i.Ji(r.metadata.name);for(const c of r.metadata.queries){const d=(e.get(c)||Gt()).add(s);e.set(c,d)}}return e}complete(){var t=this;return(0,_e.Z)(function*(){const e=yield function sF(n,t,e,i){return px.apply(this,arguments)}(t.localStore,new vb(t.yt),t.documents,t.Mu.id),i=t.$u(t.documents);for(const r of t.queries)yield mx(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Bu:t.collectionGroups,Lu:e}})()}}function sM(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class yF{constructor(t){this.key=t}}class kx{constructor(t){this.key=t}}class oM{constructor(t,e){this.query=t,this.qu=e,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Gt(),this.mutatedKeys=Gt(),this.Gu=RA(t),this.Qu=new Fu(this.Gu)}get ju(){return this.qu}Wu(t,e){const i=e?e.zu:new Ix,r=e?e.Qu:this.Qu;let s=e?e.mutatedKeys:this.mutatedKeys,c=r,d=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,y="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((w,E)=>{const T=r.get(w),F=SC(this.query,E)?E:null,B=!!T&&this.mutatedKeys.has(T.key),$=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let K=!1;T&&F?T.data.isEqual(F.data)?B!==$&&(i.track({type:3,doc:F}),K=!0):this.Hu(T,F)||(i.track({type:2,doc:F}),K=!0,(p&&this.Gu(F,p)>0||y&&this.Gu(F,y)<0)&&(d=!0)):!T&&F?(i.track({type:0,doc:F}),K=!0):T&&!F&&(i.track({type:1,doc:T}),K=!0,(p||y)&&(d=!0)),K&&(F?(c=c.add(F),s=$?s.add(w):s.delete(w)):(c=c.delete(w),s=s.delete(w)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const w="F"===this.query.limitType?c.last():c.first();c=c.delete(w.key),s=s.delete(w.key),i.track({type:1,doc:w})}return{Qu:c,zu:i,$i:d,mutatedKeys:s}}Hu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const s=t.zu.Eu();s.sort((y,w)=>function(E,T){const F=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at()}};return F(E)-F(T)}(y.type,w.type)||this.Gu(y.doc,w.doc)),this.Ju(i);const c=e?this.Yu():[],d=0===this.Ku.size&&this.current?1:0,p=d!==this.Uu;return this.Uu=d,0!==s.length||p?{snapshot:new hh(this.query,t.Qu,r,s,t.mutatedKeys,0===d,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:c}:{Xu:c}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Ix,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(t){return!this.qu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach(e=>this.qu=this.qu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.qu=this.qu.delete(e)),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=Gt(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const e=[];return t.forEach(i=>{this.Ku.has(i)||e.push(new kx(i))}),this.Ku.forEach(i=>{t.has(i)||e.push(new yF(i))}),e}tc(t){this.qu=t.Hi,this.Ku=Gt();const e=this.Wu(t.documents);return this.applyChanges(e,!0)}ec(){return hh.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class vF{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class bF{constructor(t){this.key=t,this.nc=!1}}class wF{constructor(t,e,i,r,s,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.sc={},this.ic=new Du(d=>TA(d),Ug),this.rc=new Map,this.oc=new Set,this.uc=new hi(Qe.comparator),this.cc=new Map,this.ac=new l_,this.hc={},this.lc=new Map,this.fc=al.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function aM(n,t){return lM.apply(this,arguments)}function lM(){return lM=(0,_e.Z)(function*(n,t){const e=yM(n);let i,r;const s=e.ic.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.ec();else{const c=yield ku(e.localStore,Ds(t));e.isPrimaryClient&&hb(e.remoteStore,c);const d=e.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield bb(e,t,i,"current"===d,c.resumeToken)}return r}),lM.apply(this,arguments)}function bb(n,t,e,i,r){return Rx.apply(this,arguments)}function Rx(){return Rx=(0,_e.Z)(function*(n,t,e,i,r){n._c=(E,T,F)=>{return(B=(0,_e.Z)(function*($,K,De,ze){let Ge=K.view.Wu(De);Ge.$i&&(Ge=yield bp($.localStore,K.query,!1).then(({documents:Ct})=>K.view.Wu(Ct,Ge)));const $e=ze&&ze.targetChanges.get(K.targetId),gt=K.view.applyChanges(Ge,$.isPrimaryClient,$e);return mM($,K.targetId,gt.Xu),gt.snapshot}),function($,K,De,ze){return B.apply(this,arguments)})(n,E,T,F);var B};const s=yield bp(n.localStore,t,!0),c=new oM(t,s.Hi),d=c.Wu(s.documents),p=qg.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),y=c.applyChanges(d,n.isPrimaryClient,p);mM(n,e,y.Xu);const w=new vF(t,e,c);return n.ic.set(t,w),n.rc.has(e)?n.rc.get(e).push(t):n.rc.set(e,[t]),y.snapshot}),Rx.apply(this,arguments)}function cM(n,t){return uM.apply(this,arguments)}function uM(){return uM=(0,_e.Z)(function*(n,t){const e=Je(n),i=e.ic.get(t),r=e.rc.get(i.targetId);if(r.length>1)return e.rc.set(i.targetId,r.filter(s=>!Ug(s,t))),void e.ic.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield cl(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),fb(e.remoteStore,i.targetId),Ap(e,i.targetId)}).catch(mu))):(Ap(e,i.targetId),yield cl(e.localStore,i.targetId,!0))}),uM.apply(this,arguments)}function wb(){return wb=(0,_e.Z)(function*(n,t,e){const i=vM(n);try{const r=yield function(s,c){const d=Je(s),p=di.now(),y=c.reduce((T,F)=>T.add(F.key),Gt());let w,E;return d.persistence.runTransaction("Locally write mutations","readwrite",T=>{let F=Sr(),B=Gt();return d.Gi.getEntries(T,y).next($=>{F=$,F.forEach((K,De)=>{De.isValidDocument()||(B=B.add(K))})}).next(()=>d.localDocuments.getOverlayedDocuments(T,F)).next($=>{w=$;const K=[];for(const De of c){const ze=op(De,w.get(De.key).overlayedDocument);null!=ze&&K.push(new Qo(De.key,ze,Lg(ze.value.mapValue),fi.exists(!0)))}return d.mutationQueue.addMutationBatch(T,p,K,c)}).next($=>{E=$;const K=$.applyToLocalDocumentSet(w,B);return d.documentOverlayCache.saveOverlays(T,$.batchId,K)})}).then(()=>({batchId:E.batchId,changes:GA(w)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,c,d){let p=s.hc[s.currentUser.toKey()];p||(p=new hi($t)),p=p.insert(c,d),s.hc[s.currentUser.toKey()]=p}(i,r.batchId,e),yield hc(i,r.changes),yield Dp(i.remoteStore)}catch(r){const s=Sp(r,"Failed to persist write");e.reject(s)}}),wb.apply(this,arguments)}function Fx(n,t){return Px.apply(this,arguments)}function Px(){return Px=(0,_e.Z)(function*(n,t){const e=Je(n);try{const i=yield function wB(n,t){const e=Je(n),i=t.snapshotVersion;let r=e.qi;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=e.Gi.newChangeBuffer({trackRemovals:!0});r=e.qi;const d=[];t.targetChanges.forEach((w,E)=>{const T=r.get(E);if(!T)return;d.push(e.Cs.removeMatchingKeys(s,w.removedDocuments,E).next(()=>e.Cs.addMatchingKeys(s,w.addedDocuments,E)));let F=T.withSequenceNumber(s.currentSequenceNumber);var B,$,K;t.targetMismatches.has(E)?F=F.withResumeToken(ar.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):w.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(w.resumeToken,i)),r=r.insert(E,F),$=F,K=w,(0===(B=T).resumeToken.approximateByteSize()||$.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0)&&d.push(e.Cs.updateTargetData(s,F))});let p=Sr(),y=Gt();if(t.documentUpdates.forEach(w=>{t.resolvedLimboDocuments.has(w)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(s,w))}),d.push(rF(s,c,t.documentUpdates).next(w=>{p=w.Wi,y=w.zi})),!i.isEqual(Et.min())){const w=e.Cs.getLastRemoteSnapshotVersion(s).next(E=>e.Cs.setTargetsMetadata(s,s.currentSequenceNumber,i));d.push(w)}return ce.waitFor(d).next(()=>c.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,p,y)).next(()=>p)}).then(s=>(e.qi=r,s))}(e.localStore,t);t.targetChanges.forEach((r,s)=>{const c=e.cc.get(s);c&&(mt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.nc=!0:r.modifiedDocuments.size>0?mt(c.nc):r.removedDocuments.size>0&&(mt(c.nc),c.nc=!1))}),yield hc(e,i,t)}catch(i){yield mu(i)}}),Px.apply(this,arguments)}function Nx(n,t,e){const i=Je(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ic.forEach((s,c)=>{const d=c.view.bu(t);d.snapshot&&r.push(d.snapshot)}),function(s,c){const d=Je(s);d.onlineState=c;let p=!1;d.queries.forEach((y,w)=>{for(const E of w.listeners)E.bu(c)&&(p=!0)}),p&&m_(d)}(i.eventManager,t),r.length&&i.sc.Wo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function dM(n,t,e){return Pu.apply(this,arguments)}function Pu(){return Pu=(0,_e.Z)(function*(n,t,e){const i=Je(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.cc.get(t),s=r&&r.key;if(s){let c=new hi(Qe.comparator);c=c.insert(s,si.newNoDocument(s,Et.min()));const d=Gt().add(s),p=new $g(Et.min(),new Map,new Un($t),c,d);yield Fx(i,p),i.uc=i.uc.remove(s),i.cc.delete(t),Eb(i)}else yield cl(i.localStore,t,!1).then(()=>Ap(i,t,e)).catch(mu)}),Pu.apply(this,arguments)}function Cb(n,t){return xb.apply(this,arguments)}function xb(){return xb=(0,_e.Z)(function*(n,t){const e=Je(n),i=t.batch.batchId;try{const r=yield function iF(n,t){const e=Je(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Gi.newChangeBuffer({trackRemovals:!0});return function(c,d,p,y){const w=p.batch,E=w.keys();let T=ce.resolve();return E.forEach(F=>{T=T.next(()=>y.getEntry(d,F)).next(B=>{const $=p.docVersions.get(F);mt(null!==$),B.version.compareTo($)<0&&(w.applyToRemoteDocument(B,p),B.isValidDocument()&&(B.setReadTime(p.commitVersion),y.addEntry(B)))})}),T.next(()=>c.mutationQueue.removeMutationBatch(d,w))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let d=Gt();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);Bx(e,i,null),Db(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield hc(e,r)}catch(r){yield mu(r)}}),xb.apply(this,arguments)}function hM(n,t,e){return Lx.apply(this,arguments)}function Lx(){return Lx=(0,_e.Z)(function*(n,t,e){const i=Je(n);try{const r=yield function(s,c){const d=Je(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return d.mutationQueue.lookupMutationBatch(p,c).next(w=>(mt(null!==w),y=w.keys(),d.mutationQueue.removeMutationBatch(p,w))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,y,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>d.localDocuments.getDocuments(p,y))})}(i.localStore,t);Bx(i,t,e),Db(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield hc(i,r)}catch(r){yield mu(r)}}),Lx.apply(this,arguments)}function fM(){return fM=(0,_e.Z)(function*(n,t){const e=Je(n);Ou(e.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const c=Je(s);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>c.mutationQueue.getHighestUnacknowledgedBatchId(d))}(e.localStore);if(-1===i)return void t.resolve();const r=e.lc.get(i)||[];r.push(t),e.lc.set(i,r)}catch(i){const r=Sp(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),fM.apply(this,arguments)}function Db(n,t){(n.lc.get(t)||[]).forEach(e=>{e.resolve()}),n.lc.delete(t)}function Bx(n,t,e){const i=Je(n);let r=i.hc[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.hc[i.currentUser.toKey()]=r}}function Ap(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.rc.get(t))n.ic.delete(i),e&&n.sc.wc(i,e);n.rc.delete(t),n.isPrimaryClient&&n.ac.ls(t).forEach(i=>{n.ac.containsKey(i)||pM(n,i)})}function pM(n,t){n.oc.delete(t.path.canonicalString());const e=n.uc.get(t);null!==e&&(fb(n.remoteStore,e),n.uc=n.uc.remove(t),n.cc.delete(e),Eb(n))}function mM(n,t,e){for(const i of e)i instanceof yF?(n.ac.addReference(i.key,t),IB(n,i)):i instanceof kx?(Le("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,t),n.ac.containsKey(i.key)||pM(n,i.key)):at()}function IB(n,t){const e=t.key,i=e.path.canonicalString();n.uc.get(e)||n.oc.has(i)||(Le("SyncEngine","New document in limbo: "+e),n.oc.add(i),Eb(n))}function Eb(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const t=n.oc.values().next().value;n.oc.delete(t);const e=new Qe(wn.fromString(t)),i=n.fc.next();n.cc.set(i,new bF(e)),n.uc=n.uc.insert(e,i),hb(n.remoteStore,new Eu(Ds(rp(e.path)),i,2,Ws.at))}}function hc(n,t,e){return Vx.apply(this,arguments)}function Vx(){return Vx=(0,_e.Z)(function*(n,t,e){const i=Je(n),r=[],s=[],c=[];var d;i.ic.isEmpty()||(i.ic.forEach((d,p)=>{c.push(i._c(p,t,e).then(y=>{if((y||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,y?.fromCache?"not-current":"current"),y){r.push(y);const w=rb.Ci(p.targetId,y);s.push(w)}}))}),yield Promise.all(c),i.sc.Wo(r),yield(d=(0,_e.Z)(function*(p,y){const w=Je(p);try{yield w.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>ce.forEach(y,T=>ce.forEach(T.Si,F=>w.persistence.referenceDelegate.addReference(E,T.targetId,F)).next(()=>ce.forEach(T.Di,F=>w.persistence.referenceDelegate.removeReference(E,T.targetId,F)))))}catch(E){if(!gu(E))throw E;Le("LocalStore","Failed to update sequence numbers: "+E)}for(const E of y){const T=E.targetId;if(!E.fromCache){const F=w.qi.get(T),$=F.withLastLimboFreeSnapshotVersion(F.snapshotVersion);w.qi=w.qi.insert(T,$)}}}),function(p,y){return d.apply(this,arguments)})(i.localStore,s))}),Vx.apply(this,arguments)}function xF(n,t){return gM.apply(this,arguments)}function gM(){return gM=(0,_e.Z)(function*(n,t){const e=Je(n);if(!e.currentUser.isEqual(t)){Le("SyncEngine","User change. New user:",t.toKey());const i=yield as(e.localStore,t);e.currentUser=t,(r=e).lc.forEach(c=>{c.forEach(d=>{d.reject(new Oe(ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield hc(e,i.ji)}var r}),gM.apply(this,arguments)}function MB(n,t){const e=Je(n),i=e.cc.get(t);if(i&&i.nc)return Gt().add(i.key);{let r=Gt();const s=e.rc.get(t);if(!s)return r;for(const c of s){const d=e.ic.get(c);r=r.unionWith(d.view.ju)}return r}}function TB(n,t){return _M.apply(this,arguments)}function _M(){return _M=(0,_e.Z)(function*(n,t){const e=Je(n),i=yield bp(e.localStore,t.query,!0),r=t.view.tc(i);return e.isPrimaryClient&&mM(e,t.targetId,r.Xu),r}),_M.apply(this,arguments)}function kB(n,t){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,_e.Z)(function*(n,t){const e=Je(n);return fx(e.localStore,t).then(i=>hc(e,i))}),Ux.apply(this,arguments)}function Sb(n,t,e,i){return Hx.apply(this,arguments)}function Hx(){return Hx=(0,_e.Z)(function*(n,t,e,i){const r=Je(n),s=yield function(c,d){const p=Je(c),y=Je(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",w=>y.Tn(w,d).next(E=>E?p.localDocuments.getDocuments(w,E):ce.resolve(null)))}(r.localStore,t);var d;null!==s?("pending"===e?yield Dp(r.remoteStore):"acknowledged"===e||"rejected"===e?(Bx(r,t,i||null),Db(r,t),d=t,Je(Je(r.localStore).mutationQueue).An(d)):at(),yield hc(r,s)):Le("SyncEngine","Cannot apply mutation batch with id: "+t)}),Hx.apply(this,arguments)}function Ab(){return Ab=(0,_e.Z)(function*(n,t){const e=Je(n);if(yM(e),vM(e),!0===t&&!0!==e.dc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield Nu(e,i.toArray());e.dc=!0,yield tM(e.remoteStore,!0);for(const s of r)hb(e.remoteStore,s)}else if(!1===t&&!1!==e.dc){const i=[];let r=Promise.resolve();e.rc.forEach((s,c)=>{e.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(Ap(e,c),cl(e.localStore,c,!0))),fb(e.remoteStore,c)}),yield r,yield Nu(e,i),function(s){const c=Je(s);c.cc.forEach((d,p)=>{fb(c.remoteStore,p)}),c.ac.fs(),c.cc=new Map,c.uc=new hi(Qe.comparator)}(e),e.dc=!1,yield tM(e.remoteStore,!1)}}),Ab.apply(this,arguments)}function Nu(n,t,e){return Ib.apply(this,arguments)}function Ib(){return Ib=(0,_e.Z)(function*(n,t,e){const i=Je(n),r=[],s=[];for(const c of t){let d;const p=i.rc.get(c);if(p&&0!==p.length){d=yield ku(i.localStore,Ds(p[0]));for(const y of p){const w=i.ic.get(y),E=yield TB(i,w);E.snapshot&&s.push(E.snapshot)}}else{const y=yield VI(i.localStore,c);d=yield ku(i.localStore,y),yield bb(i,Mb(y),c,!1,d.resumeToken)}r.push(d)}return i.sc.Wo(s),r}),Ib.apply(this,arguments)}function Mb(n){return IA(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function zx(n){const t=Je(n);return Je(Je(t.localStore).persistence).vi()}function EF(n,t,e,i){return g_.apply(this,arguments)}function g_(){return g_=(0,_e.Z)(function*(n,t,e,i){const r=Je(n);if(r.dc)return void Le("SyncEngine","Ignoring unexpected query state notification.");const s=r.rc.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const c=yield fx(r.localStore,kA(s[0])),d=$g.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,ar.EMPTY_BYTE_STRING);yield hc(r,c,d);break}case"rejected":yield cl(r.localStore,t,!0),Ap(r,t,i);break;default:at()}}),g_.apply(this,arguments)}function Gx(n,t,e){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,_e.Z)(function*(n,t,e){const i=yM(n);if(i.dc){for(const r of t){if(i.rc.has(r)){Le("SyncEngine","Adding an already active target "+r);continue}const s=yield VI(i.localStore,r),c=yield ku(i.localStore,s);yield bb(i,Mb(s),c.targetId,!1,c.resumeToken),hb(i.remoteStore,c)}for(const r of e)i.rc.has(r)&&(yield cl(i.localStore,r,!1).then(()=>{fb(i.remoteStore,r),Ap(i,r)}).catch(mu))}}),Ip.apply(this,arguments)}function yM(n){const t=Je(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=Fx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=MB.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=dM.bind(null,t),t.sc.Wo=iM.bind(null,t.eventManager),t.sc.wc=_F.bind(null,t.eventManager),t}function vM(n){const t=Je(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Cb.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=hM.bind(null,t),t}class jx{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,_e.Z)(function*(){e.yt=Cp(t.databaseInfo.databaseId),e.sharedClientState=e.gc(t),e.persistence=e.yc(t),yield e.persistence.start(),e.localStore=e.Ic(t),e.gcScheduler=e.Tc(t,e.localStore),e.indexBackfillerScheduler=e.Ec(t,e.localStore)})()}Tc(t,e){return null}Ec(t,e){return null}Ic(t){return dx(this.persistence,new PI,t.initialUser,this.yt)}yc(t){return new FI(c_.Bs,this.yt)}gc(t){return new yx}terminate(){var t=this;return(0,_e.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class bM extends jx{constructor(t,e,i){super(),this.Ac=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,_e.Z)(function*(){yield e().call(i,t),yield i.Ac.initialize(i,t),yield vM(i.Ac.syncEngine),yield Dp(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(t){return dx(this.persistence,new PI,t.initialUser,this.yt)}Tc(t,e){return new II(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Ec(t,e){const i=new vA(e,this.persistence);return new pO(t.asyncQueue,i)}yc(t){const e=ib(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?os.withCacheSize(this.cacheSizeBytes):os.DEFAULT;return new tb(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,zI(),lb(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(t){return new yx}}class SF extends bM{constructor(t,e){super(t,e,!1),this.Ac=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,_e.Z)(function*(){yield e().call(i,t);const r=i.Ac.syncEngine;i.sharedClientState instanceof _x&&(i.sharedClientState.syncEngine={Fr:Sb.bind(null,r),$r:EF.bind(null,r),Br:Gx.bind(null,r),vi:zx.bind(null,r),Mr:kB.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var s=(0,_e.Z)(function*(c){yield function DF(n,t){return Ab.apply(this,arguments)}(i.Ac.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return s.apply(this,arguments)}}())})()}gc(t){const e=zI();if(!_x.C(e))throw new Oe(ue.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=ib(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new _x(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class $x{initialize(t,e){var i=this;return(0,_e.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>Nx(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=xF.bind(null,i.syncEngine),yield tM(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new nM}createDatastore(t){const e=Cp(t.databaseInfo.databaseId),i=new lF(t.databaseInfo);return new cF(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=d=>Nx(this.syncEngine,d,0),c=oF.C()?new oF:new vx,new qI(e,i,r,s,c);var e,i,r,s,c}createSyncEngine(t,e){return function(i,r,s,c,d,p,y){const w=new wF(i,r,s,c,d,p);return y&&(w.dc=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,_e.Z)(function*(e){const i=Je(e);Le("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield dh(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function qx(n,t,e){if(!e)throw new Oe(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function Yx(n,t,e,i){if(!0===t&&!0===i)throw new Oe(ue.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Wx(n){if(!Qe.isDocumentKey(n))throw new Oe(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Zx(n){if(Qe.isDocumentKey(n))throw new Oe(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Tb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":at()}function mn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Oe(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Tb(n);throw new Oe(ue.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Kx(n,t){if(t<=0)throw new Oe(ue.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}const kb=new Map;class AF{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Oe(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Oe(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Yx("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Mp{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Oe(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Oe(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AF(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new uO;switch(e.type){case"gapi":return new mB(e.client,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Oe(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=kb.get(t);e&&(Le("ComponentProvider","Removing Datastore"),kb.delete(t),e.terminate())}(this),Promise.resolve()}}class pi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new pi(this.firestore,t,this._key)}}class $r{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new $r(this.firestore,t,this._query)}}class fc extends $r{constructor(t,e,i){super(t,e,rp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new pi(this.firestore,null,new Qe(t))}withConverter(t){return new fc(this.firestore,t,this._path)}}function IF(n,t,...e){if(n=(0,N.m9)(n),qx("collection","path",t),n instanceof Mp){const i=wn.fromString(t,...e);return Zx(i),new fc(n,null,i)}{if(!(n instanceof pi||n instanceof fc))throw new Oe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(wn.fromString(t,...e));return Zx(i),new fc(n.firestore,null,i)}}function Ob(n,t,...e){if(n=(0,N.m9)(n),1===arguments.length&&(t=nC.R()),qx("doc","path",t),n instanceof Mp){const i=wn.fromString(t,...e);return Wx(i),new pi(n,null,new Qe(i))}{if(!(n instanceof pi||n instanceof fc))throw new Oe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(wn.fromString(t,...e));return Wx(i),new pi(n.firestore,n instanceof fc?n.converter:null,new Qe(i))}}function wM(n,t){return n=(0,N.m9)(n),t=(0,N.m9)(t),(n instanceof pi||n instanceof fc)&&(t instanceof pi||t instanceof fc)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function Qx(n,t){return n=(0,N.m9)(n),t=(0,N.m9)(t),n instanceof $r&&t instanceof $r&&n.firestore===t.firestore&&Ug(n._query,t._query)&&n.converter===t.converter}function Xx(n,t=10240){let e=0;return{read:()=>(0,_e.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,_e.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class __{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Rc(this.observer.next,t)}error(t){this.observer.error?this.Rc(this.observer.error,t):ui("Uncaught Error in snapshot listener:",t.toString())}bc(){this.muted=!0}Rc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class OB{constructor(t,e){this.Pc=t,this.yt=e,this.metadata=new _r,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var t=this;return(0,_e.Z)(function*(){return t.metadata.promise})()}mc(){var t=this;return(0,_e.Z)(function*(){return yield t.getMetadata(),t.Vc()})()}Vc(){var t=this;return(0,_e.Z)(function*(){const e=yield t.Sc();if(null===e)return null;const i=t.vc.decode(e),r=Number(i);isNaN(r)&&t.Dc(`length string (${i}) is not valid number`);const s=yield t.Cc(r);return new rM(JSON.parse(s),e.length+r)})()}xc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Sc(){var t=this;return(0,_e.Z)(function*(){for(;t.xc()<0&&!(yield t.Nc()););if(0===t.buffer.length)return null;const e=t.xc();e<0&&t.Dc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Cc(t){var e=this;return(0,_e.Z)(function*(){for(;e.buffer.length<t;)(yield e.Nc())&&e.Dc("Reached the end of bundle when more is expected.");const i=e.vc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Dc(t){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${t}`)}Nc(){var t=this;return(0,_e.Z)(function*(){const e=yield t.Pc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class xM{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,_e.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Oe(ue.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,_e.Z)(function*(s,c){const d=Je(s),p=Gv(d.yt)+"/documents",y={documents:c.map(F=>Zg(d.yt,F))},w=yield d._o("BatchGetDocuments",p,y,c.length),E=new Map;w.forEach(F=>{const B=function MO(n,t){return"found"in t?function(e,i){mt(!!i.found);const r=sl(e,i.found.name),s=Qi(i.found.updateTime),c=i.found.createTime?Qi(i.found.createTime):Et.min(),d=new yr({mapValue:{fields:i.found.fields}});return si.newFoundDocument(r,s,c,d)}(n,t):"missing"in t?function(e,i){mt(!!i.missing),mt(!!i.readTime);const r=sl(e,i.missing),s=Qi(i.readTime);return si.newNoDocument(r,s)}(n,t):at()}(d.yt,F);E.set(B.key.toString(),B)});const T=[];return c.forEach(F=>{const B=E.get(F.toString());mt(!!B),T.push(B)}),T}),function(s,c){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new oh(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,_e.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=Qe.fromPath(r);t.mutations.push(new OC(s,t.precondition(s)))}),yield(i=(0,_e.Z)(function*(r,s){const c=Je(r),d=Gv(c.yt)+"/documents",p={writes:s.map(y=>Qg(c.yt,y))};yield c.ao("Commit",d,p)}),function(r,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw at();e=Et.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Oe(ue.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Et.min())?fi.exists(!1):fi.updateTime(e):fi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Et.min()))throw new Oe(ue.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fi.updateTime(e)}return fi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class TF{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.kc=i.maxAttempts,this.xo=new cb(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var t=this;this.xo.Ro((0,_e.Z)(function*(){const e=new xM(t.datastore),i=t.Mc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.Fc(s)}))}).catch(r=>{t.Fc(r)})}))}Mc(t){try{const e=this.updateFunction(t);return!Wf(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Fc(t){this.kc>0&&this.$c(t)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(t)}$c(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!FC(e)}return!1}}class eD{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Dr.UNAUTHENTICATED,this.clientId=nC.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,_e.Z)(function*(d){Le("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(Le("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var t=this;return(0,_e.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Sp(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function DM(n,t){return tD.apply(this,arguments)}function tD(){return tD=(0,_e.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,_e.Z)(function*(s){i.isEqual(s)||(yield as(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),tD.apply(this,arguments)}function nD(n,t){return Fb.apply(this,arguments)}function Fb(){return Fb=(0,_e.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield EM(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>Ex(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>Ex(t.remoteStore,s)),n.onlineComponents=t}),Fb.apply(this,arguments)}function EM(n){return iD.apply(this,arguments)}function iD(){return iD=(0,_e.Z)(function*(n){return n.offlineComponents||(Le("FirestoreClient","Using default OfflineComponentProvider"),yield DM(n,new jx)),n.offlineComponents}),iD.apply(this,arguments)}function fh(n){return SM.apply(this,arguments)}function SM(){return SM=(0,_e.Z)(function*(n){return n.onlineComponents||(Le("FirestoreClient","Using default OnlineComponentProvider"),yield nD(n,new $x)),n.onlineComponents}),SM.apply(this,arguments)}function AM(n){return EM(n).then(t=>t.persistence)}function rD(n){return EM(n).then(t=>t.localStore)}function IM(n){return fh(n).then(t=>t.remoteStore)}function sD(n){return fh(n).then(t=>t.syncEngine)}function y_(n){return MM.apply(this,arguments)}function MM(){return MM=(0,_e.Z)(function*(n){const t=yield fh(n),e=t.eventManager;return e.onListen=aM.bind(null,t.syncEngine),e.onUnlisten=cM.bind(null,t.syncEngine),e}),MM.apply(this,arguments)}function OF(n,t,e={}){const i=new _r;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(r,s,c,d,p){const y=new __({next:E=>{s.enqueueAndForget(()=>yb(r,w));const T=E.docs.has(c);!T&&E.fromCache?p.reject(new Oe(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&E.fromCache&&d&&"server"===d.source?p.reject(new Oe(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),w=new dl(rp(c.path),y,{includeMetadataChanges:!0,Nu:!0});return gb(r,w)}(yield y_(n),n.asyncQueue,t,e,i)})),i.promise}function FF(n,t,e={}){const i=new _r;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(r,s,c,d,p){const y=new __({next:E=>{s.enqueueAndForget(()=>yb(r,w)),E.fromCache&&"server"===d.source?p.reject(new Oe(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),w=new dl(c,y,{includeMetadataChanges:!0,Nu:!0});return gb(r,w)}(yield y_(n),n.asyncQueue,t,e,i)})),i.promise}class UB{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new cb(this,"async_queue_retry"),this.Wc=()=>{const e=lb();e&&Le("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.Po()};const t=lb();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.zc(),this.Hc(t)}enterRestrictedMode(t){if(!this.qc){this.qc=!0,this.Qc=t||!1;const e=lb();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Wc)}}enqueue(t){if(this.zc(),this.qc)return new Promise(()=>{});const e=new _r;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Lc.push(t),this.Jc()))}Jc(){var t=this;return(0,_e.Z)(function*(){if(0!==t.Lc.length){try{yield t.Lc[0](),t.Lc.shift(),t.xo.reset()}catch(e){if(!gu(e))throw e;Le("AsyncQueue","Operation failed with retryable error: "+e)}t.Lc.length>0&&t.xo.Ro(()=>t.Jc())}})()}Hc(t){const e=this.Bc.then(()=>(this.Gc=!0,t().catch(i=>{throw this.Kc=i,this.Gc=!1,ui("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=e,e}enqueueAfterDelay(t,e,i){this.zc(),this.jc.indexOf(t)>-1&&(e=0);const r=Ax.createAndSchedule(this,t,e,i,s=>this.Yc(s));return this.Uc.push(r),r}zc(){this.Kc&&at()}verifyOperationInProgress(){}Xc(){var t=this;return(0,_e.Z)(function*(){let e;do{e=t.Bc,yield e}while(e!==t.Bc)})()}Zc(t){for(const e of this.Uc)if(e.timerId===t)return!0;return!1}ta(t){return this.Xc().then(()=>{this.Uc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Uc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Xc()})}ea(t){this.jc.push(t)}Yc(t){const e=this.Uc.indexOf(t);this.Uc.splice(e,1)}}function a(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class l{constructor(){this._progressObserver={},this._taskCompletionResolver=new _r,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class h extends Mp{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new UB,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||x(this),this._firestoreClient.terminate()}}function v(n){return n._firestoreClient||x(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function x(n){var t;const e=n._freezeSettings(),i=(s=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new bA(n._databaseId,s,n._persistenceKey,(d=e).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var s,d;n._firestoreClient=new eD(n._authCredentials,n._appCheckCredentials,n._queue,i)}function R(n,t,e){const i=new _r;return n.asyncQueue.enqueue((0,_e.Z)(function*(){try{yield DM(n,e),yield nD(n,t),i.resolve()}catch(r){const s=r;if(!("FirebaseError"===(c=s).name?c.code===ue.FAILED_PRECONDITION||c.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw s;ic("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s)}var c})).then(()=>i.promise)}function Ie(n){if(n._initialized||n._terminated)throw new Oe(ue.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Tt{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Tt(ar.fromBase64String(t))}catch(e){throw new Oe(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Tt(ar.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Yt{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Oe(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ai(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ui{constructor(t){this._methodName=t}}class ph{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Oe(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Oe(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return $t(this._lat,t._lat)||$t(this._long,t._long)}}const NF=/^__.*__$/;class LF{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Qo(t,this.data,this.fieldMask,e,this.fieldTransforms):new cc(t,this.data,e,this.fieldTransforms)}}class HB{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Qo(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function zB(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at()}}class TM{constructor(t,e,i,r,s,c){this.settings=t,this.databaseId=e,this.yt=i,this.ignoreUndefinedProperties=r,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(t){return new TM(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:i,oa:!1});return r.ua(t),r}ca(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:i,oa:!1});return r.na(),r}aa(t){return this.ia({path:void 0,oa:!0})}ha(t){return OM(t,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}na(){if(this.path)for(let t=0;t<this.path.length;t++)this.ua(this.path.get(t))}ua(t){if(0===t.length)throw this.ha("Document fields must not be empty");if(zB(this.sa)&&NF.test(t))throw this.ha('Document fields cannot begin and end with "__"')}}class u6{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.yt=i||Cp(t)}da(t,e,i,r=!1){return new TM({sa:t,methodName:e,fa:i,path:Ai.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function v_(n){const t=n._freezeSettings(),e=Cp(n._databaseId);return new u6(n._databaseId,!!t.ignoreUndefinedProperties,e)}function kM(n,t,e,i,r,s={}){const c=n.da(s.merge||s.mergeFields?2:0,t,e,r);HF("Data must be an object, but it was:",c,i);const d=$B(i,c);let p,y;if(s.merge)p=new Zs(c.fieldMask),y=c.fieldTransforms;else if(s.mergeFields){const w=[];for(const E of s.mergeFields){const T=zF(t,E,e);if(!c.contains(T))throw new Oe(ue.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);YB(w,T)||w.push(T)}p=new Zs(w),y=c.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,y=c.fieldTransforms;return new LF(new yr(d),p,y)}class oD extends Ui{_toFieldTransform(t){if(2!==t.sa)throw t.ha(1===t.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof oD}}function GB(n,t,e){return new TM({sa:3,fa:t.settings.fa,methodName:n._methodName,oa:e},t.databaseId,t.yt,t.ignoreUndefinedProperties)}class BF extends Ui{_toFieldTransform(t){return new sh(t.path,new ih)}isEqual(t){return t instanceof BF}}class d6 extends Ui{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=GB(this,t,!0),i=this._a.map(s=>b_(s,e)),r=new ac(i);return new sh(t.path,r)}isEqual(t){return this===t}}class h6 extends Ui{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=GB(this,t,!0),i=this._a.map(s=>b_(s,e)),r=new bo(i);return new sh(t.path,r)}isEqual(t){return this===t}}class f6 extends Ui{constructor(t,e){super(t),this.wa=e}_toFieldTransform(t){const e=new sp(t.yt,MC(t.yt,this.wa));return new sh(t.path,e)}isEqual(t){return this===t}}function VF(n,t,e,i){const r=n.da(1,t,e);HF("Data must be an object, but it was:",r,i);const s=[],c=yr.empty();yu(i,(p,y)=>{const w=RM(t,p,e);y=(0,N.m9)(y);const E=r.ca(w);if(y instanceof oD)s.push(w);else{const T=b_(y,E);null!=T&&(s.push(w),c.set(w,T))}});const d=new Zs(s);return new HB(c,d,r.fieldTransforms)}function UF(n,t,e,i,r,s){const c=n.da(1,t,e),d=[zF(t,i,e)],p=[r];if(s.length%2!=0)throw new Oe(ue.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<s.length;T+=2)d.push(zF(t,s[T])),p.push(s[T+1]);const y=[],w=yr.empty();for(let T=d.length-1;T>=0;--T)if(!YB(y,d[T])){const F=d[T];let B=p[T];B=(0,N.m9)(B);const $=c.ca(F);if(B instanceof oD)y.push(F);else{const K=b_(B,$);null!=K&&(y.push(F),w.set(F,K))}}const E=new Zs(y);return new HB(w,E,c.fieldTransforms)}function jB(n,t,e,i=!1){return b_(e,n.da(i?4:3,t))}function b_(n,t){if(qB(n=(0,N.m9)(n)))return HF("Unsupported field value:",t,n),$B(n,t);if(n instanceof Ui)return function(e,i){if(!zB(i.sa))throw i.ha(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const c of e){let d=b_(c,i.aa(s));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,N.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return MC(i.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=di.fromDate(e);return{timestampValue:ah(i.yt,r)}}if(e instanceof di){const r=new di(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ah(i.yt,r)}}if(e instanceof ph)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Tt)return{bytesValue:Wg(i.yt,e._byteString)};if(e instanceof pi){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:zv(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.ha(`Unsupported field value: ${Tb(e)}`)}(n,t)}function $B(n,t){const e={};return uC(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):yu(n,(i,r)=>{const s=b_(r,t.ra(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function qB(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof di||n instanceof ph||n instanceof Tt||n instanceof pi||n instanceof Ui)}function HF(n,t,e){if(!qB(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=Tb(e);throw t.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function zF(n,t,e){if((t=(0,N.m9)(t))instanceof Yt)return t._internalPath;if("string"==typeof t)return RM(n,t);throw OM("Field path arguments must be of type string or ",n,!1,void 0,e)}const p6=new RegExp("[~\\*/\\[\\]]");function RM(n,t,e){if(t.search(p6)>=0)throw OM(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Yt(...t.split("."))._internalPath}catch{throw OM(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function OM(n,t,e,i,r){const s=i&&!i.isEmpty(),c=void 0!==r;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(s||c)&&(p+=" (found",s&&(p+=` in field ${i}`),c&&(p+=` in document ${r}`),p+=")"),new Oe(ue.INVALID_ARGUMENT,d+n+p)}function YB(n,t){return n.some(e=>e.isEqual(t))}class aD{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new pi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new m6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(FM("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class m6 extends aD{data(){return super.data()}}function FM(n,t){return"string"==typeof t?RM(n,t):t instanceof Yt?t._internalPath:t._delegate._internalPath}function WB(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Oe(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class GF{}class lD extends GF{}function Tp(n,t,...e){let i=[];t instanceof GF&&i.push(t),i=i.concat(e),function(r){const s=r.filter(d=>d instanceof Pb).length,c=r.filter(d=>d instanceof cD).length;if(s>1||s>0&&c>0)throw new Oe(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class cD extends lD{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new cD(t,e,i)}_apply(t){const e=this._parse(t);return XB(t._query,e),new $r(t.firestore,t.converter,DC(t._query,e))}_parse(t){const e=v_(t.firestore);return function(r,s,c,d,p,y,w){let E;if(p.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new Oe(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){QB(w,y);const T=[];for(const F of w)T.push(KB(d,r,F));E={arrayValue:{values:T}}}else E=KB(d,r,w)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||QB(w,y),E=jB(c,"where",w,"in"===y||"not-in"===y);return qt.create(p,y,E)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class Pb extends GF{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Pb(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:Vn.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let s=i;const c=r.getFlattenedFilters();for(const d of c)XB(s,d),s=DC(s,d)}(t._query,e),new $r(t.firestore,t.converter,DC(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class jF extends lD{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new jF(t,e)}_apply(t){const e=function(i,r,s){if(null!==i.startAt)throw new Oe(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Oe(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new th(r,s);return function(d,p){if(null===CC(d)){const y=Bv(d);null!==y&&JB(0,y,p.field)}}(i,c),c}(t._query,this._field,this._direction);return new $r(t.firestore,t.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new oc(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class PM extends lD{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new PM(t,e,i)}_apply(t){return new $r(t.firestore,t.converter,Vv(t._query,this._limit,this._limitType))}}class NM extends lD{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new NM(t,e,i)}_apply(t){const e=ZB(t,this.type,this._docOrFields,this._inclusive);return new $r(t.firestore,t.converter,(r=e,new oc((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class LM extends lD{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new LM(t,e,i)}_apply(t){const e=ZB(t,this.type,this._docOrFields,this._inclusive);return new $r(t.firestore,t.converter,(r=e,new oc((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function ZB(n,t,e,i){if(e[0]=(0,N.m9)(e[0]),e[0]instanceof aD)return function(r,s,c,d,p){if(!d)throw new Oe(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const y=[];for(const w of nh(r))if(w.field.isKeyField())y.push(Cu(s,d.key));else{const E=d.data.field(w.field);if(Og(E))throw new Oe(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===E){const T=w.field.canonicalString();throw new Oe(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}y.push(E)}return new sc(y,p)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=v_(n.firestore);return function(s,c,d,p,y,w){const E=s.explicitOrderBy;if(y.length>E.length)throw new Oe(ue.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let F=0;F<y.length;F++){const B=y[F];if(E[F].field.isKeyField()){if("string"!=typeof B)throw new Oe(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof B}`);if(!xC(s)&&-1!==B.indexOf("/"))throw new Oe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${B}' contains a slash.`);const $=s.path.child(wn.fromString(B));if(!Qe.isDocumentKey($))throw new Oe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${$}' is not because it contains an odd number of segments.`);const K=new Qe($);T.push(Cu(c,K))}else{const $=jB(d,p,B);T.push($)}}return new sc(T,w)}(n._query,n.firestore._databaseId,r,t,e,i)}}function KB(n,t,e){if("string"==typeof(e=(0,N.m9)(e))){if(""===e)throw new Oe(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xC(t)&&-1!==e.indexOf("/"))throw new Oe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(wn.fromString(e));if(!Qe.isDocumentKey(i))throw new Oe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Cu(n,new Qe(i))}if(e instanceof pi)return Cu(n,e._key);throw new Oe(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tb(e)}.`)}function QB(n,t){if(!Array.isArray(n)||0===n.length)throw new Oe(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Oe(ue.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function XB(n,t){if(t.isInequality()){const i=Bv(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new Oe(ue.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=CC(n);null!==s&&JB(0,r,s)}const e=function(i,r){for(const s of i)for(const c of s.getFlattenedFilters())if(r.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Oe(ue.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function JB(n,t,e){if(!e.isEqual(t))throw new Oe(ue.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class $F{convertValue(t,e="none"){switch(Qf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Vi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Xd(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw at()}}convertObject(t,e){const i={};return yu(t.fields,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new ph(Vi(t.latitude),Vi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=vu(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Jd(t));default:return null}}convertTimestamp(t){const e=xs(t);return new di(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=wn.fromString(t);mt(tI(i));const r=new rl(i.get(1),i.get(3)),s=new Qe(i.popFirst(5));return r.isEqual(e)||ui(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function BM(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class D6 extends $F{constructor(t){super(),this.firestore=t}convertBytes(t){return new Tt(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new pi(this.firestore,null,e)}}class w_{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class mh extends aD{constructor(t,e,i,r,s,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new uD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(FM("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class uD extends mh{data(t={}){return super.data(t)}}class kp{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new w_(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new uD(this._firestore,this._userDataWriter,i.key,i,new w_(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Oe(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new uD(i._firestore,i._userDataWriter,c.doc.key,c.doc,new w_(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const d=new uD(i._firestore,i._userDataWriter,c.doc.key,c.doc,new w_(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,y=-1;return 0!==c.type&&(p=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),y=s.indexOf(c.doc.key)),{type:E6(c.type),doc:d,oldIndex:p,newIndex:y}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function E6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at()}}function tV(n,t){return n instanceof mh&&t instanceof mh?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof kp&&t instanceof kp&&n._firestore===t._firestore&&Qx(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class Rp extends $F{constructor(t){super(),this.firestore=t}convertBytes(t){return new Tt(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new pi(this.firestore,null,e)}}function nV(n,t,e){n=mn(n,pi);const i=mn(n.firestore,h),r=BM(n.converter,t,e);return Nb(i,[kM(v_(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,fi.none())])}function iV(n,t,e,...i){n=mn(n,pi);const r=mn(n.firestore,h),s=v_(r);let c;return c="string"==typeof(t=(0,N.m9)(t))||t instanceof Yt?UF(s,"updateDoc",n._key,t,e,i):VF(s,"updateDoc",n._key,t),Nb(r,[c.toMutation(n._key,fi.exists(!0))])}function rV(n,...t){var e,i,r;n=(0,N.m9)(n);let s={includeMetadataChanges:!1},c=0;"object"!=typeof t[c]||a(t[c])||(s=t[c],c++);const d={includeMetadataChanges:s.includeMetadataChanges};if(a(t[c])){const E=t[c];t[c]=null===(e=E.next)||void 0===e?void 0:e.bind(E),t[c+1]=null===(i=E.error)||void 0===i?void 0:i.bind(E),t[c+2]=null===(r=E.complete)||void 0===r?void 0:r.bind(E)}let p,y,w;if(n instanceof pi)y=mn(n.firestore,h),w=rp(n._key.path),p={next:E=>{t[c]&&t[c](qF(y,n,E))},error:t[c+1],complete:t[c+2]};else{const E=mn(n,$r);y=mn(E.firestore,h),w=E._query;const T=new Rp(y);p={next:F=>{t[c]&&t[c](new kp(y,T,E,F))},error:t[c+1],complete:t[c+2]},WB(n._query)}return function(E,T,F,B){const $=new __(B),K=new dl(T,$,F);return E.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return gb(yield y_(E),K)})),()=>{$.bc(),E.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return yb(yield y_(E),K)}))}}(v(y),w,d,p)}function Nb(n,t){return function(e,i){const r=new _r;return e.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function Ox(n,t,e){return wb.apply(this,arguments)}(yield sD(e),i,r)})),r.promise}(v(n),t)}function qF(n,t,e){const i=e.docs.get(t._key),r=new Rp(n);return new mh(n,r,t._key,i,new w_(e.hasPendingWrites,e.fromCache),t.converter)}const P6={maxAttempts:5};class sV{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=v_(t)}set(t,e,i){this._verifyNotCommitted();const r=Op(t,this._firestore),s=BM(r.converter,e,i),c=kM(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,fi.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=Op(t,this._firestore);let c;return c="string"==typeof(e=(0,N.m9)(e))||e instanceof Yt?UF(this._dataReader,"WriteBatch.update",s._key,e,i,r):VF(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(c.toMutation(s._key,fi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Op(t,this._firestore);return this._mutations=this._mutations.concat(new oh(e._key,fi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Op(n,t){if((n=(0,N.m9)(n)).firestore!==t)throw new Oe(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class N6 extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=v_(t)}get(t){const e=Op(t,this._firestore),i=new D6(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return at();const s=r[0];if(s.isFoundDocument())return new aD(this._firestore,i,s.key,s,e.converter);if(s.isNoDocument())return new aD(this._firestore,i,e._key,null,e.converter);throw at()})}set(t,e,i){const r=Op(t,this._firestore),s=BM(r.converter,e,i),c=kM(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(t,e,i,...r){const s=Op(t,this._firestore);let c;return c="string"==typeof(e=(0,N.m9)(e))||e instanceof Yt?UF(this._dataReader,"Transaction.update",s._key,e,i,r):VF(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,c),this}delete(t){const e=Op(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Op(t,this._firestore),i=new Rp(this._firestore);return super.get(t).then(r=>new mh(this._firestore,i,e._key,r._document,new w_(!1,!1),e.converter))}}function YF(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function aV(){if(typeof Uint8Array>"u")throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function lV(){if(!function wA(){return typeof atob<"u"}())throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Tg=Ur.SDK_VERSION,(0,Ur._registerComponent)(new ws.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const s=e.getProvider("app").getImmediate(),c=new h(new Av(e.getProvider("auth-internal")),new dO(e.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Oe(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rl(d.options.projectId,p)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),(0,Ur.registerVersion)(lO,"3.8.1",n),(0,Ur.registerVersion)(lO,"3.8.1","esm2017")}();class dD{constructor(t){this._delegate=t}static fromBase64String(t){return lV(),new dD(Tt.fromBase64String(t))}static fromUint8Array(t){return aV(),new dD(Tt.fromUint8Array(t))}toBase64(){return lV(),this._delegate.toBase64()}toUint8Array(){return aV(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function WF(n){return function $6(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class q6{enableIndexedDbPersistence(t,e){return function D(n,t){Ie(n=mn(n,h));const e=v(n),i=n._freezeSettings(),r=new $x;return R(e,r,new bM(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function I(n){Ie(n=mn(n,h));const t=v(n),e=n._freezeSettings(),i=new $x;return R(t,i,new SF(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function V(n){if(n._initialized&&!n._terminated)throw new Oe(ue.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new _r;return n._queue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{yield(e=(0,_e.Z)(function*(i){if(!Wo.C())return Promise.resolve();const r=i+"main";yield Wo.delete(r)}),function(i){return e.apply(this,arguments)})(ib(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class cV{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof rl||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&ic("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function Rb(n,t,e,i={}){var r;const s=(n=mn(n,Mp))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&ic("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let c,d;if("string"==typeof i.mockUserToken)c=i.mockUserToken,d=Dr.MOCK_USER;else{c=(0,N.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Oe(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Dr(p)}n._authCredentials=new tC(new hA(c,d))}}(this._delegate,t,e,i)}enableNetwork(){return function J(n){return function PB(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const t=yield AM(n),e=yield IM(n);return t.setNetworkEnabled(!0),function(i){const r=Je(i);return r._u.delete(0),xp(r)}(e)}))}(v(n=mn(n,h)))}(this._delegate)}disableNetwork(){return function Ce(n){return function NB(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const t=yield AM(n),e=yield IM(n);return t.setNetworkEnabled(!1),(i=(0,_e.Z)(function*(r){const s=Je(r);s._u.add(0),yield dh(s),s.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(v(n=mn(n,h)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,Yx("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function W(n){return function(t){const e=new _r;return t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function CF(n,t){return fM.apply(this,arguments)}(yield sD(t),e)})),e.promise}(v(n=mn(n,h)))}(this._delegate)}onSnapshotsInSync(t){return function F6(n,t){return function BB(n,t){const e=new __(t);return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return i=yield y_(n),r=e,Je(i).Ru.add(r),void r.next();var i,r})),()=>{e.bc(),n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return i=yield y_(n),r=e,void Je(i).Ru.delete(r);var i,r}))}}(v(n=mn(n,h)),a(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Lb(this,IF(this._delegate,t))}catch(e){throw xo(e,"collection()","Firestore.collection()")}}doc(t){try{return new hl(this,Ob(this._delegate,t))}catch(e){throw xo(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Do(this,function MF(n,t){if(n=mn(n,Mp),qx("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Oe(ue.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new $r(n,null,(e=t,new oc(wn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw xo(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function L6(n,t,e){n=mn(n,h);const i=Object.assign(Object.assign({},P6),e);return function(r){if(r.maxAttempts<1)throw new Oe(ue.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,c){const d=new _r;return r.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){const p=yield function kF(n){return fh(n).then(t=>t.datastore)}(r);new TF(r.asyncQueue,p,c,s,d).run()})),d.promise}(v(n),r=>t(new N6(n,r)),i)}(this._delegate,e=>t(new uV(this,e)))}batch(){return v(this._delegate),new dV(new sV(this._delegate,t=>Nb(this._delegate,t)))}loadBundle(t){return function et(n,t){const e=v(n=mn(n,h)),i=new l;return function VB(n,t,e,i){const r=function(s,c){let d;return d="string"==typeof s?(new TextEncoder).encode(s):s,p=function(p,y){if(p instanceof Uint8Array)return Xx(p,y);if(p instanceof ArrayBuffer)return Xx(new Uint8Array(p),y);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new OB(p,c);var p}(e,Cp(t));n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){!function RB(n,t,e){const i=Je(n);var r;(r=(0,_e.Z)(function*(s,c,d){try{const p=yield c.getMetadata();if(yield function(T,F){const B=Je(T),$=Qi(F.createTime);return B.persistence.runTransaction("hasNewerBundle","readonly",K=>B.Ns.getBundleMetadata(K,F.id)).then(K=>!!K&&K.createTime.compareTo($)>=0)}(s.localStore,p))return yield c.close(),d._completeWith({taskState:"Success",documentsLoaded:(T=p).totalDocuments,bytesLoaded:T.totalBytes,totalDocuments:T.totalDocuments,totalBytes:T.totalBytes}),Promise.resolve(new Set);d._updateProgress(sM(p));const y=new Tx(p,s.localStore,c.yt);let w=yield c.mc();for(;w;){const T=yield y.Fu(w);T&&d._updateProgress(T),w=yield c.mc()}const E=yield y.complete();return yield hc(s,E.Lu,void 0),yield function(T,F){const B=Je(T);return B.persistence.runTransaction("Save bundle","readwrite",$=>B.Ns.saveBundleMetadata($,F))}(s.localStore,p),d._completeWith(E.progress),Promise.resolve(E.Bu)}catch(p){return ic("SyncEngine",`Loading bundle failed with ${p}`),d._failWith(p),Promise.resolve(new Set)}var T}),function(s,c,d){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield sD(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function bt(n,t){return function PF(n,t){return n.asyncQueue.enqueue((0,_e.Z)(function*(){return function(e,i){const r=Je(e);return r.persistence.runTransaction("Get named query","readonly",s=>r.Ns.getNamedQuery(s,i))}(yield rD(n),t)}))}(v(n=mn(n,h)),t).then(e=>e?new $r(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Do(this,e):null)}}class VM extends $F{constructor(t){super(),this.firestore=t}convertBytes(t){return new dD(new Tt(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return hl.forKey(e,this.firestore,null)}}class uV{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new VM(t)}get(t){const e=x_(t);return this._delegate.get(e).then(i=>new hD(this._firestore,new mh(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=x_(t);return i?(YF("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=x_(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=x_(t);return this._delegate.delete(e),this}}class dV{constructor(t){this._delegate=t}set(t,e,i){const r=x_(t);return i?(YF("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=x_(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=x_(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class C_{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new uD(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new fD(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=C_.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new C_(t,new VM(t),e),r.set(e,s)),s}}C_.INSTANCES=new WeakMap;class hl{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new VM(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new hl(e,new pi(e._delegate,i,new Qe(t)))}static forKey(t,e,i){return new hl(e,new pi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Lb(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Lb(this.firestore,IF(this._delegate,t))}catch(e){throw xo(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,N.m9)(t))instanceof pi&&wM(this._delegate,t)}set(t,e){e=YF("DocumentReference.set",e);try{return e?nV(this._delegate,t,e):nV(this._delegate,t)}catch(i){throw xo(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?iV(this._delegate,t):iV(this._delegate,t,e,...i)}catch(r){throw xo(r,"updateDoc()","DocumentReference.update()")}}delete(){return function R6(n){return Nb(mn(n.firestore,h),[new oh(n._key,fi.none())])}(this._delegate)}onSnapshot(...t){const e=hV(t),i=fV(t,r=>new hD(this.firestore,new mh(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return rV(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function A6(n){n=mn(n,pi);const t=mn(n.firestore,h),e=v(t),i=new Rp(t);return function RF(n,t){const e=new _r;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(i=(0,_e.Z)(function*(r,s,c){try{const d=yield function(p,y){const w=Je(p);return w.persistence.runTransaction("read document","readonly",E=>w.localDocuments.getDocument(E,y))}(r,s);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new Oe(ue.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const p=Sp(d,`Failed to get document '${s} from cache`);c.reject(p)}}),function(r,s,c){return i.apply(this,arguments)})(yield rD(n),t,e);var i})),e.promise}(e,n._key).then(r=>new mh(t,i,n._key,r,new w_(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function I6(n){n=mn(n,pi);const t=mn(n.firestore,h);return OF(v(t),n._key,{source:"server"}).then(e=>qF(t,n,e))}(this._delegate):function S6(n){n=mn(n,pi);const t=mn(n.firestore,h);return OF(v(t),n._key).then(e=>qF(t,n,e))}(this._delegate),e.then(i=>new hD(this.firestore,new mh(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new hl(this.firestore,this._delegate.withConverter(t?C_.getInstance(this.firestore,t):null))}}function xo(n,t,e){return n.message=n.message.replace(t,e),n}function hV(n){for(const t of n)if("object"==typeof t&&!WF(t))return t;return{}}function fV(n,t){var e,i;let r;return r=WF(n[0])?n[0]:WF(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class hD{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new hl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return tV(this._delegate,t._delegate)}}class fD extends hD{data(t){const e=this._delegate.data(t);return function dA(n,t){n||at()}(void 0!==e),e}}class Do{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new VM(t)}where(t,e,i){try{return new Do(this.firestore,Tp(this._delegate,function g6(n,t,e){const i=t,r=FM("where",n);return cD._create(r,i,e)}(t,e,i)))}catch(r){throw xo(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Do(this.firestore,Tp(this._delegate,function _6(n,t="asc"){const e=t,i=FM("orderBy",n);return jF._create(i,e)}(t,e)))}catch(i){throw xo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Do(this.firestore,Tp(this._delegate,function y6(n){return Kx("limit",n),PM._create("limit",n,"F")}(t)))}catch(e){throw xo(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Do(this.firestore,Tp(this._delegate,function v6(n){return Kx("limitToLast",n),PM._create("limitToLast",n,"L")}(t)))}catch(e){throw xo(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Do(this.firestore,Tp(this._delegate,function b6(...n){return NM._create("startAt",n,!0)}(...t)))}catch(e){throw xo(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Do(this.firestore,Tp(this._delegate,function w6(...n){return NM._create("startAfter",n,!1)}(...t)))}catch(e){throw xo(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Do(this.firestore,Tp(this._delegate,function C6(...n){return LM._create("endBefore",n,!1)}(...t)))}catch(e){throw xo(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Do(this.firestore,Tp(this._delegate,function x6(...n){return LM._create("endAt",n,!0)}(...t)))}catch(e){throw xo(e,"endAt()","Query.endAt()")}}isEqual(t){return Qx(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function T6(n){n=mn(n,$r);const t=mn(n.firestore,h),e=v(t),i=new Rp(t);return function LB(n,t){const e=new _r;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(i=(0,_e.Z)(function*(r,s,c){try{const d=yield bp(r,s,!0),p=new oM(s,d.Hi),y=p.Wu(d.documents),w=p.applyChanges(y,!1);c.resolve(w.snapshot)}catch(d){const p=Sp(d,`Failed to execute query '${s} against cache`);c.reject(p)}}),function(r,s,c){return i.apply(this,arguments)})(yield rD(n),t,e);var i})),e.promise}(e,n._query).then(r=>new kp(t,i,n,r))}(this._delegate):"server"===t?.source?function k6(n){n=mn(n,$r);const t=mn(n.firestore,h),e=v(t),i=new Rp(t);return FF(e,n._query,{source:"server"}).then(r=>new kp(t,i,n,r))}(this._delegate):function M6(n){n=mn(n,$r);const t=mn(n.firestore,h),e=v(t),i=new Rp(t);return WB(n._query),FF(e,n._query).then(r=>new kp(t,i,n,r))}(this._delegate),e.then(i=>new ZF(this.firestore,new kp(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=hV(t),i=fV(t,r=>new ZF(this.firestore,new kp(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return rV(this._delegate,e,i)}withConverter(t){return new Do(this.firestore,this._delegate.withConverter(t?C_.getInstance(this.firestore,t):null))}}class W6{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new fD(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ZF{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Do(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new fD(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new W6(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new fD(this._firestore,i))})}isEqual(t){return tV(this._delegate,t._delegate)}}class Lb extends Do{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new hl(this.firestore,t):null}doc(t){try{return new hl(this.firestore,void 0===t?Ob(this._delegate):Ob(this._delegate,t))}catch(e){throw xo(e,"doc()","CollectionReference.doc()")}}add(t){return function O6(n,t){const e=mn(n.firestore,h),i=Ob(n),r=BM(n.converter,t);return Nb(e,[kM(v_(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,fi.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new hl(this.firestore,e))}isEqual(t){return wM(this._delegate,t._delegate)}withConverter(t){return new Lb(this.firestore,this._delegate.withConverter(t?C_.getInstance(this.firestore,t):null))}}function x_(n){return mn(n,pi)}class KF{constructor(...t){this._delegate=new Yt(...t)}static documentId(){return new KF(Ai.keyField().canonicalString())}isEqual(t){return(t=(0,N.m9)(t))instanceof Yt&&this._delegate._internalPath.isEqual(t._internalPath)}}class D_{constructor(t){this._delegate=t}static serverTimestamp(){const t=function V6(){return new BF("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new D_(t)}static delete(){const t=function B6(){return new oD("deleteField")}();return t._methodName="FieldValue.delete",new D_(t)}static arrayUnion(...t){const e=function U6(...n){return new d6("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new D_(e)}static arrayRemove(...t){const e=function H6(...n){return new h6("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new D_(e)}static increment(t){const e=function z6(n){return new f6("increment",n)}(t);return e._methodName="FieldValue.increment",new D_(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const Z6={Firestore:cV,GeoPoint:ph,Timestamp:di,Blob:dD,Transaction:uV,WriteBatch:dV,DocumentReference:hl,DocumentSnapshot:hD,Query:Do,QueryDocumentSnapshot:fD,QuerySnapshot:ZF,CollectionReference:Lb,FieldPath:KF,FieldValue:D_,setLogLevel:function Y6(n){!function cO(n){pu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Q6(n){(function K6(n,t){n.INTERNAL.registerComponent(new ws.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},Z6)))})(n,(t,e)=>new cV(t,e,new q6)),n.registerVersion("@firebase/firestore-compat","0.3.1")}(su.Z);var Ks=P(3019),UM=P(3093),X6=P(4552);class J6 extends Ke.x{constructor(t=1/0,e=1/0,i=X6.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:c}=this;e||(i.push(t),!r&&i.push(s.now()+c)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let c=0;c<s.length&&!t.closed;c+=i?1:2)t.next(s[c]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const c=e.now();let d=0;for(let p=1;p<i.length&&i[p]<=c;p+=2)d=p;d&&i.splice(0,d+1)}}}var QF=P(3020);function XF(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,QF.B)({connector:()=>new J6(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function pV(n,t){return(0,sr.m)(t)?(0,xn.w)(()=>n,t):(0,xn.w)(()=>n)}var JF=P(5137);P(3182);const tP=new Map,gV={activated:!1,tokenObservers:[]},rq={initialized:!1,enabled:!1};function Ss(n){return tP.get(n)||Object.assign({},gV)}function zM(){return rq}const nP="https://content-firebaseappcheck.googleapis.com/v1",lq="exchangeDebugToken",_V={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class uq{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,_e.Z)(function*(){e.stop();try{e.pending=new N.BH,yield function dq(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new N.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Eo=new N.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function sP(){return sP=(0,_e.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const E=yield r.getHeartbeatsHeader();E&&(i["X-Firebase-Client"]=E)}const s={method:"POST",body:JSON.stringify(t),headers:i};let c,d;try{c=yield fetch(n,s)}catch(E){throw Eo.create("fetch-network-error",{originalErrorMessage:E?.message})}if(200!==c.status)throw Eo.create("fetch-status-error",{httpStatus:c.status});try{d=yield c.json()}catch(E){throw Eo.create("fetch-parse-error",{originalErrorMessage:E?.message})}const p=d.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw Eo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});const y=1e3*Number(p[1]),w=Date.now();return{token:d.token,expireTimeMillis:w+y,issuedAtTimeMillis:w}}),sP.apply(this,arguments)}const gq="firebase-app-check-database",_q=1,pD="firebase-app-check-store";let $M=null;function oP(){return oP=(0,_e.Z)(function*(n,t){const i=(yield function bV(){return $M||($M=new Promise((n,t)=>{try{const e=indexedDB.open(gq,_q);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(Eo.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(pD,{keyPath:"compositeKey"})}}catch(e){t(Eo.create("storage-open",{originalErrorMessage:e?.message}))}}),$M)}()).transaction(pD,"readwrite"),s=i.objectStore(pD).put({compositeKey:n,value:t});return new Promise((c,d)=>{s.onsuccess=p=>{c()},i.onerror=p=>{var y;d(Eo.create("storage-set",{originalErrorMessage:null===(y=p.target.error)||void 0===y?void 0:y.message}))}})}),oP.apply(this,arguments)}const mD=new $s.Yd("@firebase/app-check");function cP(n,t){return(0,N.hl)()?function vq(n,t){return function wV(n,t){return oP.apply(this,arguments)}(function xV(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{mD.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function dP(){return dP=(0,_e.Z)(function*(){const n=zM();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),dP.apply(this,arguments)}const Eq={error:"UNKNOWN_ERROR"};function Sq(n){return N.US.encodeString(JSON.stringify(n),!1)}function qM(n){return hP.apply(this,arguments)}function hP(){return hP=(0,_e.Z)(function*(n,t=!1){const e=n.app;!function yV(n){if(!Ss(n).activated)throw Eo.create("use-before-activation",{appName:n.name})}(e);const i=Ss(e);let s,r=i.token;if(r&&!Bb(r)&&(i.token=void 0,r=void 0),!r){const p=yield i.cachedTokenPromise;p&&(Bb(p)?r=p:yield cP(e,void 0))}if(!t&&r&&Bb(r))return{token:r.token};let d,c=!1;if(function DV(){return zM().enabled}()){i.exchangeTokenPromise||(i.exchangeTokenPromise=function rP(n,t){return sP.apply(this,arguments)}(function mq(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`${nP}/projects/${e}/apps/${i}:${lq}?key=${r}`,body:{debug_token:t}}}(e,yield function EV(){return dP.apply(this,arguments)}()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);const p=yield i.exchangeTokenPromise;return yield cP(e,p),i.token=p,{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),r=yield Ss(e).exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?mD.warn(p.message):mD.error(p),s=p}return r?s?d=Bb(r)?{token:r.token,internalError:s}:IV(s):(d={token:r.token},i.token=r,yield cP(e,r)):d=IV(s),c&&function AV(n,t){const e=Ss(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}(e,d),d}),hP.apply(this,arguments)}function pP(n,t){const e=Ss(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function SV(n){const{app:t}=n,e=Ss(t);let i=e.tokenRefresher;i||(i=function Aq(n){const{app:t}=n;return new uq((0,_e.Z)(function*(){let i;if(i=Ss(t).token?yield qM(n,!0):yield qM(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=Ss(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},_V.RETRIAL_MIN_WAIT,_V.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function Bb(n){return n.expireTimeMillis-Date.now()>0}function IV(n){return{token:Sq(Eq),error:n}}class Iq{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Ss(this.app);for(const e of t)pP(this.app,e.next);return Promise.resolve()}}const NV="app-check-internal";!function zq(){(0,Ur._registerComponent)(new ws.wA("app-check",n=>function Mq(n,t){return new Iq(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(NV).initialize()})),(0,Ur._registerComponent)(new ws.wA(NV,n=>function Tq(n){return{getToken:t=>qM(n,t),addTokenListener:t=>function fP(n,t,e,i){const{app:r}=n,s=Ss(r);if(s.tokenObservers=[...s.tokenObservers,{next:e,error:i,type:t}],s.token&&Bb(s.token)){const d=s.token;Promise.resolve().then(()=>{e({token:d.token}),SV(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>SV(n))}(n,"INTERNAL",t),removeTokenListener:t=>pP(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ur.registerVersion)("@firebase/app-check","0.6.1")}();class gD{constructor(){return(0,Mn.vb)("app-check")}}typeof window<"u"&&window;var Vb=P(7142);const vP=new o.OlP("angularfire2.auth.use-emulator"),bP=new o.OlP("angularfire2.auth.settings"),wP=new o.OlP("angularfire2.auth.tenant-id"),CP=new o.OlP("angularfire2.auth.langugage-code"),xP=new o.OlP("angularfire2.auth.use-device-language"),DP=new o.OlP("angularfire.auth.persistence"),EP=(n,t,e,i,r,s,c,d)=>(0,Wi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=t.runOutsideAngular(()=>n.auth());if(e&&p.useEmulator(...e),i&&(p.tenantId=i),p.languageCode=r,s&&p.useDeviceLanguage(),c)for(const[y,w]of Object.entries(c))p.settings[y]=w;return d&&p.setPersistence(d),p},[e,i,r,s,c,d]);let _D=(()=>{class n{constructor(e,i,r,s,c,d,p,y,w,E,T,F){const B=new Ke.x,$=(0,it.of)(void 0).pipe((0,UM.Q)(c.outsideAngular),(0,xn.w)(()=>s.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,8443)))),(0,We.U)(()=>(0,Wi.on)(e,s,i)),(0,We.U)(K=>EP(K,s,d,y,w,E,p,T)),XF({bufferSize:1,refCount:!1}));if(Pn(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,it.of)(null);else{$.pipe(ma()).subscribe();const De=$.pipe((0,xn.w)($e=>$e.getRedirectResult().then(gt=>gt,()=>null)),Mn.iC,XF({bufferSize:1,refCount:!1})),ze=$.pipe((0,xn.w)($e=>new En.y(gt=>({unsubscribe:s.runOutsideAngular(()=>$e.onAuthStateChanged(Ct=>gt.next(Ct),Ct=>gt.error(Ct),()=>gt.complete()))})))),Ge=$.pipe((0,xn.w)($e=>new En.y(gt=>({unsubscribe:s.runOutsideAngular(()=>$e.onIdTokenChanged(Ct=>gt.next(Ct),Ct=>gt.error(Ct),()=>gt.complete()))}))));this.authState=De.pipe(pV(ze),(0,JF.R)(c.outsideAngular),(0,UM.Q)(c.insideAngular)),this.user=De.pipe(pV(Ge),(0,JF.R)(c.outsideAngular),(0,UM.Q)(c.insideAngular)),this.idToken=this.user.pipe((0,xn.w)($e=>$e?(0,sn.D)($e.getIdToken()):(0,it.of)(null))),this.idTokenResult=this.user.pipe((0,xn.w)($e=>$e?(0,sn.D)($e.getIdTokenResult()):(0,it.of)(null))),this.credential=(0,Ks.T)(De,B,this.authState.pipe(kn($e=>!$e))).pipe((0,We.U)($e=>$e?.user?$e:null),(0,JF.R)(c.outsideAngular),(0,UM.Q)(c.insideAngular))}return(0,Wi.pX)(this,$,s,{spy:{apply:(K,De,ze)=>{(K.startsWith("signIn")||K.startsWith("createUser"))&&ze.then(Ge=>B.next(Ge))}}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Wi.Dh),o.LFG(Wi.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Mn.HU),o.LFG(vP,8),o.LFG(bP,8),o.LFG(wP,8),o.LFG(CP,8),o.LFG(xP,8),o.LFG(DP,8),o.LFG(gD,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Wq=(()=>{class n{constructor(){Vb.Z.registerVersion("angularfire",Mn.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[_D]}),n})();function BV(n,t){return function Zq(n,t=Jy.z){return new En.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function SP(n,t){return BV(n,t).pipe((0,We.U)(e=>({payload:e,type:"query"})))}function WM(n,t){return SP(n,t).pipe(Us(void 0),Sf(),(0,We.U)(([e,i])=>{const r=i.payload.docChanges(),s=r.map(c=>({type:c.type,payload:c}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,d)=>{const p=r.find(w=>w.doc.ref.isEqual(c.ref)),y=e?.payload.docs.find(w=>w.ref.isEqual(c.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(c.metadata)||!p&&y&&JSON.stringify(y.metadata)===JSON.stringify(c.metadata)||s.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:c}})}),s}))}function VV(n,t,e){return WM(n,e).pipe(bd((i,r)=>function Qq(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function Xq(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return AP(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return AP(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return AP(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),(0,ev.x)(),(0,We.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function AP(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function UV(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class HV{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=WM(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,We.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Us(void 0),Sf(),kn(([i,r])=>r.length>0||!i),(0,We.U)(([i,r])=>r),Mn.iC)}auditTrail(t){return this.stateChanges(t).pipe(bd((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=UV(t);return VV(this.query,e,this.afs.schedulers.outsideAngular).pipe(Mn.iC)}valueChanges(t={}){return SP(this.query,this.afs.schedulers.outsideAngular).pipe((0,We.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),Mn.iC)}get(t){return(0,sn.D)(this.query.get(t)).pipe(Mn.iC)}add(t){return this.ref.add(t)}doc(t){return new zV(this.ref.doc(t),this.afs)}}class zV{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=$V(i,e);return new HV(r,s,this.afs)}snapshotChanges(){return function Kq(n,t){return BV(n,t).pipe(Us(void 0),Sf(),(0,We.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Mn.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,We.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,sn.D)(this.ref.get(t)).pipe(Mn.iC)}}class Jq{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?WM(this.query,this.afs.schedulers.outsideAngular).pipe((0,We.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),kn(e=>e.length>0),Mn.iC):WM(this.query,this.afs.schedulers.outsideAngular).pipe(Mn.iC)}auditTrail(t){return this.stateChanges(t).pipe(bd((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=UV(t);return VV(this.query,e,this.afs.schedulers.outsideAngular).pipe(Mn.iC)}valueChanges(t={}){return SP(this.query,this.afs.schedulers.outsideAngular).pipe((0,We.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),Mn.iC)}get(t){return(0,sn.D)(this.query.get(t)).pipe(Mn.iC)}}const GV=new o.OlP("angularfire2.enableFirestorePersistence"),jV=new o.OlP("angularfire2.firestore.persistenceSettings"),eY=new o.OlP("angularfire2.firestore.settings"),tY=new o.OlP("angularfire2.firestore.use-emulator");function $V(n,t=(e=>e)){return{query:t(n),ref:n}}let MP,IP=(()=>{class n{constructor(e,i,r,s,c,d,p,y,w,E,T,F,B,$,K,De,ze){this.schedulers=p;const Ge=(0,Wi.on)(e,d,i),$e=w;E&&EP(Ge,d,T,B,$,K,F,De),[this.firestore,this.persistenceEnabled$]=(0,Wi.cc)(`${Ge.name}.firestore`,"AngularFirestore",Ge.name,()=>{const gt=d.runOutsideAngular(()=>Ge.firestore());if(s&&gt.settings(s),$e&&gt.useEmulator(...$e),r&&!Pn(c)){const Ct=()=>{try{return(0,sn.D)(gt.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(ln){return typeof console<"u"&&console.warn(ln),(0,it.of)(!1)}};return[gt,d.runOutsideAngular(Ct)]}return[gt,(0,it.of)(!1)]},[s,$e,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:c}=$V(r,i),d=this.schedulers.ngZone.run(()=>s);return new HV(d,c,this)}collectionGroup(e,i){const r=i||(c=>c),s=this.firestore.collectionGroup(e);return new Jq(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new zV(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Wi.Dh),o.LFG(Wi.xv,8),o.LFG(GV,8),o.LFG(eY,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Mn.HU),o.LFG(jV,8),o.LFG(tY,8),o.LFG(_D,8),o.LFG(vP,8),o.LFG(bP,8),o.LFG(wP,8),o.LFG(CP,8),o.LFG(xP,8),o.LFG(DP,8),o.LFG(gD,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),qV=(()=>{class n{constructor(){Vb.Z.registerVersion("angularfire",Mn.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:GV,useValue:!0},{provide:jV,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[IP]}),n})();try{MP=typeof Intl<"u"&&Intl.v8BreakIterator}catch{MP=!1}let Ub,lr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Lr(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!MP)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.Lbi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const YV=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function WV(){if(Ub)return Ub;if("object"!=typeof document||!document)return Ub=new Set(YV),Ub;let n=document.createElement("input");return Ub=new Set(YV.filter(t=>(n.setAttribute("type",t),n.type===t))),Ub}let yD,E_,TP;function Fp(n){return function nY(){if(null==yD&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>yD=!0}))}finally{yD=yD||!1}return yD}()?n:!!n.capture}function iY(){if(null==E_){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return E_=!1,E_;if("scrollBehavior"in document.documentElement.style)E_=!0;else{const n=Element.prototype.scrollTo;E_=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return E_}function vD(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Pp(n){return n.composedPath?n.composedPath()[0]:n.target}function kP(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function xa(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function RP(n,t=Jy.z){return(0,ii.e)((e,i)=>{let r=null,s=null,c=null;const d=()=>{if(r){r.unsubscribe(),r=null;const y=s;s=null,i.next(y)}};function p(){const y=c+n,w=t.now();if(w<y)return r=this.schedule(void 0,y-w),void i.add(r);d()}e.subscribe((0,Sn.x)(i,y=>{s=y,c=t.now(),r||(r=t.schedule(p,n),i.add(r))},()=>{d(),i.complete()},void 0,()=>{s=r=null}))})}function KV(n){return kn((t,e)=>n<=e)}var QV=P(2420);function en(n){return(0,ii.e)((t,e)=>{(0,pt.Xf)(n).subscribe((0,Sn.x)(e,()=>e.complete(),QV.Z)),!e.closed&&t.subscribe(e)})}function gn(n){return null!=n&&"false"!=`${n}`}function XM(n,t=0){return XV(n)?Number(n):t}function XV(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function JM(n){return Array.isArray(n)?n:[n]}function Ir(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Bp(n){return n instanceof o.SBq?n.nativeElement:n}let gY=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[gY]}),n})();const e2=new Set;let S_,_Y=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):vY}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function yY(n,t){if(!e2.has(n))try{S_||(S_=document.createElement("style"),t&&(S_.nonce=t),S_.setAttribute("type","text/css"),document.head.appendChild(S_)),S_.sheet&&(S_.sheet.insertRule(`@media ${n} {body{ }}`,0),e2.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(lr),o.LFG(o.Ojb,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vY(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let OP=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Ke.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return t2(JM(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=A(t2(JM(e)).map(c=>this._registerQuery(c).observable));return s=ft(s.pipe(An(1)),s.pipe(KV(1),RP(0))),s.pipe((0,We.U)(c=>{const d={matches:!1,breakpoints:{}};return c.forEach(({matches:p,query:y})=>{d.matches=d.matches||p,d.breakpoints[y]=p}),d}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new En.y(c=>{const d=p=>this._zone.run(()=>c.next(p));return i.addListener(d),()=>{i.removeListener(d)}}).pipe(Us(i),(0,We.U)(({matches:c})=>({query:e,matches:c})),en(this._destroySubject)),mql:i};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(_Y),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function t2(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function r2(n,t,e){const r=s2(n,t).filter(s=>s!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}function s2(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}class DY{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Ke.x,this._typeaheadSubscription=Ln.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Ke.x,this.change=new Ke.x,t instanceof o.n_E&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Kn.b)(e=>this._pressedLetters.push(e)),RP(t),kn(()=>this._pressedLetters.length>0),(0,We.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,c=i[s];if(!this._skipPredicateFn(c)&&0===c.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex+this._pageUpAndDown.delta,c=this._getItemsArray().length;this._setActiveItemByIndex(s<c?s:c-1,-1);break}return;default:return void((r||xa(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof o.n_E?this._items.toArray():this._items}}class EY extends DY{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}let eT=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function AY(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function SY(n){try{return n.frameElement}catch{return null}}(function PY(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===a2(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=a2(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function OY(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function FY(n){return!function MY(n){return function kY(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function IY(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function TY(n){return function RY(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||o2(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(lr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function o2(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function a2(n){if(!o2(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class NY{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(An(1)).subscribe(t)}}let tT=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new NY(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(eT),o.LFG(o.R0b),o.LFG(ee))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LY=(()=>{class n{get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=gn(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=gn(e)}constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=vD(),this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(tT),o.Y36(ee))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[o.TTD]}),n})();function l2(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function c2(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const BY=new o.OlP("cdk-input-modality-detector-options"),VY={ignoreKeys:[18,17,224,91,16]},Gb=Fp({passive:!0,capture:!0});let UY=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new Jt.X(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(d=>d===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Pp(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(l2(c)?"keyboard":"mouse"),this._mostRecentTarget=Pp(c))},this._onTouchstart=c=>{c2(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Pp(c))},this._options={...VY,...s},this.modalityDetected=this._modality.pipe(KV(1)),this.modalityChanged=this.modalityDetected.pipe((0,ev.x)()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Gb),r.addEventListener("mousedown",this._onMousedown,Gb),r.addEventListener("touchstart",this._onTouchstart,Gb)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Gb),document.removeEventListener("mousedown",this._onMousedown,Gb),document.removeEventListener("touchstart",this._onTouchstart,Gb))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(lr),o.LFG(o.R0b),o.LFG(ee),o.LFG(BY,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const HY=new o.OlP("liveAnnouncerElement",{providedIn:"root",factory:function zY(){return null}}),GY=new o.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let jY=0,FP=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,c;return 1===i.length&&"number"==typeof i[0]?c=i[0]:[s,c]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==c&&r&&(c=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(d=>this._currentResolve=d)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof c&&(this._previousTimeout=setTimeout(()=>this.clear(),c)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+jY++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const s=i[r],c=s.getAttribute("aria-owns");c?-1===c.indexOf(e)&&s.setAttribute("aria-owns",c+" "+e):s.setAttribute("aria-owns",e)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(HY,8),o.LFG(o.R0b),o.LFG(ee),o.LFG(GY,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $Y=new o.OlP("cdk-focus-monitor-default-options"),nT=Fp({passive:!0,capture:!0});let xD=(()=>{class n{constructor(e,i,r,s,c){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ke.x,this._rootNodeFocusAndBlurListener=d=>{for(let y=Pp(d);y;y=y.parentElement)"focus"===d.type?this._onFocus(d,y):this._onBlur(d,y)},this._document=s,this._detectionMode=c?.detectionMode||0}monitor(e,i=!1){const r=Bp(e);if(!this._platform.isBrowser||1!==r.nodeType)return(0,it.of)();const s=function sY(n){if(function rY(){if(null==TP){const n=typeof document<"u"?document.head:null;TP=!(!n||!n.createShadowRoot&&!n.attachShadow)}return TP}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const d={checkChildren:i,subject:new Ke.x,rootNode:s};return this._elementInfo.set(r,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(e){const i=Bp(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=Bp(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([d,p])=>this._originChanged(d,i,p)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=Pp(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,nT),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,nT)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(en(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,nT),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,nT),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let c=0;c<s.length;c++)if(s[c].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(lr),o.LFG(UY),o.LFG(ee,8),o.LFG($Y,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qY=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new o.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(xD))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),n})();const d2="cdk-high-contrast-black-on-white",h2="cdk-high-contrast-white-on-black",PP="cdk-high-contrast-active";let f2=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,o.f3M)(OP).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(PP,d2,h2),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(PP,d2):2===i&&e.add(PP,h2)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(lr),o.LFG(ee))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),p2=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(f2))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[JV]}),n})();const YY=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function WY(){return(0,o.f3M)(ee)}}),ZY=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Da=(()=>{class n{constructor(e){this.value="ltr",this.change=new o.vpe,e&&(this.value=function KY(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?ZY.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(YY,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const QY=["text"];function XY(n,t){if(1&n&&o._UZ(0,"mat-pseudo-checkbox",6),2&n){const e=o.oxw();o.Q6J("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function JY(n,t){if(1&n&&o._UZ(0,"mat-pseudo-checkbox",7),2&n){const e=o.oxw();o.Q6J("disabled",e.disabled)}}function e4(n,t){if(1&n&&(o.TgZ(0,"span",8),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.hij("(",e.group.label,")")}}const t4=[[["mat-icon"]],"*"],n4=["mat-icon","*"],a4=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function o4(){return!0}});let Ii=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!kP()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(f2),o.LFG(a4,8),o.LFG(ee))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[jb,jb]}),n})();function NP(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=gn(t)}constructor(...t){super(...t),this._disabled=!1}}}function LP(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function _2(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=gn(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function l4(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?XM(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function y2(n){return class extends n{updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}function c4(n){return class extends n{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new En.y(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}const u4=new o.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function d4(){return(0,o.f3M)(o.soG)}});class As{constructor(){this._localeChanges=new Ke.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const A_=new o.OlP("mat-date-formats"),h4=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function BP(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let f4=(()=>{class n extends As{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return BP(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return BP(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return BP(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let s=this._createDateWithOverflow(e,i,r);return s.getMonth(),s}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(h4.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const s=new Date;return s.setFullYear(e,i,r),s.setHours(0,0,0,0),s}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(u4,8),o.LFG(lr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const p4={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let m4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[{provide:As,useClass:f4}]}),n})(),g4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[{provide:A_,useValue:p4}],imports:[m4]}),n})(),v2=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class _4{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const b2=Fp({passive:!0,capture:!0});class y4{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=Pp(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(s=>s.handleEvent(t))})}}addHandler(t,e,i,r){const s=this._events.get(e);if(s){const c=s.get(i);c?c.add(r):s.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,b2)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const s=r.get(e);s&&(s.delete(i),0===s.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,b2)))}}const w2={enterDuration:225,exitDuration:150},C2=Fp({passive:!0,capture:!0}),x2=["mousedown","touchstart"],D2=["mouseup","mouseleave","touchend","touchcancel"];class $b{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Bp(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...w2,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const c=i.radius||function b4(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),d=t-r.left,p=e-r.top,y=s.enterDuration,w=document.createElement("div");w.classList.add("mat-ripple-element"),w.style.left=d-c+"px",w.style.top=p-c+"px",w.style.height=2*c+"px",w.style.width=2*c+"px",null!=i.color&&(w.style.backgroundColor=i.color),w.style.transitionDuration=`${y}ms`,this._containerElement.appendChild(w);const E=window.getComputedStyle(w),F=E.transitionDuration,B="none"===E.transitionProperty||"0s"===F||"0s, 0s"===F||0===r.width&&0===r.height,$=new _4(this,w,i,B);w.style.transform="scale3d(1, 1, 1)",$.state=0,i.persistent||(this._mostRecentTransientRipple=$);let K=null;return!B&&(y||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const De=()=>this._finishRippleTransition($),ze=()=>this._destroyRipple($);w.addEventListener("transitionend",De),w.addEventListener("transitioncancel",ze),K={onTransitionEnd:De,onTransitionCancel:ze}}),this._activeRipples.set($,K),(B||!y)&&this._finishRippleTransition($),$}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...w2,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Bp(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,x2.forEach(i=>{$b._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{D2.forEach(e=>{this._triggerElement.addEventListener(e,this,C2)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=l2(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!c2(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(x2.forEach(e=>$b._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&D2.forEach(e=>t.removeEventListener(e,this,C2)))}}$b._eventManager=new y4;const E2=new o.OlP("mat-ripple-global-options");let S2=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,s,c){this._elementRef=e,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new $b(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(lr),o.Y36(E2,8),o.Y36(o.QbO,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),A2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Ii,Ii]}),n})(),w4=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(e,i){2&e&&o.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("mat-pseudo-checkbox-minimal","minimal"===i.appearance)("mat-pseudo-checkbox-full","full"===i.appearance)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0}),n})(),C4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Ii]}),n})();const I2=new o.OlP("MAT_OPTION_PARENT_COMPONENT"),M2=new o.OlP("MatOptgroup");let x4=0;class D4{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let E4=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=gn(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,i,r,s){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+x4++,this.onSelectionChange=new o.vpe,this._stateChanges=new Ke.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!xa(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new D4(this,e))}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&o.Gf(QY,7),2&e){let r;o.iGM(r=o.CRH())&&(i._text=r.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),VP=(()=>{class n extends E4{constructor(e,i,r,s){super(e,i,r,s)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(I2,8),o.Y36(M2,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),2&e&&(o.Ikx("id",i.id),o.uIk("aria-selected",i.selected)("aria-disabled",i.disabled.toString()),o.ekj("mdc-list-item--selected",i.selected)("mat-mdc-option-multiple",i.multiple)("mat-mdc-option-active",i.active)("mdc-list-item--disabled",i.disabled))},exportAs:["matOption"],features:[o.qOj],ngContentSelectors:n4,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(o.F$t(t4),o.YNc(0,XY,1,2,"mat-pseudo-checkbox",0),o.Hsn(1),o.TgZ(2,"span",1,2),o.Hsn(4,1),o.qZA(),o.YNc(5,JY,1,1,"mat-pseudo-checkbox",3),o.YNc(6,e4,2,1,"span",4),o._UZ(7,"div",5)),2&e&&(o.Q6J("ngIf",i.multiple),o.xp6(5),o.Q6J("ngIf",!i.multiple&&i.selected&&!i.hideSingleSelectionIndicator),o.xp6(1),o.Q6J("ngIf",i.group&&i.group._inert),o.xp6(1),o.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[S2,Oi,w4],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),T2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[A2,ci,Ii,C4]}),n})();const k2=["mat-button",""],R2=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],O2=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],F2=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",M4=["mat-icon-button",""],T4=["*"],P2={capture:!0},N2=["focus","click","mouseenter","touchstart"],ED="mat-button-ripple-uninitialized";let k4=(()=>{class n{constructor(){this._document=(0,o.f3M)(ee,{optional:!0}),this._animationMode=(0,o.f3M)(o.QbO,{optional:!0}),this._globalRippleOptions=(0,o.f3M)(E2,{optional:!0}),this._platform=(0,o.f3M)(lr),this._ngZone=(0,o.f3M)(o.R0b),this._onInteraction=e=>{if(e.target===this._document)return;const r=e.target.closest(`[${ED}]`);r&&(r.removeAttribute(ED),this._appendRipple(r))},this._ngZone.runOutsideAngular(()=>{for(const e of N2)this._document?.addEventListener(e,this._onInteraction,P2)})}ngOnDestroy(){for(const e of N2)this._document?.removeEventListener(e,this._onInteraction,P2)}_appendRipple(e){if(!this._document)return;const i=this._document.createElement("span");i.classList.add("mat-mdc-button-ripple");const r=new R4(e,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);r.rippleConfig.centered=e.hasAttribute("mat-icon-button"),new $b(r,this._ngZone,i,this._platform).setupTriggerEvents(e),e.append(i)}_createMatRipple(e){if(!this._document)return;e.querySelector(".mat-mdc-button-ripple")?.remove(),e.removeAttribute(ED);const i=this._document.createElement("span");i.classList.add("mat-mdc-button-ripple");const r=new S2(new o.SBq(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=e,e.append(i),r}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class R4{constructor(t,e,i){this._button=t,this._globalRippleOptions=e,this._setRippleConfig(e,i)}_setRippleConfig(t,e){this.rippleConfig=t||{},"NoopAnimations"===e&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const O4=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],F4=LP(NP(_2(class{constructor(n){this._elementRef=n}})));let UP=(()=>{class n extends F4{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(e){this._ripple=e}constructor(e,i,r,s){super(e),this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=(0,o.f3M)(xD),this._rippleLoader=(0,o.f3M)(k4),this._isFab=!1;const c=e.nativeElement.classList;for(const d of O4)this._hasHostAttributes(d.selector)&&d.mdcClasses.forEach(p=>{c.add(p)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,features:[o.qOj,o.TTD]}),n})(),N4=(()=>{class n extends UP{constructor(e,i,r,s){super(e,i,r,s),this._haltDisabledEvents=c=>{this.disabled&&(c.preventDefault(),c.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})(),Lu=(()=>{class n extends UP{constructor(e,i,r,s){super(e,i,r,s)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(lr),o.Y36(o.R0b),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(e,i){2&e&&(o.uIk("disabled",i.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:k2,ngContentSelectors:O2,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(o.F$t(R2),o._UZ(0,"span",0),o.Hsn(1),o.TgZ(2,"span",1),o.Hsn(3,1),o.qZA(),o.Hsn(4,2),o._UZ(5,"span",2)(6,"span",3)),2&e&&o.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),iT=(()=>{class n extends N4{constructor(e,i,r,s){super(e,i,r,s)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(lr),o.Y36(o.R0b),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:9,hostBindings:function(e,i){2&e&&(o.uIk("disabled",i.disabled||null)("tabindex",i.disabled?-1:i.tabIndex)("aria-disabled",i.disabled.toString()),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[o.qOj],attrs:k2,ngContentSelectors:O2,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(o.F$t(R2),o._UZ(0,"span",0),o.Hsn(1),o.TgZ(2,"span",1),o.Hsn(3,1),o.qZA(),o.Hsn(4,2),o._UZ(5,"span",2)(6,"span",3)),2&e&&o.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',F2],encapsulation:2,changeDetection:0}),n})(),HP=(()=>{class n extends UP{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement),this._ripple.centered=!0),this._ripple}constructor(e,i,r,s){super(e,i,r,s)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(lr),o.Y36(o.R0b),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["button","mat-icon-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(e,i){2&e&&(o.uIk("disabled",i.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:M4,ngContentSelectors:T4,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(o.F$t(),o._UZ(0,"span",0),o.Hsn(1),o._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',F2],encapsulation:2,changeDetection:0}),n})(),zP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Ii,A2,Ii]}),n})();class L2{}class B4{}const yh="*";function Ea(n,t){return{type:7,name:n,definitions:t,options:{}}}function Mr(n,t=null){return{type:4,styles:t,timings:n}}function V2(n,t=null){return{type:2,steps:n,options:t}}function on(n){return{type:6,styles:n,offset:null}}function Tr(n,t,e){return{type:0,name:n,styles:t,options:e}}function qb(n){return{type:5,steps:n}}function cr(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function rT(n=null){return{type:9,options:n}}function sT(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}class SD{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class U2{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++e==s&&this._onFinish()}),c.onDestroy(()=>{++i==s&&this._onDestroy()}),c.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,d)=>Math.max(c,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class jP{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class I_ extends jP{constructor(t,e,i,r,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class oT extends jP{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class V4 extends jP{constructor(t){super(),this.element=t instanceof o.SBq?t.nativeElement:t}}class aT{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof I_?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof oT?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof V4?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class U4 extends aT{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const d=c.element,p=this._document.createComment("dom-portal");d.parentNode.insertBefore(p,d),this.outletElement.appendChild(d),this._attachedPortal=c,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(d,p)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||o.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let M_=(()=>{class n extends aT{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new o.vpe,this.attachDomPortal=s=>{const c=s.element,d=this._document.createComment("dom-portal");s.setAttachedHost(this),c.parentNode.insertBefore(d,c),this._getRootNode().appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(c,d)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),c=i.createComponent(s,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=e,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o._Vd),o.Y36(o.s_b),o.Y36(ee))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[o.qOj]}),n})(),Yb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();var H4=P(4266);const z4=["addListener","removeListener"],G4=["addEventListener","removeEventListener"],j4=["on","off"];function $P(n,t,e,i){if((0,sr.m)(e)&&(i=e,e=void 0),i)return $P(n,t,e).pipe(Wa(i));const[r,s]=function Y4(n){return(0,sr.m)(n.addEventListener)&&(0,sr.m)(n.removeEventListener)}(n)?G4.map(c=>d=>n[c](t,d,e)):function $4(n){return(0,sr.m)(n.addListener)&&(0,sr.m)(n.removeListener)}(n)?z4.map(H2(n,t)):function q4(n){return(0,sr.m)(n.on)&&(0,sr.m)(n.off)}(n)?j4.map(H2(n,t)):[];if(!r&&(0,H4.z)(n))return(0,Li.z)(c=>$P(c,t,e))((0,pt.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new En.y(c=>{const d=(...p)=>c.next(1<p.length?p:p[0]);return r(d),()=>s(d)})}function H2(n,t){return e=>i=>n[e](t,i)}var z2=P(1954);const AD={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=AD;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new Ln.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=AD;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=AD;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var G2=P(2631);new class Z4 extends G2.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class W4 extends z2.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=AD.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(AD.cancelAnimationFrame(e),t._scheduled=void 0)}});let qP,Q4=1;const lT={};function j2(n){return n in lT&&(delete lT[n],!0)}const X4={setImmediate(n){const t=Q4++;return lT[t]=!0,qP||(qP=Promise.resolve()),qP.then(()=>j2(t)&&n()),t},clearImmediate(n){j2(n)}},{setImmediate:J4,clearImmediate:e5}=X4,cT={setImmediate(...n){const{delegate:t}=cT;return(t?.setImmediate||J4)(...n)},clearImmediate(n){const{delegate:t}=cT;return(t?.clearImmediate||e5)(n)},delegate:void 0};new class n5 extends G2.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class t5 extends z2.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=cT.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(cT.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});var o5=P(671);function $2(n,t=Jy.z){return function s5(n){return(0,ii.e)((t,e)=>{let i=!1,r=null,s=null,c=!1;const d=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const y=r;r=null,e.next(y)}c&&e.complete()},p=()=>{s=null,c&&e.complete()};t.subscribe((0,Sn.x)(e,y=>{i=!0,r=y,s||(0,pt.Xf)(n(y)).subscribe(s=(0,Sn.x)(e,d,p))},()=>{c=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>function l5(n=0,t,e=Jy.P){let i=-1;return null!=t&&((0,o5.K)(t)?e=t:i=t),new En.y(r=>{let s=function a5(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let c=0;return e.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(n,t))}let u5=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Ke.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new En.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe($2(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,it.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(kn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Bp(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>$P(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(lr),o.LFG(ee,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uT=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Ke.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe($2(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(lr),o.LFG(o.R0b),o.LFG(ee,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),YP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[jb,dT,jb,dT]}),n})();const q2=iY();class f5{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Ir(-this._previousScrollPosition.left),t.style.top=Ir(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),q2&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),q2&&(i.scrollBehavior=s,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class p5{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(kn(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Y2{enable(){}disable(){}attach(){}}function WP(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function W2(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class m5{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();WP(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let g5=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new Y2,this.close=c=>new p5(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new f5(this._viewportRuler,this._document),this.reposition=c=>new m5(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(u5),o.LFG(uT),o.LFG(o.R0b),o.LFG(ee))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ID{constructor(t){if(this.scrollStrategy=new Y2,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class _5{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let Z2=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ee))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),y5=(()=>{class n extends Z2{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let c=s.length-1;c>-1;c--)if(s[c]._keydownEvents.observers.length>0){const d=s[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(r)):d.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ee),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),v5=(()=>{class n extends Z2{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Pp(s)},this._clickListener=s=>{const c=Pp(s),d="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let y=p.length-1;y>-1;y--){const w=p[y];if(w._outsidePointerEvents.observers.length<1||!w.hasAttached())continue;if(w.overlayElement.contains(c)||w.overlayElement.contains(d))break;const E=w._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>E.next(s)):E.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ee),o.LFG(lr),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hT=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||kP()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),kP()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ee),o.LFG(lr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class MD{constructor(t,e,i,r,s,c,d,p,y,w=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=c,this._document=d,this._location=p,this._outsideClickDispatcher=y,this._animationsDisabled=w,this._backdropElement=null,this._backdropClick=new Ke.x,this._attachments=new Ke.x,this._detachments=new Ke.x,this._locationChanges=Ln.w0.EMPTY,this._backdropClickHandler=E=>this._backdropClick.next(E),this._backdropTransitionendHandler=E=>{this._disposeBackdrop(E.target)},this._keydownEvents=new Ke.x,this._outsidePointerEvents=new Ke.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(An(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Ir(this._config.width),t.height=Ir(this._config.height),t.minWidth=Ir(this._config.minWidth),t.minHeight=Ir(this._config.minHeight),t.maxWidth=Ir(this._config.maxWidth),t.maxHeight=Ir(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=JM(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(en((0,Ks.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const K2="cdk-overlay-connected-position-bounding-box",b5=/([A-Za-z%]+)$/;class Q2{get positions(){return this._preferredPositions}constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ke.x,this._resizeSubscription=Ln.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(K2),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let c;for(let d of this._preferredPositions){let p=this._getOriginPoint(t,r,d),y=this._getOverlayPoint(p,e,d),w=this._getOverlayFit(y,e,i,d);if(w.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,p);this._canFitWithFlexibleDimensions(w,y,i)?s.push({position:d,origin:p,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(p,d)}):(!c||c.overlayFit.visibleArea<w.visibleArea)&&(c={overlayFit:w,overlayPoint:y,originPoint:p,position:d,overlayRect:e})}if(s.length){let d=null,p=-1;for(const y of s){const w=y.boundingBoxRect.width*y.boundingBoxRect.height*(y.position.weight||1);w>p&&(p=w,d=y)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&T_(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(K2),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const c=this._isRtl()?t.right:t.left,d=this._isRtl()?t.left:t.right;r="start"==i.originX?c:d}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=J2(e);let{x:c,y:d}=t,p=this._getOffset(r,"x"),y=this._getOffset(r,"y");p&&(c+=p),y&&(d+=y);let T=0-d,F=d+s.height-i.height,B=this._subtractOverflows(s.width,0-c,c+s.width-i.width),$=this._subtractOverflows(s.height,T,F),K=B*$;return{visibleArea:K,isCompletelyWithinViewport:s.width*s.height===K,fitsInViewportVertically:$===s.height,fitsInViewportHorizontally:B==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,c=X2(this._overlayRef.getConfig().minHeight),d=X2(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=c&&c<=r)&&(t.fitsInViewportHorizontally||null!=d&&d<=s)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=J2(e),s=this._viewportRect,c=Math.max(t.x+r.width-s.width,0),d=Math.max(t.y+r.height-s.height,0),p=Math.max(s.top-i.top-t.y,0),y=Math.max(s.left-i.left-t.x,0);let w=0,E=0;return w=r.width<=s.width?y||-c:t.x<this._viewportMargin?s.left-i.left-t.x:0,E=r.height<=s.height?p||-d:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:w,y:E},{x:t.x+w,y:t.y+E}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new _5(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,c,d,w,E,T;if("top"===e.overlayY)c=t.y,s=i.height-c+this._viewportMargin;else if("bottom"===e.overlayY)d=i.height-t.y+2*this._viewportMargin,s=i.height-d+this._viewportMargin;else{const F=Math.min(i.bottom-t.y+i.top,t.y),B=this._lastBoundingBoxSize.height;s=2*F,c=t.y-F,s>B&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.y-B/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)T=i.width-t.x+this._viewportMargin,w=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)E=t.x,w=i.right-t.x;else{const F=Math.min(i.right-t.x+i.left,t.x),B=this._lastBoundingBoxSize.width;w=2*F,E=t.x-F,w>B&&!this._isInitialRender&&!this._growAfterOpen&&(E=t.x-B/2)}return{top:c,left:E,bottom:d,right:T,width:w,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=Ir(i.height),r.top=Ir(i.top),r.bottom=Ir(i.bottom),r.width=Ir(i.width),r.left=Ir(i.left),r.right=Ir(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Ir(s)),c&&(r.maxWidth=Ir(c))}this._lastBoundingBoxSize=i,T_(this._boundingBox.style,r)}_resetBoundingBoxStyles(){T_(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){T_(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const w=this._viewportRuler.getViewportScrollPosition();T_(i,this._getExactOverlayY(e,t,w)),T_(i,this._getExactOverlayX(e,t,w))}else i.position="static";let d="",p=this._getOffset(e,"x"),y=this._getOffset(e,"y");p&&(d+=`translateX(${p}px) `),y&&(d+=`translateY(${y}px)`),i.transform=d.trim(),c.maxHeight&&(r?i.maxHeight=Ir(c.maxHeight):s&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=Ir(c.maxWidth):s&&(i.maxWidth="")),T_(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Ir(s.y),r}_getExactOverlayX(t,e,i){let c,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),c=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Ir(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:W2(t,i),isOriginOutsideView:WP(t,i),isOverlayClipped:W2(e,i),isOverlayOutsideView:WP(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&JM(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof o.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function T_(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function X2(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(b5);return e&&"px"!==e?null:parseFloat(t)}return n||null}function J2(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const eU="cdk-global-overlay-wrapper";class w5{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(eU),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:c,maxHeight:d}=i,p=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),y=!("100%"!==s&&"100vh"!==s||d&&"100%"!==d&&"100vh"!==d),w=this._xPosition,E=this._xOffset,T="rtl"===this._overlayRef.getConfig().direction;let F="",B="",$="";p?$="flex-start":"center"===w?($="center",T?B=E:F=E):T?"left"===w||"end"===w?($="flex-end",F=E):("right"===w||"start"===w)&&($="flex-start",B=E):"left"===w||"start"===w?($="flex-start",F=E):("right"===w||"end"===w)&&($="flex-end",B=E),t.position=this._cssPosition,t.marginLeft=p?"0":F,t.marginTop=y?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=p?"0":B,e.justifyContent=$,e.alignItems=y?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(eU),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let C5=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new w5}flexibleConnectedTo(e){return new Q2(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(uT),o.LFG(ee),o.LFG(lr),o.LFG(hT))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),x5=0,fl=(()=>{class n{constructor(e,i,r,s,c,d,p,y,w,E,T,F){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=c,this._injector=d,this._ngZone=p,this._document=y,this._directionality=w,this._location=E,this._outsideClickDispatcher=T,this._animationsModuleType=F}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),c=new ID(e);return c.direction=c.direction||this._directionality.value,new MD(s,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+x5++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new U4(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(g5),o.LFG(hT),o.LFG(o._Vd),o.LFG(C5),o.LFG(y5),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(ee),o.LFG(Da),o.LFG(Ye),o.LFG(v5),o.LFG(o.QbO,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const D5=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],tU=new o.OlP("cdk-connected-overlay-scroll-strategy");let ZP=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0}),n})(),nU=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=gn(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=gn(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=gn(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=gn(e)}get push(){return this._push}set push(e){this._push=gn(e)}constructor(e,i,r,s,c){this._overlay=e,this._dir=c,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Ln.w0.EMPTY,this._attachSubscription=Ln.w0.EMPTY,this._detachSubscription=Ln.w0.EMPTY,this._positionSubscription=Ln.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new o.vpe,this.positionChange=new o.vpe,this.attach=new o.vpe,this.detach=new o.vpe,this.overlayKeydown=new o.vpe,this.overlayOutsideClick=new o.vpe,this._templatePortal=new oT(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=D5);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!xa(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new ID({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof ZP?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function h5(n,t=!1){return(0,ii.e)((e,i)=>{let r=0;e.subscribe((0,Sn.x)(i,s=>{const c=n(s,r++);(c||t)&&i.next(s),!c&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fl),o.Y36(o.Rgc),o.Y36(o.s_b),o.Y36(tU),o.Y36(Da,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[o.TTD]}),n})();const S5={provide:tU,deps:[fl],useFactory:function E5(n){return()=>n.scrollStrategies.reposition()}};let TD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[fl,S5],imports:[jb,Yb,YP,YP]}),n})();function A5(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",2)(1,"button",3),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.action())}),o._uU(2),o.qZA()()}if(2&n){const e=o.oxw();o.xp6(2),o.hij(" ",e.data.action," ")}}const I5=["label"];function M5(n,t){}const T5=Math.pow(2,31)-1;class KP{constructor(t,e){this._overlayRef=e,this._afterDismissed=new Ke.x,this._afterOpened=new Ke.x,this._onAction=new Ke.x,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,T5))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const iU=new o.OlP("MatSnackBarData");class fT{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let k5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]}),n})(),R5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]}),n})(),O5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]}),n})(),F5=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(KP),o.Y36(iU))},n.\u0275cmp=o.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o._uU(1),o.qZA(),o.YNc(2,A5,3,1,"div",1)),2&e&&(o.xp6(1),o.hij(" ",i.data.message,"\n"),o.xp6(1),o.Q6J("ngIf",i.hasAction))},dependencies:[Oi,Lu,k5,R5,O5],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),n})();const P5={snackBarState:Ea("state",[Tr("void, hidden",on({transform:"scale(0.8)",opacity:0})),Tr("visible",on({transform:"scale(1)",opacity:1})),cr("* => visible",Mr("150ms cubic-bezier(0, 0, 0.2, 1)")),cr("* => void, * => hidden",Mr("75ms cubic-bezier(0.4, 0.0, 1, 1)",on({opacity:0})))])};let N5=0,L5=(()=>{class n extends aT{constructor(e,i,r,s,c){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=c,this._document=(0,o.f3M)(ee),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Ke.x,this._onExit=new Ke.x,this._onEnter=new Ke.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+N5++,this.attachDomPortal=d=>{this._assertNotAttached();const p=this._portalOutlet.attachDomPortal(d);return this._afterPortalAttached(),p},this._live="assertive"!==c.politeness||c.announcementMessage?"off"===c.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(An(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i)),this._exposeToModals()}_exposeToModals(){const e=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const s=i[r],c=s.getAttribute("aria-owns");this._trackedModals.add(s),c?-1===c.indexOf(e)&&s.setAttribute("aria-owns",c+" "+e):s.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{const i=e.getAttribute("aria-owns");if(i){const r=i.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.R0b),o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(lr),o.Y36(fT))},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&o.Gf(M_,7),2&e){let r;o.iGM(r=o.CRH())&&(i._portalOutlet=r.first)}},features:[o.qOj]}),n})(),B5=(()=>{class n extends L5{_afterPortalAttached(){super._afterPortalAttached();const e=this._label.nativeElement,i="mdc-snackbar__label";e.classList.toggle(i,!e.querySelector(`.${i}`))}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(e,i){if(1&e&&o.Gf(I5,7),2&e){let r;o.iGM(r=o.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(e,i){1&e&&o.WFA("@state.done",function(s){return i.onAnimationEnd(s)}),2&e&&o.d8E("@state",i._animationState)},features:[o.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),o.YNc(4,M5,0,0,"ng-template",4),o.qZA(),o._UZ(5,"div"),o.qZA()()),2&e&&(o.xp6(5),o.uIk("aria-live",i._live)("role",i._role)("id",i._liveElementId))},dependencies:[M_],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[P5.snackBarState]}}),n})(),rU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[TD,Yb,ci,zP,Ii,Ii]}),n})();const sU=new o.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function V5(){return new fT}});let U5=(()=>{class n{get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,i,r,s,c,d){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=c,this._defaultConfig=d,this._snackBarRefAtThisLevel=null}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const s={...this._defaultConfig,...r};return s.data={message:e,action:i},s.announcementMessage===e&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const s=o.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:fT,useValue:i}]}),c=new I_(this.snackBarContainerComponent,i.viewContainerRef,s),d=e.attach(c);return d.instance.snackBarConfig=i,d.instance}_attach(e,i){const r={...new fT,...this._defaultConfig,...i},s=this._createOverlay(r),c=this._attachSnackBarContainer(s,r),d=new KP(c,s);if(e instanceof o.Rgc){const p=new oT(e,null,{$implicit:r.data,snackBarRef:d});d.instance=c.attachTemplatePortal(p)}else{const p=this._createInjector(r,d),y=new I_(e,void 0,p),w=c.attachComponentPortal(y);d.instance=w.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(en(s.detachments())).subscribe(p=>{s.overlayElement.classList.toggle(this.handsetCssClass,p.matches)}),r.announcementMessage&&c._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(d,r),this._openedSnackBarRef=d,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new ID;i.direction=e.direction;let r=this._overlay.position().global();const s="rtl"===e.direction,c="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!s||"end"===e.horizontalPosition&&s,d=!c&&"center"!==e.horizontalPosition;return c?r.left("0"):d?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return o.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:KP,useValue:i},{provide:iU,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(fl),o.LFG(FP),o.LFG(o.zs3),o.LFG(OP),o.LFG(n,12),o.LFG(sU))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),kD=(()=>{class n extends U5{constructor(e,i,r,s,c,d){super(e,i,r,s,c,d),this.simpleSnackBarComponent=F5,this.snackBarContainerComponent=B5,this.handsetCssClass="mat-mdc-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(fl),o.LFG(FP),o.LFG(o.zs3),o.LFG(OP),o.LFG(n,12),o.LFG(sU))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:rU}),n})(),Wb=(()=>{class n{constructor(e,i,r,s){Ae(this,"afs",void 0),Ae(this,"afAuth",void 0),Ae(this,"router",void 0),Ae(this,"snackBar",void 0),Ae(this,"userData",void 0),this.afs=e,this.afAuth=i,this.router=r,this.snackBar=s}checkUserAndNavigate(){this.afAuth.authState.subscribe(e=>{e?(this.userData=e,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user")),this.router.navigate(["task-list"])):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}showErrorSnackbar(e){this.snackBar.open(e,"Close",{duration:5e3,panelClass:["error-snackbar"]})}signIn(e,i){return this.afAuth.signInWithEmailAndPassword(e,i).then(r=>{this.setUserData(r.user),this.checkUserAndNavigate()}).catch(r=>{this.showErrorSnackbar(r)})}signUp(e,i){return this.afAuth.createUserWithEmailAndPassword(e,i).then(r=>{this.sendVerificationMail(),this.setUserData(r.user)}).catch(r=>{this.showErrorSnackbar(r)})}sendVerificationMail(){return this.afAuth.currentUser.then(e=>e.sendEmailVerification()).then(()=>{this.router.navigate(["verify-email-address"])})}forgotPassword(e){return this.afAuth.sendPasswordResetEmail(e).then(()=>{this.showErrorSnackbar("Password reset email sent, check your inbox.")}).catch(i=>{this.showErrorSnackbar(i)})}get isLoggedIn(){const e=JSON.parse(localStorage.getItem("user"));return null!==e&&!1!==e.emailVerified}setUserData(e){return this.afs.doc(`users/${e.uid}`).set({uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,emailVerified:e.emailVerified},{merge:!0})}signOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["sign-in"])})}}return Ae(n,"\u0275fac",function(e){return new(e||n)(o.LFG(IP),o.LFG(_D),o.LFG(Yi),o.LFG(kD))}),Ae(n,"\u0275prov",o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})),n})();const H5=new o.OlP("MAT_SORT_DEFAULT_OPTIONS"),z5=c4(NP(class{}));let G5=(()=>{class n extends z5{get direction(){return this._direction}set direction(e){this._direction=e}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=gn(e)}constructor(e){super(),this._defaultOptions=e,this.sortables=new Map,this._stateChanges=new Ke.x,this.start="asc",this._direction="",this.sortChange=new o.vpe}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let r=function j5(n,t){let e=["asc","desc"];return"desc"==n&&e.reverse(),t||e.push(""),e}(e.start||this.start,e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),s=r.indexOf(this.direction)+1;return s>=r.length&&(s=0),r[s]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(H5,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[o.qOj,o.TTD]}),n})();class q5{}function XP(n){return n&&"function"==typeof n.connect&&!(n instanceof Ni)}class oU{applyChanges(t,e,i,r,s){t.forEachOperation((c,d,p)=>{let y,w;if(null==c.previousIndex){const E=i(c,d,p);y=e.createEmbeddedView(E.templateRef,E.context,E.index),w=1}else null==p?(e.remove(d),w=3):(y=e.get(d),e.move(y,p),w=2);s&&s({context:y?.context,operation:w,record:c})})}detach(){}}class Y5{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Ke.x,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(s=>this._markSelected(s)),e.filter(s=>!i.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t){if(this.compareWith){for(let e of this._selection)if(this.compareWith(t,e))return e;return t}return t}}const RD=new o.OlP("_ViewRepeater"),W5=[[["caption"]],[["colgroup"],["col"]]],Z5=["caption","colgroup, col"];function JP(n){return class extends n{get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=gn(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}}}const Zb=new o.OlP("CDK_TABLE");let Kb=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Qb=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),pT=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class J5{}const eW=JP(J5);let vh=(()=>{class n extends eW{get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=gn(e),this._hasStickyChanged=i!==this._stickyEnd}constructor(e){super(),this._table=e,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Zb,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,Kb,5),o.Suo(r,Qb,5),o.Suo(r,pT,5)),2&e){let s;o.iGM(s=o.CRH())&&(i.cell=s.first),o.iGM(s=o.CRH())&&(i.headerCell=s.first),o.iGM(s=o.CRH())&&(i.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[o._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),o.qOj]}),n})();class e1{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let t1=(()=>{class n extends e1{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(vh),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[o.qOj]}),n})(),n1=(()=>{class n extends e1{constructor(e,i){if(super(e,i),1===e._table?._elementRef.nativeElement.nodeType){const r=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(vh),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[o.qOj]}),n})();class cU{constructor(){this.tasks=[],this.endTasks=[]}}const r1=new o.OlP("_COALESCED_STYLE_SCHEDULER");let uU=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new Ke.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new cU,this._getScheduleObservable().pipe(en(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new cU;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,sn.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(An(1))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),s1=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof OD?e.headerCell.template:this instanceof FD?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})();class tW extends s1{}const nW=JP(tW);let OD=(()=>{class n extends nW{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(Zb,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),n})();class iW extends s1{}const rW=JP(iW);let FD=(()=>{class n extends rW{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(Zb,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),n})(),mT=(()=>{class n extends s1{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(Zb,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[o.qOj]}),n})(),bh=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),o1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},dependencies:[bh],encapsulation:2}),n})(),l1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},dependencies:[bh],encapsulation:2}),n})(),gT=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const dU=["top","bottom","left","right"];class sW{constructor(t,e,i,r,s=!0,c=!0,d){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=c,this._positionListener=d,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let s=0;s<r.children.length;s++)i.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(T=>T)&&!i.some(T=>T))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=t[0],c=s.children.length,d=this._getCellWidths(s,r),p=this._getStickyStartColumnPositions(d,e),y=this._getStickyEndColumnPositions(d,i),w=e.lastIndexOf(!0),E=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const T="rtl"===this.direction,F=T?"right":"left",B=T?"left":"right";for(const $ of t)for(let K=0;K<c;K++){const De=$.children[K];e[K]&&this._addStickyStyle(De,F,p[K],K===w),i[K]&&this._addStickyStyle(De,B,y[K],K===E)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===w?[]:d.slice(0,w+1).map(($,K)=>e[K]?$:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===E?[]:d.slice(E).map(($,K)=>i[K+E]?$:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,s="bottom"===i?e.slice().reverse():e,c=[],d=[],p=[];for(let w=0,E=0;w<r.length;w++){if(!s[w])continue;c[w]=E;const T=r[w];p[w]=this._isNativeHtmlTable?Array.from(T.children):[T];const F=T.getBoundingClientRect().height;E+=F,d[w]=F}const y=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let w=0;w<r.length;w++){if(!s[w])continue;const E=c[w],T=w===y;for(const F of p[w])this._addStickyStyle(F,i,E,T)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:d,offsets:c,elements:p}):this._positionListener?.stickyFooterRowsUpdated({sizes:d,offsets:c,elements:p})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);dU.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of dU)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let s=0;s<r.length;s++)i.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let s=0;s<t.length;s++)e[s]&&(i[s]=r,r+=t[s]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let s=t.length;s>0;s--)e[s]&&(i[s]=r,r+=t[s]);return i}}const c1=new o.OlP("CDK_SPL");let _T=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),yT=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),vT=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),bT=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),wT=(()=>{class n{get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=gn(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=gn(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,i,r,s,c,d,p,y,w,E,T,F){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=c,this._platform=p,this._viewRepeater=y,this._coalescedStyleScheduler=w,this._viewportRuler=E,this._stickyPositioningListener=T,this._ngZone=F,this._onDestroy=new Ke.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new o.vpe,this.viewChange=new Jt.X({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=d,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(en(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),XP(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,s,c)=>this._getEmbeddedViewArgs(r.item,c),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&o.R0b.isInAngularZone()?this._ngZone.onStable.pipe(An(1),en(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const s=this._headerRowDefs.map(c=>c.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,s,"top"),this._headerRowDefs.forEach(c=>c.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const s=this._footerRowDefs.map(c=>c.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(c=>c.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((s,c)=>{this._addStickyColumnStyles([s],this._headerRowDefs[c])}),this._rowDefs.forEach(s=>{const c=[];for(let d=0;d<i.length;d++)this._renderRows[d].rowDef===s&&c.push(i[d]);this._addStickyColumnStyles(c,s)}),r.forEach((s,c)=>{this._addStickyColumnStyles([s],this._footerRowDefs[c])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const c=this._getRenderRowsForData(s,r,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let d=0;d<c.length;d++){let p=c[d];const y=this._cachedRenderRowsMap.get(p.data);y.has(p.rowDef)?y.get(p.rowDef).push(p):y.set(p.rowDef,[p]),e.push(p)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(c=>{const d=r&&r.has(c)?r.get(c):[];if(d.length){const p=d.shift();return p.dataIndex=i,p}return{data:e,rowDef:c,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),CT(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=CT(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=CT(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=CT(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(c,d)=>c||!!d.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(e,!1);return s&&this._forceRenderFooterRows(),i||r||s}_switchDataSource(e){this._data=[],XP(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;XP(this.dataSource)?e=this.dataSource.connect(this):py(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=(0,it.of)(this.dataSource)),this._renderChangeSubscription=e.pipe(en(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(d=>this._columnDefsByName.get(d)),s=r.map(d=>d.sticky),c=r.map(d=>d.stickyEnd);this._stickyStyler.updateStickyColumns(e,s,c,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const s=e.viewContainer.get(r);i.push(s.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(i,e));else{let s=this._rowDefs.find(c=>c.when&&c.when(i,e))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,s={}){const c=e.viewContainer.createEmbeddedView(i.template,s,r);return this._renderCellTemplateForItem(i,s),c}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))bh.mostRecentCellOutlet&&bh.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const c=e.get(i).context;c.count=r,c.first=0===i,c.last=i===r-1,c.even=i%2==0,c.odd=!c.even,this.multiTemplateDataRows?(c.dataIndex=this._renderRows[i].dataIndex,c.renderIndex=i):c.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const s=this._document.createElement(r.tag);s.setAttribute("role","rowgroup");for(const c of r.outlets)s.appendChild(c.elementRef.nativeElement);e.appendChild(s)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new sW(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,it.of)()).pipe(en(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const s=r.createEmbeddedView(e.templateRef),c=s.rootNodes[0];1===s.rootNodes.length&&c?.nodeType===this._document.ELEMENT_NODE&&(c.setAttribute("role","row"),c.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.ZZ4),o.Y36(o.sBO),o.Y36(o.SBq),o.$8M("role"),o.Y36(Da,8),o.Y36(ee),o.Y36(lr),o.Y36(RD),o.Y36(r1),o.Y36(uT),o.Y36(c1,12),o.Y36(o.R0b,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,gT,5),o.Suo(r,vh,5),o.Suo(r,mT,5),o.Suo(r,OD,5),o.Suo(r,FD,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._noDataRow=s.first),o.iGM(s=o.CRH())&&(i._contentColumnDefs=s),o.iGM(s=o.CRH())&&(i._contentRowDefs=s),o.iGM(s=o.CRH())&&(i._contentHeaderRowDefs=s),o.iGM(s=o.CRH())&&(i._contentFooterRowDefs=s)}},viewQuery:function(e,i){if(1&e&&(o.Gf(_T,7),o.Gf(yT,7),o.Gf(vT,7),o.Gf(bT,7)),2&e){let r;o.iGM(r=o.CRH())&&(i._rowOutlet=r.first),o.iGM(r=o.CRH())&&(i._headerRowOutlet=r.first),o.iGM(r=o.CRH())&&(i._footerRowOutlet=r.first),o.iGM(r=o.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:["ngSkipHydration","",1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[o._Bn([{provide:Zb,useExisting:n},{provide:RD,useClass:oU},{provide:r1,useClass:uU},{provide:c1,useValue:null}])],ngContentSelectors:Z5,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(o.F$t(W5),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[_T,yT,vT,bT],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function CT(n,t){return n.concat(Array.from(t))}let aW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[YP]}),n})();const lW=[[["caption"]],[["colgroup"],["col"]]],cW=["caption","colgroup, col"];let fU=(()=>{class n extends wT{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:["ngSkipHydration","",1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mdc-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[o._Bn([{provide:wT,useExisting:n},{provide:Zb,useExisting:n},{provide:r1,useClass:uU},{provide:RD,useClass:oU},{provide:c1,useValue:null}]),o.qOj],ngContentSelectors:cW,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(o.F$t(lW),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[_T,yT,vT,bT],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child>.mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2}),n})(),u1=(()=>{class n extends Kb{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matCellDef",""]],features:[o._Bn([{provide:Kb,useExisting:n}]),o.qOj]}),n})(),d1=(()=>{class n extends Qb{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[o._Bn([{provide:Qb,useExisting:n}]),o.qOj]}),n})(),h1=(()=>{class n extends vh{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[o._Bn([{provide:vh,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),o.qOj]}),n})(),f1=(()=>{class n extends t1{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[o.qOj]}),n})(),p1=(()=>{class n extends n1{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[o.qOj]}),n})(),pU=(()=>{class n extends OD{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[o._Bn([{provide:OD,useExisting:n}]),o.qOj]}),n})(),mU=(()=>{class n extends mT{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[o._Bn([{provide:mT,useExisting:n}]),o.qOj]}),n})(),gU=(()=>{class n extends o1{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[o._Bn([{provide:o1,useExisting:n}]),o.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},dependencies:[bh],encapsulation:2}),n})(),_U=(()=>{class n extends l1{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[o._Bn([{provide:l1,useExisting:n}]),o.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},dependencies:[bh],encapsulation:2}),n})(),_W=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Ii,aW,Ii]}),n})();class vW extends q5{get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}constructor(t=[]){super(),this._renderData=new Jt.X([]),this._filter=new Jt.X(""),this._internalPageChanges=new Ke.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const r=e[i];if(XV(r)){const s=Number(r);return s<9007199254740991?s:r}return r},this.sortData=(e,i)=>{const r=i.active,s=i.direction;return r&&""!=s?e.sort((c,d)=>{let p=this.sortingDataAccessor(c,r),y=this.sortingDataAccessor(d,r);const w=typeof p,E=typeof y;w!==E&&("number"===w&&(p+=""),"number"===E&&(y+=""));let T=0;return null!=p&&null!=y?p>y?T=1:p<y&&(T=-1):null!=p?T=1:null!=y&&(T=-1),T*("asc"==s?1:-1)}):e},this.filterPredicate=(e,i)=>{const r=Object.keys(e).reduce((c,d)=>c+e[d]+"\u25ec","").toLowerCase(),s=i.trim().toLowerCase();return-1!=r.indexOf(s)},this._data=new Jt.X(t),this._updateChangeSubscription()}_updateChangeSubscription(){const t=this._sort?(0,Ks.T)(this._sort.sortChange,this._sort.initialized):(0,it.of)(null),e=this._paginator?(0,Ks.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,it.of)(null),r=A([this._data,this._filter]).pipe((0,We.U)(([d])=>this._filterData(d))),s=A([r,t]).pipe((0,We.U)(([d])=>this._orderData(d))),c=A([s,e]).pipe((0,We.U)(([d])=>this._pageData(d)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=c.subscribe(d=>this._renderData.next(d))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,i);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class bW extends vW{}let yU=(()=>{class n{transform(e,i){const r=e.split(" ");return r.length>i?r.slice(0,i).join(" ")+"...":e}}return Ae(n,"\u0275fac",function(e){return new(e||n)}),Ae(n,"\u0275pipe",o.Yjl({name:"truncate",type:n,pure:!0})),n})(),m1=(()=>{class n{constructor(e,i){Ae(this,"afs",void 0),Ae(this,"snackBar",void 0),Ae(this,"tasksCollection",void 0),this.afs=e,this.snackBar=i,this.tasksCollection=this.afs.collection("task")}getUserIdFromLocalStorage(){return JSON.parse(localStorage.getItem("user")).uid}getTasks(){const e=this.getUserIdFromLocalStorage();return e?this.afs.collection("task",i=>i.where("userId","==",e)).valueChanges():new En.y(i=>{i.next([]),i.complete()})}getTask(e){return(0,sn.D)(this.tasksCollection.ref.where("id","==",e).get()).pipe((0,We.U)(i=>i.empty?null:i.docs[0].data()))}showErrorSnackbar(e){this.snackBar.open(e,"Close",{duration:3e3,panelClass:["error-snackbar"]})}addTask(e){return new En.y(i=>{const r=this.getUserIdFromLocalStorage();r?(e.userId=r,this.tasksCollection.add(e).then(s=>{i.next(s),i.complete()}).catch(s=>{i.error(s)})):i.error(new Error("User is not authenticated"))})}updateTask(e,i){const r=this.getUserIdFromLocalStorage();return i.userId=r,(0,sn.D)(this.tasksCollection.ref.where("id","==",e).get()).pipe((0,xn.w)(s=>s.empty?new En.y(c=>{c.error(new Error("Task not found"))}):(0,sn.D)(s.docs[0].ref.update(i))),ga(s=>{throw this.showErrorSnackbar(s),s}))}deleteTask(e){return(0,sn.D)(this.tasksCollection.ref.where("id","==",e).get()).pipe((0,xn.w)(i=>i.empty?$n(()=>new Error("Task not found")):(0,sn.D)(i.docs[0].ref.delete())),ga(i=>(this.showErrorSnackbar(i),$n(()=>i))))}}return Ae(n,"\u0275fac",function(e){return new(e||n)(o.LFG(IP),o.LFG(kD))}),Ae(n,"\u0275prov",o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})),n})();function wW(n,t){}class xT{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let vU=(()=>{class n extends aT{constructor(e,i,r,s,c,d,p,y){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=s,this._interactivityChecker=c,this._ngZone=d,this._overlayRef=p,this._focusMonitor=y,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=w=>{this._portalOutlet.hasAttached();const E=this._portalOutlet.attachDomPortal(w);return this._contentAttached(),E},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=vD(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=vD();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=vD())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(tT),o.Y36(ee,8),o.Y36(xT),o.Y36(eT),o.Y36(o.R0b),o.Y36(MD),o.Y36(xD))},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&o.Gf(M_,7),2&e){let r;o.iGM(r=o.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&o.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[o.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&o.YNc(0,wW,0,0,"ng-template",0)},dependencies:[M_],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class g1{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new Ke.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!xa(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const bU=new o.OlP("DialogScrollStrategy"),CW=new o.OlP("DialogData"),xW=new o.OlP("DefaultDialogConfig"),EW={provide:bU,deps:[fl],useFactory:function DW(n){return()=>n.scrollStrategies.block()}};let SW=0,wU=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,i,r,s,c,d){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ke.x,this._afterOpenedAtThisLevel=new Ke.x,this._ariaHiddenElements=new Map,this.afterAllClosed=Bt(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Us(void 0))),this._scrollStrategy=d}open(e,i){(i={...this._defaultOptions||new xT,...i}).id=i.id||"cdk-dialog-"+SW++,i.id&&this.getDialogById(i.id);const s=this._getOverlayConfig(i),c=this._overlay.create(s),d=new g1(c,i),p=this._attachContainer(c,d,i);return d.containerInstance=p,this._attachDialogContent(e,d,p,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.closed.subscribe(()=>this._removeOpenDialog(d,!0)),this.afterOpened.next(d),d}closeAll(){_1(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){_1(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),_1(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new ID({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const s=r.injector||r.viewContainerRef?.injector,c=[{provide:xT,useValue:r},{provide:g1,useValue:i},{provide:MD,useValue:e}];let d;r.container?"function"==typeof r.container?d=r.container:(d=r.container.type,c.push(...r.container.providers(r))):d=vU;const p=new I_(d,r.viewContainerRef,o.zs3.create({parent:s||this._injector,providers:c}),r.componentFactoryResolver);return e.attach(p).instance}_attachDialogContent(e,i,r,s){if(e instanceof o.Rgc){const c=this._createInjector(s,i,r,void 0);let d={$implicit:s.data,dialogRef:i};s.templateContext&&(d={...d,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new oT(e,null,d,c))}else{const c=this._createInjector(s,i,r,this._injector),d=r.attachComponentPortal(new I_(e,s.viewContainerRef,c,s.componentFactoryResolver));i.componentInstance=d.instance}}_createInjector(e,i,r,s){const c=e.injector||e.viewContainerRef?.injector,d=[{provide:CW,useValue:e.data},{provide:g1,useValue:i}];return e.providers&&("function"==typeof e.providers?d.push(...e.providers(i,e,r)):d.push(...e.providers)),e.direction&&(!c||!c.get(Da,null,{optional:!0}))&&d.push({provide:Da,useValue:{value:e.direction,change:(0,it.of)()}}),o.zs3.create({parent:c||s,providers:d})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,c)=>{s?c.setAttribute("aria-hidden",s):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const s=i[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(fl),o.LFG(o.zs3),o.LFG(xW,8),o.LFG(n,12),o.LFG(hT),o.LFG(bU))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function _1(n,t){let e=n.length;for(;e--;)t(n[e])}let AW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[wU,EW],imports:[TD,Yb,p2,Yb]}),n})();function IW(n,t){}class DT{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const y1="mdc-dialog--open",CU="mdc-dialog--opening",xU="mdc-dialog--closing";let kW=(()=>{class n extends vU{constructor(e,i,r,s,c,d,p,y){super(e,i,r,s,c,d,p,y),this._animationStateChanged=new o.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(tT),o.Y36(ee,8),o.Y36(DT),o.Y36(eT),o.Y36(o.R0b),o.Y36(MD),o.Y36(xD))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],features:[o.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();const DU="--mat-dialog-transition-duration";function EU(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?XM(n.substring(0,n.length-2)):n.endsWith("s")?1e3*XM(n.substring(0,n.length-1)):"0"===n?0:null}let RW=(()=>{class n extends kW{constructor(e,i,r,s,c,d,p,y,w){super(e,i,r,s,c,d,p,w),this._animationMode=y,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?EU(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?EU(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(DU,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(CU,y1)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(y1),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(y1),this._animationsEnabled?(this._hostElement.style.setProperty(DU,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(xU)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(CU,xU)}_waitForAnimationToComplete(e,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(tT),o.Y36(ee,8),o.Y36(DT),o.Y36(eT),o.Y36(o.R0b),o.Y36(MD),o.Y36(o.QbO,8),o.Y36(xD))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(e,i){2&e&&(o.Ikx("id",i._config.id),o.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),o.ekj("_mat-animation-noopable",!i._animationsEnabled))},features:[o.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"div",1),o.YNc(2,IW,0,0,"ng-template",2),o.qZA()())},dependencies:[M_],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),n})();class OW{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new Ke.x,this._beforeClosed=new Ke.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(kn(r=>"opened"===r.state),An(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(kn(r=>"closed"===r.state),An(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Ks.T)(this.backdropClick(),this.keydownEvents().pipe(kn(r=>27===r.keyCode&&!this.disableClose&&!xa(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function FW(n,t,e){n._closeInteractionType=t,n.close(e)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(kn(e=>"closing"===e.state),An(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const PW=new o.OlP("MatMdcDialogData"),NW=new o.OlP("mat-mdc-dialog-default-options"),SU=new o.OlP("mat-mdc-dialog-scroll-strategy"),BW={provide:SU,deps:[fl],useFactory:function LW(n){return()=>n.scrollStrategies.block()}};let VW=0,UW=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,i,r,s,c,d,p,y,w,E){this._overlay=e,this._defaultOptions=r,this._parentDialog=s,this._dialogRefConstructor=p,this._dialogContainerType=y,this._dialogDataToken=w,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ke.x,this._afterOpenedAtThisLevel=new Ke.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=DT,this.afterAllClosed=Bt(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Us(void 0))),this._scrollStrategy=d,this._dialog=i.get(wU)}open(e,i){let r;(i={...this._defaultOptions||new DT,...i}).id=i.id||`${this._idPrefix}${VW++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:xT,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(c,d,p)=>(r=new this._dialogRefConstructor(c,i,p),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:p},{provide:this._dialogDataToken,useValue:d.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const c=this.openDialogs.indexOf(r);c>-1&&(this.openDialogs.splice(c,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),AU=(()=>{class n extends UW{constructor(e,i,r,s,c,d,p,y){super(e,i,s,d,p,c,OW,RW,PW,y),this._idPrefix="mat-mdc-dialog-"}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(fl),o.LFG(o.zs3),o.LFG(Ye,8),o.LFG(NW,8),o.LFG(SU),o.LFG(n,12),o.LFG(hT),o.LFG(o.QbO,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),HW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[AU,BW],imports:[AW,TD,Yb,Ii,Ii]}),n})();const zW=["*"],$W=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],qW=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],YW=new o.OlP("MAT_CARD_CONFIG");let ET=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(YW,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(e,i){2&e&&o.ekj("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:zW,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),ST=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),n})(),AT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),n})(),IT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:qW,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(e,i){1&e&&(o.F$t($W),o.Hsn(0),o.TgZ(1,"div",0),o.Hsn(2,1),o.qZA(),o.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),QW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Ii,ci,Ii]}),n})();class XW{constructor(t){this._box=t,this._destroyed=new Ke.x,this._resizeSubject=new Ke.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new En.y(e=>{const i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(kn(e=>e.some(i=>i.target===t)),XF({bufferSize:1,refCount:!0}),en(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let JW=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=(0,o.f3M)(o.R0b)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new XW(r)),this._observers.get(r).observe(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eZ=["notch"],tZ=["matFormFieldNotchedOutline",""],nZ=["*"],iZ=["textField"],rZ=["iconPrefixContainer"],sZ=["textPrefixContainer"];function oZ(n,t){1&n&&o._UZ(0,"span",19)}function aZ(n,t){if(1&n&&(o.TgZ(0,"label",17),o.Hsn(1,1),o.YNc(2,oZ,1,0,"span",18),o.qZA()),2&n){const e=o.oxw(2);o.Q6J("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),o.uIk("for",e._control.id),o.xp6(2),o.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required)}}function lZ(n,t){if(1&n&&o.YNc(0,aZ,3,5,"label",16),2&n){const e=o.oxw();o.Q6J("ngIf",e._hasFloatingLabel())}}function cZ(n,t){1&n&&o._UZ(0,"div",20)}function uZ(n,t){}function dZ(n,t){if(1&n&&o.YNc(0,uZ,0,0,"ng-template",22),2&n){o.oxw(2);const e=o.MAs(1);o.Q6J("ngTemplateOutlet",e)}}function hZ(n,t){if(1&n&&(o.TgZ(0,"div",21),o.YNc(1,dZ,1,1,"ng-template",9),o.qZA()),2&n){const e=o.oxw();o.Q6J("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),o.xp6(1),o.Q6J("ngIf",!e._forceDisplayInfixLabel())}}function fZ(n,t){1&n&&(o.TgZ(0,"div",23,24),o.Hsn(2,2),o.qZA())}function pZ(n,t){1&n&&(o.TgZ(0,"div",25,26),o.Hsn(2,3),o.qZA())}function mZ(n,t){}function gZ(n,t){if(1&n&&o.YNc(0,mZ,0,0,"ng-template",22),2&n){o.oxw();const e=o.MAs(1);o.Q6J("ngTemplateOutlet",e)}}function _Z(n,t){1&n&&(o.TgZ(0,"div",27),o.Hsn(1,4),o.qZA())}function yZ(n,t){1&n&&(o.TgZ(0,"div",28),o.Hsn(1,5),o.qZA())}function vZ(n,t){1&n&&o._UZ(0,"div",29)}function bZ(n,t){if(1&n&&(o.TgZ(0,"div",30),o.Hsn(1,6),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState)}}function wZ(n,t){if(1&n&&(o.TgZ(0,"mat-hint",34),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.Q6J("id",e._hintLabelId),o.xp6(1),o.Oqu(e.hintLabel)}}function CZ(n,t){if(1&n&&(o.TgZ(0,"div",31),o.YNc(1,wZ,2,2,"mat-hint",32),o.Hsn(2,7),o._UZ(3,"div",33),o.Hsn(4,8),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState),o.xp6(1),o.Q6J("ngIf",e.hintLabel)}}const xZ=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],DZ=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let PD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-label"]]}),n})(),EZ=0;const MU=new o.OlP("MatError");let ND=(()=>{class n{constructor(e,i){this.id="mat-mdc-error-"+EZ++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(o.$8M("aria-live"),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(e,i){2&e&&o.Ikx("id",i.id)},inputs:{id:"id"},features:[o._Bn([{provide:MU,useExisting:n}])]}),n})(),SZ=0,TU=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+SZ++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(e,i){2&e&&(o.Ikx("id",i.id),o.uIk("align",null),o.ekj("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const AZ=new o.OlP("MatPrefix"),kU=new o.OlP("MatSuffix");let RU=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[o._Bn([{provide:kU,useExisting:n}])]}),n})();const OU=new o.OlP("FloatingLabelParent");let FU=(()=>{class n{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,o.f3M)(JW),this._ngZone=(0,o.f3M)(o.R0b),this._parent=(0,o.f3M)(OU),this._resizeSubscription=new Ln.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function IZ(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}}),n})();const PU="mdc-line-ripple--active",MT="mdc-line-ripple--deactivating";let NU=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,c=s.contains(MT);"opacity"===r.propertyName&&c&&s.remove(PU,MT)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(MT),e.add(PU)}deactivate(){this._elementRef.nativeElement.classList.add(MT)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),LU=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(e,i){if(1&e&&o.Gf(eZ,5),2&e){let r;o.iGM(r=o.CRH())&&(i._notch=r.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mdc-notched-outline--notched",i.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:tZ,ngContentSelectors:nZ,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(e,i){1&e&&(o.F$t(),o._UZ(0,"div",0),o.TgZ(1,"div",1,2),o.Hsn(3),o.qZA(),o._UZ(4,"div",3))},encapsulation:2,changeDetection:0}),n})();const MZ={transitionMessages:Ea("transitionMessages",[Tr("enter",on({opacity:1,transform:"translateY(0%)"})),cr("void => enter",[on({opacity:0,transform:"translateY(-5px)"}),Mr("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let v1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n}),n})();const TT=new o.OlP("MatFormField"),TZ=new o.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let BU=0,Xb=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=gn(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,s,c,d,p,y){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=s,this._platform=c,this._defaults=d,this._animationMode=p,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+BU++,this._hintLabelId="mat-mdc-hint-"+BU++,this._subscriptAnimationState="",this._destroyed=new Ke.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,d&&(d.appearance&&(this.appearance=d.appearance),this._hideRequiredMarker=!!d?.hideRequiredMarker,d.color&&(this.color=d.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(en(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Ks.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(en(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(en(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,c=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+c}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(Da),o.Y36(lr),o.Y36(TZ,8),o.Y36(o.QbO,8),o.Y36(ee))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,PD,5),o.Suo(r,PD,7),o.Suo(r,v1,5),o.Suo(r,AZ,5),o.Suo(r,kU,5),o.Suo(r,MU,5),o.Suo(r,TU,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._labelChildNonStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildStatic=s.first),o.iGM(s=o.CRH())&&(i._formFieldControl=s.first),o.iGM(s=o.CRH())&&(i._prefixChildren=s),o.iGM(s=o.CRH())&&(i._suffixChildren=s),o.iGM(s=o.CRH())&&(i._errorChildren=s),o.iGM(s=o.CRH())&&(i._hintChildren=s)}},viewQuery:function(e,i){if(1&e&&(o.Gf(iZ,5),o.Gf(rZ,5),o.Gf(sZ,5),o.Gf(FU,5),o.Gf(LU,5),o.Gf(NU,5)),2&e){let r;o.iGM(r=o.CRH())&&(i._textField=r.first),o.iGM(r=o.CRH())&&(i._iconPrefixContainer=r.first),o.iGM(r=o.CRH())&&(i._textPrefixContainer=r.first),o.iGM(r=o.CRH())&&(i._floatingLabel=r.first),o.iGM(r=o.CRH())&&(i._notchedOutline=r.first),o.iGM(r=o.CRH())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(e,i){2&e&&o.ekj("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[o._Bn([{provide:TT,useExisting:n},{provide:OU,useExisting:n}])],ngContentSelectors:DZ,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(e,i){1&e&&(o.F$t(xZ),o.YNc(0,lZ,1,1,"ng-template",null,0,o.W1O),o.TgZ(2,"div",1,2),o.NdJ("click",function(s){return i._control.onContainerClick(s)}),o.YNc(4,cZ,1,0,"div",3),o.TgZ(5,"div",4),o.YNc(6,hZ,2,2,"div",5),o.YNc(7,fZ,3,0,"div",6),o.YNc(8,pZ,3,0,"div",7),o.TgZ(9,"div",8),o.YNc(10,gZ,1,1,"ng-template",9),o.Hsn(11),o.qZA(),o.YNc(12,_Z,2,0,"div",10),o.YNc(13,yZ,2,0,"div",11),o.qZA(),o.YNc(14,vZ,1,0,"div",12),o.qZA(),o.TgZ(15,"div",13),o.YNc(16,bZ,2,1,"div",14),o.YNc(17,CZ,5,2,"div",15),o.qZA()),2&e&&(o.xp6(2),o.ekj("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),o.xp6(2),o.Q6J("ngIf",!i._hasOutline()&&!i._control.disabled),o.xp6(2),o.Q6J("ngIf",i._hasOutline()),o.xp6(1),o.Q6J("ngIf",i._hasIconPrefix),o.xp6(1),o.Q6J("ngIf",i._hasTextPrefix),o.xp6(2),o.Q6J("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),o.xp6(2),o.Q6J("ngIf",i._hasTextSuffix),o.xp6(1),o.Q6J("ngIf",i._hasIconSuffix),o.xp6(1),o.Q6J("ngIf",!i._hasOutline()),o.xp6(1),o.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),o.Q6J("ngSwitch",i._getDisplayedMessages()),o.xp6(1),o.Q6J("ngSwitchCase","error"),o.xp6(1),o.Q6J("ngSwitchCase","hint"))},dependencies:[Oi,El,io,Dl,TU,FU,LU,NU],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[MZ.transitionMessages]},changeDetection:0}),n})(),kT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Ii,ci,JV,Ii]}),n})();function HU(...n){const t=(0,zo.jO)(n),{args:e,keys:i}=Gl(n),r=new En.y(s=>{const{length:c}=e;if(!c)return void s.complete();const d=new Array(c);let p=c,y=c;for(let w=0;w<c;w++){let E=!1;(0,pt.Xf)(e[w]).subscribe((0,Sn.x)(s,T=>{E||(E=!0,y--),d[w]=T},()=>p--,void 0,()=>{(!p||!E)&&(y||s.next(i?cf(i,d):d),s.complete())}))}});return t?r.pipe(Wa(t)):r}class b1{}class wh{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),c=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof wh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new wh;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof wh?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let c=this.headers.get(e);if(!c)return;c=c.filter(d=>-1===s.indexOf(d)),0===c.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,c)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class OZ{encodeKey(t){return zU(t)}encodeValue(t){return zU(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const PZ=/%(\d[a-f0-9])/gi,NZ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function zU(n){return encodeURIComponent(n).replace(PZ,(t,e)=>NZ[e]??t)}function RT(n){return`${n}`}class Up{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new OZ,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function FZ(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[c,d]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],p=e.get(c)||[];p.push(d),e.set(c,p)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(RT):[RT(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Up({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(RT(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(RT(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class LZ{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function GU(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function jU(n){return typeof Blob<"u"&&n instanceof Blob}function $U(n){return typeof FormData<"u"&&n instanceof FormData}class LD{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function BZ(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new wh),this.context||(this.context=new LZ),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=e;else{const d=e.indexOf("?");this.urlWithParams=e+(-1===d?"?":d<e.length-1?"&":"")+c}}else this.params=new Up,this.urlWithParams=e}serializeBody(){return null===this.body?null:GU(this.body)||jU(this.body)||$U(this.body)||function VZ(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Up?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||$U(this.body)?null:jU(this.body)?this.body.type||null:GU(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Up?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,c=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,d=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let p=t.headers||this.headers,y=t.params||this.params;const w=t.context??this.context;return void 0!==t.setHeaders&&(p=Object.keys(t.setHeaders).reduce((E,T)=>E.set(T,t.setHeaders[T]),p)),t.setParams&&(y=Object.keys(t.setParams).reduce((E,T)=>E.set(T,t.setParams[T]),y)),new LD(e,i,s,{params:y,headers:p,context:w,reportProgress:d,responseType:r,withCredentials:c})}}var C1=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(C1||{});class UZ{constructor(t,e=200,i="OK"){this.headers=t.headers||new wh,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class BD extends UZ{constructor(t={}){super(t),this.type=C1.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new BD({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function x1(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let D1=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof LD)s=e;else{let p,y;p=r.headers instanceof wh?r.headers:new wh(r.headers),r.params&&(y=r.params instanceof Up?r.params:new Up({fromObject:r.params})),s=new LD(e,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:y,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=(0,it.of)(s).pipe(go(p=>this.handler.handle(p)));if(e instanceof LD||"events"===r.observe)return c;const d=c.pipe(kn(p=>p instanceof BD));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe((0,We.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return d.pipe((0,We.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return d.pipe((0,We.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return d.pipe((0,We.U)(p=>p.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Up).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,x1(r,i))}post(e,i,r={}){return this.request("POST",e,x1(r,i))}put(e,i,r={}){return this.request("PUT",e,x1(r,i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(b1))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const o8=["*"];let PT;function VD(n){return function a8(){if(void 0===PT&&(PT=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(PT=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return PT}()?.createHTML(n)||n}function tH(n){return Error(`Unable to find icon with the name "${n}"`)}function nH(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function iH(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class R_{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let NT=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new R_(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const c=this._sanitizer.sanitize(o.q3G.HTML,r);if(!c)throw iH(r);const d=VD(c);return this._addSvgIconConfig(e,i,new R_("",d,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new R_(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(o.q3G.HTML,i);if(!s)throw iH(i);const c=VD(s);return this._addSvgIconSetConfig(e,new R_("",c,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,e);if(!i)throw nH(e);const r=this._cachedIconsByUrl.get(i);return r?(0,it.of)(LT(r)):this._loadSvgIconFromConfig(new R_(e,null)).pipe((0,Kn.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,We.U)(s=>LT(s)))}getNamedSvgIcon(e,i=""){const r=rH(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(e,c):$n(tH(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,it.of)(LT(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,We.U)(i=>LT(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?(0,it.of)(r):HU(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(ga(d=>{const y=`Loading icon set URL: ${this._sanitizer.sanitize(o.q3G.RESOURCE_URL,c.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(y)),(0,it.of)(null)})))).pipe((0,We.U)(()=>{const c=this._extractIconWithNameFromAnySet(e,i);if(!c)throw tH(e);return c}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const c=this._svgElementFromConfig(s),d=this._extractSvgIconFromSet(c,e,s.options);if(d)return d}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Kn.b)(i=>e.svgText=i),(0,We.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,it.of)(null):this._fetchIcon(e).pipe((0,Kn.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const c=s.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,r);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),r);const d=this._svgElementFromString(VD("<svg></svg>"));return d.appendChild(c),this._setSvgAttributes(d,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(VD("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:c,value:d}=r[s];"id"!==c&&i.setAttribute(c,d)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,s=r?.withCredentials??!1;if(!this._httpClient)throw function l8(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const c=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,i);if(!c)throw nH(i);const d=this._inProgressUrlFetches.get(c);if(d)return d;const p=this._httpClient.get(c,{responseType:"text",withCredentials:s}).pipe((0,We.U)(y=>VD(y)),Im(()=>this._inProgressUrlFetches.delete(c)),(0,QF.B)());return this._inProgressUrlFetches.set(c,p),p}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(rH(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return u8(s)?new R_(s.url,null,s.options):new R_(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(D1,8),o.LFG(Bl),o.LFG(ee,8),o.LFG(o.qLn))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function LT(n){return n.cloneNode(!0)}function rH(n,t){return n+":"+t}function u8(n){return!(!n.url||!n.options)}const d8=LP(class{constructor(n){this._elementRef=n}}),h8=new o.OlP("MAT_ICON_DEFAULT_OPTIONS"),f8=new o.OlP("mat-icon-location",{providedIn:"root",factory:function p8(){const n=(0,o.f3M)(ee),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),sH=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],m8=sH.map(n=>`[${n}]`).join(", "),g8=/^url\(['"]?#(.*?)['"]?\)$/;let _8=(()=>{class n extends d8{get inline(){return this._inline}set inline(e){this._inline=gn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,s,c,d){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=c,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ln.w0.EMPTY,d&&(d.color&&(this.color=this.defaultColor=d.color),d.fontSet&&(this.fontSet=d.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(c=>{s.setAttribute(c.name,`url('${e}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(m8),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)sH.forEach(c=>{const d=i[s],p=d.getAttribute(c),y=p?p.match(g8):null;if(y){let w=r.get(d);w||(w=[],r.set(d,w)),w.push({name:c,value:y[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(An(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(NT),o.$8M("aria-hidden"),o.Y36(f8),o.Y36(o.qLn),o.Y36(h8,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(o.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),o.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[o.qOj],ngContentSelectors:o8,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),y8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Ii,Ii]}),n})(),oH=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n}),n})(),O_=(()=>{class n extends oH{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const pc=new o.OlP("NgValueAccessor"),b8={provide:pc,useExisting:(0,o.Gpc)(()=>zp),multi:!0},C8=new o.OlP("CompositionEventMode");let zp=(()=>{class n extends oH{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function w8(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(C8,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[o._Bn([b8]),o.qOj]}),n})();function Gp(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function lH(n){return null!=n&&"number"==typeof n.length}const Is=new o.OlP("NgValidators"),jp=new o.OlP("NgAsyncValidators"),x8=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ur{static min(t){return function cH(n){return t=>{if(Gp(t.value)||Gp(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function uH(n){return t=>{if(Gp(t.value)||Gp(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return dH(t)}static requiredTrue(t){return function hH(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function fH(n){return Gp(n.value)||x8.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function pH(n){return t=>Gp(t.value)||!lH(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function mH(n){return t=>lH(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function gH(n){if(!n)return BT;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Gp(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return CH(t)}static composeAsync(t){return xH(t)}}function dH(n){return Gp(n.value)?{required:!0}:null}function BT(n){return null}function _H(n){return null!=n}function yH(n){return(0,o.QGY)(n)?(0,sn.D)(n):n}function vH(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function bH(n,t){return t.map(e=>e(n))}function wH(n){return n.map(t=>function D8(n){return!n.validate}(t)?t:e=>t.validate(e))}function CH(n){if(!n)return null;const t=n.filter(_H);return 0==t.length?null:function(e){return vH(bH(e,t))}}function S1(n){return null!=n?CH(wH(n)):null}function xH(n){if(!n)return null;const t=n.filter(_H);return 0==t.length?null:function(e){return HU(bH(e,t).map(yH)).pipe((0,We.U)(vH))}}function A1(n){return null!=n?xH(wH(n)):null}function DH(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function EH(n){return n._rawValidators}function SH(n){return n._rawAsyncValidators}function I1(n){return n?Array.isArray(n)?n:[n]:[]}function VT(n,t){return Array.isArray(n)?n.includes(t):n===t}function AH(n,t){const e=I1(t);return I1(n).forEach(r=>{VT(e,r)||e.push(r)}),e}function IH(n,t){return I1(t).filter(e=>!VT(n,e))}class MH{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=S1(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=A1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class So extends MH{get formDirective(){return null}get path(){return null}}class Bu extends MH{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class TH{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Jb=(()=>{class n extends TH{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Bu,2))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[o.qOj]}),n})(),F_=(()=>{class n extends TH{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(So,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[o.qOj]}),n})();const UD="VALID",HT="INVALID",ew="PENDING",HD="DISABLED";function k1(n){return(zT(n)?n.validators:n)||null}function R1(n,t){return(zT(t)?t.asyncValidators:n)||null}function zT(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function RH(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new o.vHH(1e3,"");if(!i[e])throw new o.vHH(1001,"")}function OH(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new o.vHH(1002,"")})}class GT{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===UD}get invalid(){return this.status===HT}get pending(){return this.status==ew}get disabled(){return this.status===HD}get enabled(){return this.status!==HD}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(AH(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(AH(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(IH(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(IH(t,this._rawAsyncValidators))}hasValidator(t){return VT(this._rawValidators,t)}hasAsyncValidator(t){return VT(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ew,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=HD,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=UD,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===UD||this.status===ew)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?HD:UD}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ew,this._hasOwnPendingAsyncValidator=!0;const e=yH(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?HD:this.errors?HT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ew)?ew:this._anyControlsHaveStatus(HT)?HT:UD}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){zT(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function I8(n){return Array.isArray(n)?S1(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function M8(n){return Array.isArray(n)?A1(n):n||null}(this._rawAsyncValidators)}}class zD extends GT{constructor(t,e,i){super(k1(e),R1(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){OH(this,0,t),Object.keys(t).forEach(i=>{RH(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class FH extends zD{}const P_=new o.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>GD}),GD="always";function jD(n,t,e=GD){O1(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function k8(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&PH(n,t)})}(n,t),function O8(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function R8(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&PH(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function T8(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function $T(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),YT(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function qT(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function O1(n,t){const e=EH(n);null!==t.validator?n.setValidators(DH(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=SH(n);null!==t.asyncValidator?n.setAsyncValidators(DH(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();qT(t._rawValidators,r),qT(t._rawAsyncValidators,r)}function YT(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=EH(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=SH(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return qT(t._rawValidators,i),qT(t._rawAsyncValidators,i),e}function PH(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function NH(n,t){O1(n,t)}function LH(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const B8={provide:So,useExisting:(0,o.Gpc)(()=>tw)},$D=(()=>Promise.resolve())();let tw=(()=>{class n extends So{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.vpe,this.form=new zD({},S1(e),A1(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){$D.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),jD(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){$D.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){$D.then(()=>{const i=this._findContainer(e.path),r=new zD({});NH(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){$D.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){$D.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,LH(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Is,10),o.Y36(jp,10),o.Y36(P_,8))},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([B8]),o.qOj]}),n})();function BH(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function VH(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const qD=class extends GT{constructor(t=null,e,i){super(k1(e),R1(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zT(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=VH(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){BH(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){BH(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){VH(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let N_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),$H=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const L1=new o.OlP("NgModelWithFormControlWarning"),Y8={provide:So,useExisting:(0,o.Gpc)(()=>Vu)};let Vu=(()=>{class n extends So{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(YT(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return jD(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){$T(e.control||null,e,!1),function L8(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,LH(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&($T(i||null,e),(n=>n instanceof qD)(r)&&(jD(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);NH(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function F8(n,t){return YT(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){O1(this.form,this),this._oldForm&&YT(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Is,10),o.Y36(jp,10),o.Y36(P_,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([Y8]),o.qOj,o.TTD]}),n})();const K8={provide:Bu,useExisting:(0,o.Gpc)(()=>L_)};let L_=(()=>{class n extends Bu{set isDisabled(e){}constructor(e,i,r,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.name=null,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function N1(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===zp?e=s:function N8(n){return Object.getPrototypeOf(n.constructor)===O_}(s)?i=s:r=s}),r||i||e||null}(0,s)}ngOnChanges(e){this._added||this._setUpControl(),function P1(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function jT(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(o.Y36(So,13),o.Y36(Is,10),o.Y36(jp,10),o.Y36(pc,10),o.Y36(L1,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([K8]),o.qOj,o.TTD]}),n})(),B_=(()=>{class n{constructor(){this._validator=BT}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):BT,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})();const sK={provide:Is,useExisting:(0,o.Gpc)(()=>YD),multi:!0};let YD=(()=>{class n extends B_{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=o.VuI,this.createValidator=e=>dH}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&o.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[o._Bn([sK]),o.qOj]}),n})(),az=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[$H]}),n})();class lz extends GT{constructor(t,e,i){super(k1(e),R1(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){OH(this,0,t),t.forEach((i,r)=>{RH(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function cz(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let WD=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let s={};return cz(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new zD(r,s)}record(e,i=null){const r=this._reduceControls(e);return new FH(r,i)}control(e,i,r){let s={};return this.useNonNullable?(cz(i)?s=i:(s.validators=i,s.asyncValidators=r),new qD(e,{...s,nonNullable:!0})):new qD(e,i,r)}array(e,i,r){const s=e.map(c=>this._createControl(c));return new lz(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof qD||e instanceof GT?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dK=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:P_,useValue:e.callSetDisabledState??GD}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[az]}),n})(),hK=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:L1,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:P_,useValue:e.callSetDisabledState??GD}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[az]}),n})();const fK=["trigger"],pK=["panel"];function mK(n,t){if(1&n&&(o.TgZ(0,"span",10),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.placeholder)}}function gK(n,t){if(1&n&&(o.TgZ(0,"span",14),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Oqu(e.triggerValue)}}function _K(n,t){1&n&&o.Hsn(0,0,["*ngSwitchCase","true"])}function yK(n,t){if(1&n&&(o.TgZ(0,"span",11),o.YNc(1,gK,2,1,"span",12),o.YNc(2,_K,1,0,"ng-content",13),o.qZA()),2&n){const e=o.oxw();o.Q6J("ngSwitch",!!e.customTrigger),o.xp6(2),o.Q6J("ngSwitchCase",!0)}}function vK(n,t){if(1&n){const e=o.EpF();o.O4$(),o.kcU(),o.TgZ(0,"div",15,16),o.NdJ("@transformPanel.done",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._handleKeydown(r))}),o.Hsn(2,1),o.qZA()}if(2&n){const e=o.oxw();o.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),o.Q6J("ngClass",e.panelClass)("@transformPanel","showing"),o.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const bK=[[["mat-select-trigger"]],"*"],wK=["mat-select-trigger","*"],CK={transformPanelWrap:Ea("transformPanelWrap",[cr("* => void",sT("@transformPanel",[rT()],{optional:!0}))]),transformPanel:Ea("transformPanel",[Tr("void",on({opacity:0,transform:"scale(1, 0.8)"})),cr("void => showing",Mr("120ms cubic-bezier(0, 0, 0.2, 1)",on({opacity:1,transform:"scale(1, 1)"}))),cr("* => void",Mr("100ms linear",on({opacity:0})))])};let uz=0;const dz=new o.OlP("mat-select-scroll-strategy"),DK=new o.OlP("MAT_SELECT_CONFIG"),EK={provide:dz,deps:[fl],useFactory:function xK(n){return()=>n.scrollStrategies.reposition()}},SK=new o.OlP("MatSelectTrigger");class AK{constructor(t,e){this.source=t,this.value=e}}const IK=_2(l4(NP(y2(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new Ke.x}}))));let MK=(()=>{class n extends IK{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(ur.required)??!1}set required(e){this._required=gn(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=gn(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=gn(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=XM(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}constructor(e,i,r,s,c,d,p,y,w,E,T,F,B,$){super(c,s,p,y,E),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=d,this._parentFormField=w,this._liveAnnouncer=B,this._defaultOptions=$,this._panelOpen=!1,this._compareWith=(K,De)=>K===De,this._uid="mat-select-"+uz++,this._triggerAriaLabelledBy=null,this._destroy=new Ke.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+uz++,this._panelDoneAnimatingStream=new Ke.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=Bt(()=>{const K=this.options;return K?K.changes.pipe(Us(K),(0,xn.w)(()=>(0,Ks.T)(...K.map(De=>De.onSelectionChange)))):this._ngZone.onStable.pipe(An(1),(0,xn.w)(()=>this.optionSelectionChanges))}),this.openedChange=new o.vpe,this._openedStream=this.openedChange.pipe(kn(K=>K),(0,We.U)(()=>{})),this._closedStream=this.openedChange.pipe(kn(K=>!K),(0,We.U)(()=>{})),this.selectionChange=new o.vpe,this.valueChange=new o.vpe,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=$?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=$.typeaheadDebounceInterval),this._scrollStrategyFactory=F,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(T)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Y5(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,ev.x)(),en(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(en(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Us(null),en(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;const i=`${this.id}-panel`;this._trackedModal&&r2(this._trackedModal,"aria-owns",i),function wY(n,t,e){const i=s2(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))}(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){this._trackedModal&&(r2(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,c=this._keyManager;if(!c.isTyping()&&s&&!xa(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const d=this.selected;c.onKeydown(e);const p=this.selected;p&&d!==p&&this._liveAnnouncer.announce(p.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,s=40===r||38===r,c=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(c||13!==r&&32!==r||!i.activeItem||xa(e))if(!c&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const d=this.options.some(p=>!p.disabled&&!p.selected);this.options.forEach(p=>{p.disabled||(d?p.select():p.deselect())})}else{const d=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==d&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(An(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_skipPredicate(e){return e.disabled}_initKeyManager(){this._keyManager=new EY(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Ks.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(en(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Ks.T)(...this.options.map(i=>i._stateChanges)).pipe(en(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){e=i;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(uT),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(v2),o.Y36(o.SBq),o.Y36(Da,8),o.Y36(tw,8),o.Y36(Vu,8),o.Y36(TT,8),o.Y36(Bu,10),o.$8M("tabindex"),o.Y36(dz),o.Y36(FP),o.Y36(DK,8))},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&(o.Gf(fK,5),o.Gf(pK,5),o.Gf(nU,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.trigger=r.first),o.iGM(r=o.CRH())&&(i.panel=r.first),o.iGM(r=o.CRH())&&(i._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[o.qOj,o.TTD]}),n})(),hz=(()=>{class n extends MK{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=e=>!this.panelOpen&&e.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(en(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(e){const i=this.options.toArray()[e];if(i){const r=this.panel.nativeElement,s=function S4(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),s=0;for(let c=0;c<n+1;c++)i[c].group&&i[c].group===r[s]&&s++;return s}return 0}(e,this.options,this.optionGroups),c=i._getHostElement();r.scrollTop=0===e&&1===s?0:function A4(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}(c.offsetTop,c.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new AK(this,e)}_getOverlayWidth(e){return"auto"===this.panelWidth?(e instanceof ZP?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=gn(e),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,SK,5),o.Suo(r,VP,5),o.Suo(r,M2,5)),2&e){let s;o.iGM(s=o.CRH())&&(i.customTrigger=s.first),o.iGM(s=o.CRH())&&(i.options=s),o.iGM(s=o.CRH())&&(i.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(e,i){1&e&&o.NdJ("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(o.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),o.ekj("mat-mdc-select-disabled",i.disabled)("mat-mdc-select-invalid",i.errorState)("mat-mdc-select-required",i.required)("mat-mdc-select-empty",i.empty)("mat-mdc-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[o._Bn([{provide:v1,useExisting:n},{provide:I2,useExisting:n}]),o.qOj],ngContentSelectors:wK,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(o.F$t(bK),o.TgZ(0,"div",0,1),o.NdJ("click",function(){return i.toggle()}),o.TgZ(3,"div",2),o.YNc(4,mK,2,1,"span",3),o.YNc(5,yK,3,2,"span",4),o.qZA(),o.TgZ(6,"div",5)(7,"div",6),o.O4$(),o.TgZ(8,"svg",7),o._UZ(9,"path",8),o.qZA()()()(),o.YNc(10,vK,3,9,"ng-template",9),o.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=o.MAs(1);o.xp6(3),o.Q6J("ngSwitch",i.empty),o.uIk("id",i._valueId),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1),o.xp6(5),o.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",i._preferredOverlayOrigin||r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayWidth",i._overlayWidth)}},dependencies:[Ri,io,Dl,um,nU,ZP],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[CK.transformPanel]},changeDetection:0}),n})(),TK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[EK],imports:[ci,TD,T2,Ii,dT,kT,T2,Ii]}),n})();const fz=["*"];class mc{_clearListeners(){for(const t of this._listeners)t.remove();this._listeners=[]}constructor(t){this._ngZone=t,this._pending=[],this._listeners=[],this._targetStream=new Jt.X(void 0)}getLazyEmitter(t){return this._targetStream.pipe((0,xn.w)(e=>{const i=new En.y(r=>{if(!e)return void this._pending.push({observable:i,observer:r});const s=e.addListener(t,c=>{this._ngZone.run(()=>r.next(c))});if(s)return this._listeners.push(s),()=>s.remove();r.complete()});return i}))}setTarget(t){const e=this._targetStream.value;t!==e&&(e&&(this._clearListeners(),this._pending=[]),this._targetStream.next(t),this._pending.forEach(i=>i.observable.subscribe(i.observer)),this._pending=[])}destroy(){this._clearListeners(),this._pending=[],this._targetStream.complete()}}const ZD={center:{lat:37.421995,lng:-122.084092},zoom:17,mapTypeId:"roadmap"};let Qs=(()=>{class n{set center(e){this._center=e}set zoom(e){this._zoom=e}set options(e){this._options=e||ZD}constructor(e,i,r){if(this._elementRef=e,this._ngZone=i,this._eventManager=new mc((0,o.f3M)(o.R0b)),this.height="500px",this.width="500px",this._options=ZD,this.mapInitialized=new o.vpe,this.authFailure=new o.vpe,this.boundsChanged=this._eventManager.getLazyEmitter("bounds_changed"),this.centerChanged=this._eventManager.getLazyEmitter("center_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.headingChanged=this._eventManager.getLazyEmitter("heading_changed"),this.idle=this._eventManager.getLazyEmitter("idle"),this.maptypeidChanged=this._eventManager.getLazyEmitter("maptypeid_changed"),this.mapMousemove=this._eventManager.getLazyEmitter("mousemove"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.projectionChanged=this._eventManager.getLazyEmitter("projection_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.tilesloaded=this._eventManager.getLazyEmitter("tilesloaded"),this.tiltChanged=this._eventManager.getLazyEmitter("tilt_changed"),this.zoomChanged=this._eventManager.getLazyEmitter("zoom_changed"),this._isBrowser=Lr(r),this._isBrowser){const s=window;this._existingAuthFailureCallback=s.gm_authFailure,s.gm_authFailure=()=>{this._existingAuthFailureCallback&&this._existingAuthFailureCallback(),this.authFailure.emit()}}}ngOnChanges(e){(e.height||e.width)&&this._setSize();const i=this.googleMap;i&&(e.options&&i.setOptions(this._combineOptions()),e.center&&this._center&&i.setCenter(this._center),e.zoom&&null!=this._zoom&&i.setZoom(this._zoom),e.mapTypeId&&this.mapTypeId&&i.setMapTypeId(this.mapTypeId))}ngOnInit(){this._isBrowser&&(this._mapEl=this._elementRef.nativeElement.querySelector(".map-container"),this._setSize(),this._ngZone.runOutsideAngular(()=>{this.googleMap=new google.maps.Map(this._mapEl,this._combineOptions())}),this._eventManager.setTarget(this.googleMap),this.mapInitialized.emit(this.googleMap))}ngOnDestroy(){this._eventManager.destroy(),this._isBrowser&&(window.gm_authFailure=this._existingAuthFailureCallback)}fitBounds(e,i){this._assertInitialized(),this.googleMap.fitBounds(e,i)}panBy(e,i){this._assertInitialized(),this.googleMap.panBy(e,i)}panTo(e){this._assertInitialized(),this.googleMap.panTo(e)}panToBounds(e,i){this._assertInitialized(),this.googleMap.panToBounds(e,i)}getBounds(){return this._assertInitialized(),this.googleMap.getBounds()||null}getCenter(){return this._assertInitialized(),this.googleMap.getCenter()}getClickableIcons(){return this._assertInitialized(),this.googleMap.getClickableIcons()}getHeading(){return this._assertInitialized(),this.googleMap.getHeading()}getMapTypeId(){return this._assertInitialized(),this.googleMap.getMapTypeId()}getProjection(){return this._assertInitialized(),this.googleMap.getProjection()||null}getStreetView(){return this._assertInitialized(),this.googleMap.getStreetView()}getTilt(){return this._assertInitialized(),this.googleMap.getTilt()}getZoom(){return this._assertInitialized(),this.googleMap.getZoom()}get controls(){return this._assertInitialized(),this.googleMap.controls}get data(){return this._assertInitialized(),this.googleMap.data}get mapTypes(){return this._assertInitialized(),this.googleMap.mapTypes}get overlayMapTypes(){return this._assertInitialized(),this.googleMap.overlayMapTypes}_setSize(){if(this._mapEl){const e=this._mapEl.style;e.height=null===this.height?"":gz(this.height)||"500px",e.width=null===this.width?"":gz(this.width)||"500px"}}_combineOptions(){const e=this._options||{};return{...e,center:this._center||e.center||ZD.center,zoom:this._zoom??e.zoom??ZD.zoom,mapTypeId:this.mapTypeId||e.mapTypeId||ZD.mapTypeId}}_assertInitialized(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(o.Lbi))},n.\u0275cmp=o.Xpm({type:n,selectors:[["google-map"]],inputs:{height:"height",width:"width",mapTypeId:"mapTypeId",center:"center",zoom:"zoom",options:"options"},outputs:{mapInitialized:"mapInitialized",authFailure:"authFailure",boundsChanged:"boundsChanged",centerChanged:"centerChanged",mapClick:"mapClick",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",mapDragstart:"mapDragstart",headingChanged:"headingChanged",idle:"idle",maptypeidChanged:"maptypeidChanged",mapMousemove:"mapMousemove",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",projectionChanged:"projectionChanged",mapRightclick:"mapRightclick",tilesloaded:"tilesloaded",tiltChanged:"tiltChanged",zoomChanged:"zoomChanged"},exportAs:["googleMap"],features:[o.TTD],ngContentSelectors:fz,decls:2,vars:0,consts:[[1,"map-container"]],template:function(e,i){1&e&&(o.F$t(),o._UZ(0,"div",0),o.Hsn(1))},encapsulation:2,changeDetection:0}),n})();const kK=/([A-Za-z%]+)$/;function gz(n){return null==n?"":kK.test(n)?n:`${n}px`}let _z=(()=>{class n{set options(e){this._options.next(e||{})}set position(e){this._position.next(e)}constructor(e,i,r){this._googleMap=e,this._elementRef=i,this._ngZone=r,this._eventManager=new mc((0,o.f3M)(o.R0b)),this._options=new Jt.X({}),this._position=new Jt.X(void 0),this._destroy=new Ke.x,this.closeclick=this._eventManager.getLazyEmitter("closeclick"),this.contentChanged=this._eventManager.getLazyEmitter("content_changed"),this.domready=this._eventManager.getLazyEmitter("domready"),this.positionChanged=this._eventManager.getLazyEmitter("position_changed"),this.zindexChanged=this._eventManager.getLazyEmitter("zindex_changed")}ngOnInit(){this._googleMap._isBrowser&&(this._combineOptions().pipe(An(1)).subscribe(i=>{this._ngZone.runOutsideAngular(()=>{this.infoWindow=new google.maps.InfoWindow(i)}),this._eventManager.setTarget(this.infoWindow)}),this._watchForOptionsChanges(),this._watchForPositionChanges())}ngOnDestroy(){this._eventManager.destroy(),this._destroy.next(),this._destroy.complete(),this.infoWindow&&this.close()}close(){this._assertInitialized(),this.infoWindow.close()}getContent(){return this._assertInitialized(),this.infoWindow.getContent()||null}getPosition(){return this._assertInitialized(),this.infoWindow.getPosition()||null}getZIndex(){return this._assertInitialized(),this.infoWindow.getZIndex()}open(e,i){this._assertInitialized();const r=e?e.getAnchor():void 0;(this.infoWindow.get("anchor")!==r||!r)&&(this._elementRef.nativeElement.style.display="",this.infoWindow.open({map:this._googleMap.googleMap,anchor:r,shouldFocus:i}))}_combineOptions(){return A([this._options,this._position]).pipe((0,We.U)(([e,i])=>({...e,position:i||e.position,content:this._elementRef.nativeElement})))}_watchForOptionsChanges(){this._options.pipe(en(this._destroy)).subscribe(e=>{this._assertInitialized(),this.infoWindow.setOptions(e)})}_watchForPositionChanges(){this._position.pipe(en(this._destroy)).subscribe(e=>{e&&(this._assertInitialized(),this.infoWindow.setPosition(e))})}_assertInitialized(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Qs),o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,selectors:[["map-info-window"]],hostAttrs:[2,"display","none"],inputs:{options:"options",position:"position"},outputs:{closeclick:"closeclick",contentChanged:"contentChanged",domready:"domready",positionChanged:"positionChanged",zindexChanged:"zindexChanged"},exportAs:["mapInfoWindow"]}),n})();const LK={position:{lat:37.421995,lng:-122.084092}};let WT=(()=>{class n{set title(e){this._title=e}set position(e){this._position=e}set label(e){this._label=e}set clickable(e){this._clickable=e}set options(e){this._options=e}set icon(e){this._icon=e}set visible(e){this._visible=e}constructor(e,i){this._googleMap=e,this._ngZone=i,this._eventManager=new mc((0,o.f3M)(o.R0b)),this.animationChanged=this._eventManager.getLazyEmitter("animation_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.clickableChanged=this._eventManager.getLazyEmitter("clickable_changed"),this.cursorChanged=this._eventManager.getLazyEmitter("cursor_changed"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.draggableChanged=this._eventManager.getLazyEmitter("draggable_changed"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.flatChanged=this._eventManager.getLazyEmitter("flat_changed"),this.iconChanged=this._eventManager.getLazyEmitter("icon_changed"),this.mapMousedown=this._eventManager.getLazyEmitter("mousedown"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.mapMouseup=this._eventManager.getLazyEmitter("mouseup"),this.positionChanged=this._eventManager.getLazyEmitter("position_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.shapeChanged=this._eventManager.getLazyEmitter("shape_changed"),this.titleChanged=this._eventManager.getLazyEmitter("title_changed"),this.visibleChanged=this._eventManager.getLazyEmitter("visible_changed"),this.zindexChanged=this._eventManager.getLazyEmitter("zindex_changed")}ngOnInit(){this._googleMap._isBrowser&&(this._ngZone.runOutsideAngular(()=>{this.marker=new google.maps.Marker(this._combineOptions())}),this._assertInitialized(),this.marker.setMap(this._googleMap.googleMap),this._eventManager.setTarget(this.marker))}ngOnChanges(e){const{marker:i,_title:r,_position:s,_label:c,_clickable:d,_icon:p,_visible:y}=this;i&&(e.options&&i.setOptions(this._combineOptions()),e.title&&void 0!==r&&i.setTitle(r),e.position&&s&&i.setPosition(s),e.label&&void 0!==c&&i.setLabel(c),e.clickable&&void 0!==d&&i.setClickable(d),e.icon&&p&&i.setIcon(p),e.visible&&void 0!==y&&i.setVisible(y))}ngOnDestroy(){this._eventManager.destroy(),this.marker&&this.marker.setMap(null)}getAnimation(){return this._assertInitialized(),this.marker.getAnimation()||null}getClickable(){return this._assertInitialized(),this.marker.getClickable()}getCursor(){return this._assertInitialized(),this.marker.getCursor()||null}getDraggable(){return this._assertInitialized(),!!this.marker.getDraggable()}getIcon(){return this._assertInitialized(),this.marker.getIcon()||null}getLabel(){return this._assertInitialized(),this.marker.getLabel()||null}getOpacity(){return this._assertInitialized(),this.marker.getOpacity()||null}getPosition(){return this._assertInitialized(),this.marker.getPosition()||null}getShape(){return this._assertInitialized(),this.marker.getShape()||null}getTitle(){return this._assertInitialized(),this.marker.getTitle()||null}getVisible(){return this._assertInitialized(),this.marker.getVisible()}getZIndex(){return this._assertInitialized(),this.marker.getZIndex()||null}getAnchor(){return this._assertInitialized(),this.marker}_combineOptions(){const e=this._options||LK;return{...e,title:this._title||e.title,position:this._position||e.position,label:this._label||e.label,clickable:this._clickable??e.clickable,map:this._googleMap.googleMap,icon:this._icon||e.icon,visible:this._visible??e.visible}}_assertInitialized(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Qs),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,selectors:[["map-marker"]],inputs:{title:"title",position:"position",label:"label",clickable:"clickable",options:"options",icon:"icon",visible:"visible"},outputs:{animationChanged:"animationChanged",mapClick:"mapClick",clickableChanged:"clickableChanged",cursorChanged:"cursorChanged",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",draggableChanged:"draggableChanged",mapDragstart:"mapDragstart",flatChanged:"flatChanged",iconChanged:"iconChanged",mapMousedown:"mapMousedown",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",mapMouseup:"mapMouseup",positionChanged:"positionChanged",mapRightclick:"mapRightclick",shapeChanged:"shapeChanged",titleChanged:"titleChanged",visibleChanged:"visibleChanged",zindexChanged:"zindexChanged"},exportAs:["mapMarker"],features:[o.TTD]}),n})(),YK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function WK(n,t){if(1&n&&o._UZ(0,"map-marker",2),2&n){const e=t.$implicit,i=o.oxw();o.Q6J("position",e)("options",i.markerOptions)}}let yz=(()=>{class n{constructor(){Ae(this,"parentMarkerPosition",void 0),Ae(this,"center",{lat:24,lng:12}),Ae(this,"zoom",4),Ae(this,"markerOptions",{draggable:!1}),Ae(this,"markerPositions",[])}ngOnChanges(e){"parentMarkerPosition"in e&&(this.markerPositions=this.parentMarkerPosition,this.markerPositions&&(this.center=this.markerPositions[0]))}}return Ae(n,"\u0275fac",function(e){return new(e||n)}),Ae(n,"\u0275cmp",o.Xpm({type:n,selectors:[["app-map-marker"]],inputs:{parentMarkerPosition:"parentMarkerPosition"},features:[o.TTD],decls:2,vars:3,consts:[["height","200px","width","600px",3,"center","zoom"],[3,"position","options",4,"ngFor","ngForOf"],[3,"position","options"]],template:function(e,i){1&e&&(o.TgZ(0,"google-map",0),o.YNc(1,WK,1,2,"map-marker",1),o.qZA()),2&e&&(o.Q6J("center",i.center)("zoom",i.zoom),o.xp6(1),o.Q6J("ngForOf",i.markerPositions))},dependencies:[Pa,Qs,WT]})),n})(),ZK=(()=>{class n{transform(e){if(e instanceof Date)return e;if(e instanceof Vb.Z.firestore.Timestamp)return e.toDate();throw new Error("Invalid value. Expected Date or Timestamp object.")}}return Ae(n,"\u0275fac",function(e){return new(e||n)}),Ae(n,"\u0275pipe",o.Yjl({name:"timestampToDate",type:n,pure:!0})),n})();function KK(n,t){1&n&&(o.TgZ(0,"div")(1,"p"),o._uU(2,"No tasks recorded. Please add some tasks."),o.qZA()())}function QK(n,t){1&n&&(o.TgZ(0,"th",25),o._uU(1," Title "),o.qZA())}function XK(n,t){if(1&n&&(o.TgZ(0,"td",26),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Oqu(e.title)}}function JK(n,t){1&n&&(o.TgZ(0,"th",27),o._uU(1," Description "),o.qZA())}function e7(n,t){if(1&n&&(o.TgZ(0,"div"),o._uU(1),o.ALo(2,"truncate"),o.qZA()),2&n){const e=o.oxw().$implicit;o.xp6(1),o.hij(" ",o.xi3(2,1,e.description,15)," ")}}function t7(n,t){if(1&n&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&n){const e=o.oxw().$implicit;o.xp6(1),o.hij(" ",e.description," ")}}function n7(n,t){if(1&n&&(o.TgZ(0,"td",26),o.YNc(1,e7,3,4,"div",28),o.YNc(2,t7,2,1,"div",28),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("ngIf",e.description.split(" ").length>15),o.xp6(1),o.Q6J("ngIf",e.description.split(" ").length<=15)}}function i7(n,t){1&n&&(o.TgZ(0,"th",29),o._uU(1," Due Date "),o.qZA())}function r7(n,t){if(1&n&&(o.TgZ(0,"td",26),o._uU(1),o.ALo(2,"date"),o.ALo(3,"timestampToDate"),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",o.lcZ(2,1,o.lcZ(3,3,e.dueDate))," ")}}function s7(n,t){1&n&&(o.TgZ(0,"th",30),o._uU(1,"Status"),o.qZA())}function o7(n,t){if(1&n&&(o.TgZ(0,"td",26),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.completed?"Completed":"Pending"," ")}}function a7(n,t){1&n&&(o.TgZ(0,"th",30),o._uU(1,"Actions"),o.qZA())}const l7=function(n){return["/edit-task",n]};function c7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",26)(1,"button",31),o.NdJ("click",function(){const s=o.CHM(e).$implicit,c=o.oxw(2);return o.KtG(c.showMarkerPosition(s))})("click",function(){const s=o.CHM(e).$implicit,c=o.oxw(2);return o.KtG(c.handleMarkerPositionChange(s))}),o.TgZ(2,"mat-icon"),o._uU(3," add_location"),o.qZA()(),o.TgZ(4,"button",32)(5,"mat-icon"),o._uU(6,"edit"),o.qZA()(),o.TgZ(7,"button",33),o.NdJ("click",function(){const s=o.CHM(e).$implicit,c=o.oxw(2);return o.KtG(c.onDeleteTask(s.id))}),o.TgZ(8,"mat-icon"),o._uU(9,"delete"),o.qZA()()()}if(2&n){const e=t.$implicit;o.xp6(4),o.Q6J("routerLink",o.VKq(1,l7,e.id))}}function u7(n,t){1&n&&o._UZ(0,"tr",34)}function d7(n,t){1&n&&o._UZ(0,"tr",35)}function h7(n,t){if(1&n&&(o.TgZ(0,"table",12),o.ynx(1,13),o.YNc(2,QK,2,0,"th",14),o.YNc(3,XK,2,1,"td",15),o.BQk(),o.ynx(4,16),o.YNc(5,JK,2,0,"th",17),o.YNc(6,n7,3,2,"td",15),o.BQk(),o.ynx(7,18),o.YNc(8,i7,2,0,"th",19),o.YNc(9,r7,4,5,"td",15),o.BQk(),o.ynx(10,20),o.YNc(11,s7,2,0,"th",21),o.YNc(12,o7,2,1,"td",15),o.BQk(),o.ynx(13,22),o.YNc(14,a7,2,0,"th",21),o.YNc(15,c7,10,3,"td",15),o.BQk(),o.YNc(16,u7,1,0,"tr",23),o.YNc(17,d7,1,0,"tr",24),o.qZA()),2&n){const e=o.oxw();o.Q6J("dataSource",e.dataSource),o.xp6(16),o.Q6J("matHeaderRowDef",e.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",e.displayedColumns)}}let f7=(()=>{class n{constructor(e,i,r,s){Ae(this,"taskService",void 0),Ae(this,"router",void 0),Ae(this,"snackBar",void 0),Ae(this,"dialog",void 0),Ae(this,"tasks$",void 0),Ae(this,"dataSource",new bW),Ae(this,"parentMarkerPosition",[]),Ae(this,"displayedColumns",["title","description","dueDate","status","actions"]),Ae(this,"taskStatuses",["Completed","Pending"]),Ae(this,"sort",void 0),this.taskService=e,this.router=i,this.snackBar=r,this.dialog=s}ngOnInit(){this.tasks$=this.taskService.getTasks(),this.tasks$.subscribe(e=>{e.forEach(i=>{i.markerPosition&&this.parentMarkerPosition.push(i.markerPosition)}),this.dataSource.data=e,this.dataSource.sort=this.sort})}applyFilter(e){this.dataSource.filter="all"===e?"":e?"true":"false"}handleMarkerPositionChange(e){this.parentMarkerPosition=[e.markerPosition]}showMarkerPosition(e){e.markerPosition&&null!=e.markerPosition.lat&&null!=e.markerPosition.lng||this.snackBar.open("Location is not available for this task","Close",{duration:3e3,panelClass:["error-snackbar"]})}onDeleteTask(e){this.taskService.deleteTask(e).subscribe(()=>{this.snackBar.open("Task deleted successfully","Close",{duration:5e3,panelClass:["error-snackbar"]})},i=>{this.snackBar.open(i.message,"Close",{duration:5e3,panelClass:["error-snackbar"]})})}}return Ae(n,"\u0275fac",function(e){return new(e||n)(o.Y36(m1),o.Y36(Yi),o.Y36(kD),o.Y36(AU))}),Ae(n,"\u0275cmp",o.Xpm({type:n,selectors:[["app-task-list"]],viewQuery:function(e,i){if(1&e&&o.Gf(G5,5),2&e){let r;o.iGM(r=o.CRH())&&(i.sort=r.first)}},features:[o._Bn([yU])],decls:28,vars:6,consts:[[1,"task-card"],["appearance","fill"],[3,"selectionChange"],[3,"value"],[1,"button-group"],["mat-raised-button","","color","primary","routerLink","/add-task"],[1,"table-container"],[1,"map-position"],[1,"title"],[3,"parentMarkerPosition"],[4,"ngIf","ngIfElse"],["tableData",""],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","title"],["mat-header-cell","","mat-sort-header","title",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","description"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","dueDate"],["mat-header-cell","","mat-sort-header","dueDate",4,"matHeaderCellDef"],["matColumnDef","status"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header","title"],["mat-cell",""],["mat-header-cell","","mat-sort-header",""],[4,"ngIf"],["mat-header-cell","","mat-sort-header","dueDate"],["mat-header-cell",""],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary",3,"routerLink"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,i){if(1&e&&(o.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),o._uU(3,"Task Dashboard"),o.qZA(),o.TgZ(4,"mat-form-field",1)(5,"mat-label"),o._uU(6,"Filter Status"),o.qZA(),o.TgZ(7,"mat-select",2),o.NdJ("selectionChange",function(s){return i.applyFilter(s.value)}),o.TgZ(8,"mat-option",3),o._uU(9,"All"),o.qZA(),o.TgZ(10,"mat-option",3),o._uU(11,"Completed"),o.qZA(),o.TgZ(12,"mat-option",3),o._uU(13,"Pending"),o.qZA()()(),o.TgZ(14,"div",4)(15,"button",5),o._uU(16," Add Task "),o.qZA()()(),o._UZ(17,"br"),o.TgZ(18,"mat-card-content")(19,"div",6)(20,"div",7)(21,"span",8),o._uU(22,"Task Locations Mapped: Track Progress"),o.qZA(),o._UZ(23,"app-map-marker",9),o.qZA(),o._UZ(24,"br"),o.YNc(25,KK,3,0,"div",10),o.YNc(26,h7,18,3,"ng-template",null,11,o.W1O),o.qZA()()()),2&e){const r=o.MAs(27);o.xp6(8),o.Q6J("value","all"),o.xp6(2),o.Q6J("value",!0),o.xp6(2),o.Q6J("value",!1),o.xp6(11),o.Q6J("parentMarkerPosition",i.parentMarkerPosition),o.xp6(2),o.Q6J("ngIf",0===i.dataSource.data.length)("ngIfElse",r)}},dependencies:[Oi,ET,AT,IT,ST,Xb,PD,Lu,HP,_8,hz,VP,fU,d1,pU,h1,u1,mU,f1,p1,gU,_U,tg,yz,Gn,ZK,yU],styles:[".task-card[_ngcontent-%COMP%]{width:800px;margin:20px auto;padding:20px}.task-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;background-color:#007bff;color:#fff;padding:12px}.task-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:120px;margin-left:10px}.task-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:20px}.task-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]{overflow-x:auto}.task-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .map-position[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.task-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;font-size:16px;color:#666}.task-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.task-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .task-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;text-align:left}.task-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.task-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f2f2f2}.task-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ddd}.task-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:30px;padding:0}"]})),n})(),p7=(()=>{class n{constructor(e){Ae(this,"authService",void 0),this.authService=e}ngOnInit(){}}return Ae(n,"\u0275fac",function(e){return new(e||n)(o.Y36(Wb))}),Ae(n,"\u0275cmp",o.Xpm({type:n,selectors:[["app-dashboard"]],decls:8,vars:0,consts:[[1,"dashboard-container"],[1,"header"],[1,"logout-button",3,"click"],[1,"content"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1"),o._uU(3,"Task Management App"),o.qZA(),o.TgZ(4,"button",2),o.NdJ("click",function(){return i.authService.signOut()}),o._uU(5,"Logout"),o.qZA()(),o.TgZ(6,"div",3),o._UZ(7,"app-task-list"),o.qZA()())},dependencies:[f7],styles:[".header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;background-color:#007bff;color:#fff;border-top-left-radius:8px;border-top-right-radius:8px;position:fixed;top:0;left:0;right:0;z-index:1}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:1px solid #ffffff;border-radius:4px}.content[_ngcontent-%COMP%]{overflow-x:auto;padding:80px 20px 20px}"]})),n})();const vz=Fp({passive:!0});let m7=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return vn.E;const i=Bp(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new Ke.x,c="cdk-text-field-autofilled",d=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(c)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(c)&&(i.classList.remove(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!1}))):(i.classList.add(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",d,vz),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",d,vz)}}),s}stopMonitoring(e){const i=Bp(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(lr),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),g7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const bz=new o.OlP("MAT_INPUT_VALUE_ACCESSOR"),_7=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let y7=0;const v7=y2(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new Ke.x}});let KD=(()=>{class n extends v7{get disabled(){return this._disabled}set disabled(e){this._disabled=gn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(ur.required)??!1}set required(e){this._required=gn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&WV().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=gn(e)}constructor(e,i,r,s,c,d,p,y,w,E){super(d,s,c,r),this._elementRef=e,this._platform=i,this._autofillMonitor=y,this._formField=E,this._uid="mat-input-"+y7++,this.focused=!1,this.stateChanges=new Ke.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(B=>WV().has(B)),this._iOSKeyupListener=B=>{const $=B.target;!$.value&&0===$.selectionStart&&0===$.selectionEnd&&($.setSelectionRange(1,1),$.setSelectionRange(0,0))};const T=this._elementRef.nativeElement,F=T.nodeName.toLowerCase();this._inputValueAccessor=p||T,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&w.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===F,this._isTextarea="textarea"===F,this._isInFormField=!!E,this._isNativeSelect&&(this.controlType=T.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){_7.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(lr),o.Y36(Bu,10),o.Y36(tw,8),o.Y36(Vu,8),o.Y36(v2),o.Y36(bz,10),o.Y36(m7),o.Y36(o.R0b),o.Y36(TT,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(e,i){1&e&&o.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(o.Ikx("id",i.id)("disabled",i.disabled)("required",i.required),o.uIk("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),o.ekj("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[o._Bn([{provide:v1,useExisting:n}]),o.qOj,o.TTD]}),n})(),b7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Ii,kT,kT,g7,Ii]}),n})();function w7(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Please enter a valid email. "),o.qZA())}let C7=(()=>{class n{constructor(e,i,r){Ae(this,"formBuilder",void 0),Ae(this,"authService",void 0),Ae(this,"router",void 0),Ae(this,"forgotForm",void 0),this.formBuilder=e,this.authService=i,this.router=r,this.forgotForm=this.formBuilder.group({email:["",[ur.required,ur.email]]})}onSubmit(){this.forgotForm.valid&&this.authService.forgotPassword(this.forgotForm.value.email)}onSignInClick(){this.router.navigate(["sign-in"])}}return Ae(n,"\u0275fac",function(e){return new(e||n)(o.Y36(WD),o.Y36(Wb),o.Y36(Yi))}),Ae(n,"\u0275cmp",o.Xpm({type:n,selectors:[["app-forgot-password"]],decls:15,vars:2,consts:[[3,"formGroup","ngSubmit"],[1,"text-center"],["matInput","","type","email","placeholder","Email","formControlName","email"],[4,"ngIf"],["mat-raised-button","","color","primary","type","submit"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"form",0),o.NdJ("ngSubmit",function(){return i.onSubmit()}),o.TgZ(1,"h2"),o._uU(2,"Forgot Password"),o.qZA(),o.TgZ(3,"p",1),o._uU(4,"Please enter your email address to request a password reset"),o.qZA(),o.TgZ(5,"mat-form-field"),o._UZ(6,"input",2),o.YNc(7,w7,2,0,"mat-error",3),o.qZA(),o.TgZ(8,"button",4),o._uU(9,"Reset Password"),o.qZA(),o._UZ(10,"br"),o.TgZ(11,"div"),o._uU(12,"Go back to?"),o.qZA(),o.TgZ(13,"a",5),o.NdJ("click",function(){return i.onSignInClick()}),o._uU(14," Log In"),o.qZA()()),2&e&&(o.Q6J("formGroup",i.forgotForm),o.xp6(7),o.Q6J("ngIf",i.forgotForm.controls.email.invalid&&i.forgotForm.controls.email.touched))},dependencies:[Oi,N_,zp,Jb,F_,Vu,L_,KD,Xb,ND,iT,Lu],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:auto;max-width:300px;padding:20px;border:1px solid #ccc;border-radius:8px;box-shadow:0 4px 8px #0000001a}a[_ngcontent-%COMP%]{color:#007bff;cursor:pointer;text-decoration:underline}"]})),n})();function x7(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Please enter a valid email. "),o.qZA())}function D7(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Please enter a password. "),o.qZA())}let E7=(()=>{class n{constructor(e,i,r){Ae(this,"formBuilder",void 0),Ae(this,"authService",void 0),Ae(this,"router",void 0),Ae(this,"loginForm",void 0),this.formBuilder=e,this.authService=i,this.router=r,this.loginForm=this.formBuilder.group({email:["",[ur.required,ur.email]],password:["",[ur.required]]})}onSubmit(){this.loginForm.valid&&this.authService.signIn(this.loginForm.value.email,this.loginForm.value.password)}forgotPassword(){this.router.navigate(["forgot-password"])}onSignUpClick(){this.router.navigate(["register-user"])}}return Ae(n,"\u0275fac",function(e){return new(e||n)(o.Y36(WD),o.Y36(Wb),o.Y36(Yi))}),Ae(n,"\u0275cmp",o.Xpm({type:n,selectors:[["app-sign-in"]],decls:18,vars:3,consts:[[3,"formGroup","ngSubmit"],["matInput","","type","email","placeholder","Email","formControlName","email"],[4,"ngIf"],["matInput","","type","password","placeholder","Password","formControlName","password"],["mat-raised-button","","color","primary","type","submit"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"form",0),o.NdJ("ngSubmit",function(){return i.onSubmit()}),o.TgZ(1,"h2"),o._uU(2,"Sign In"),o.qZA(),o.TgZ(3,"mat-form-field"),o._UZ(4,"input",1),o.YNc(5,x7,2,0,"mat-error",2),o.qZA(),o.TgZ(6,"mat-form-field"),o._UZ(7,"input",3),o.YNc(8,D7,2,0,"mat-error",2),o.qZA(),o.TgZ(9,"button",4),o._uU(10,"Sign In"),o.qZA(),o._UZ(11,"br"),o.TgZ(12,"a",5),o.NdJ("click",function(){return i.forgotPassword()}),o._uU(13,"Forgot Password?"),o.qZA(),o.TgZ(14,"div"),o._uU(15,"Don't have an account?"),o.qZA(),o.TgZ(16,"a",5),o.NdJ("click",function(){return i.onSignUpClick()}),o._uU(17,"Register User"),o.qZA()()),2&e&&(o.Q6J("formGroup",i.loginForm),o.xp6(5),o.Q6J("ngIf",i.loginForm.controls.email.invalid&&i.loginForm.controls.email.touched),o.xp6(3),o.Q6J("ngIf",i.loginForm.controls.password.invalid&&i.loginForm.controls.password.touched))},dependencies:[Oi,N_,zp,Jb,F_,Vu,L_,KD,Xb,ND,iT,Lu],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:auto;max-width:300px;min-width:300px;padding:20px;border:1px solid #ccc;border-radius:8px;box-shadow:0 4px 8px #0000001a}a[_ngcontent-%COMP%]{color:#007bff;cursor:pointer;text-decoration:underline}"]})),n})();function S7(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Please enter a valid email. "),o.qZA())}function A7(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Please enter a password. "),o.qZA())}let I7=(()=>{class n{constructor(e,i,r){Ae(this,"formBuilder",void 0),Ae(this,"authService",void 0),Ae(this,"router",void 0),Ae(this,"signUpForm",void 0),this.formBuilder=e,this.authService=i,this.router=r,this.signUpForm=this.formBuilder.group({email:["",[ur.required,ur.email]],password:["",[ur.required]]})}onSubmit(){this.signUpForm.valid&&this.authService.signUp(this.signUpForm.value.email,this.signUpForm.value.password)}onSignInClick(){this.router.navigate(["sign-in"])}}return Ae(n,"\u0275fac",function(e){return new(e||n)(o.Y36(WD),o.Y36(Wb),o.Y36(Yi))}),Ae(n,"\u0275cmp",o.Xpm({type:n,selectors:[["app-sign-up"]],decls:16,vars:3,consts:[[3,"formGroup","ngSubmit"],["matInput","","type","email","placeholder","Email","formControlName","email"],[4,"ngIf"],["matInput","","type","password","placeholder","Password","formControlName","password"],["mat-raised-button","","color","primary","type","submit"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"form",0),o.NdJ("ngSubmit",function(){return i.onSubmit()}),o.TgZ(1,"h2"),o._uU(2,"Sign Up"),o.qZA(),o.TgZ(3,"mat-form-field"),o._UZ(4,"input",1),o.YNc(5,S7,2,0,"mat-error",2),o.qZA(),o.TgZ(6,"mat-form-field"),o._UZ(7,"input",3),o.YNc(8,A7,2,0,"mat-error",2),o.qZA(),o.TgZ(9,"button",4),o._uU(10,"Sign Up"),o.qZA(),o._UZ(11,"br"),o.TgZ(12,"div"),o._uU(13,"Already have an account?"),o.qZA(),o.TgZ(14,"a",5),o.NdJ("click",function(){return i.onSignInClick()}),o._uU(15,"Login In"),o.qZA()()),2&e&&(o.Q6J("formGroup",i.signUpForm),o.xp6(5),o.Q6J("ngIf",i.signUpForm.controls.email.invalid&&i.signUpForm.controls.email.touched),o.xp6(3),o.Q6J("ngIf",i.signUpForm.controls.password.invalid&&i.signUpForm.controls.password.touched))},dependencies:[Oi,N_,zp,Jb,F_,Vu,L_,KD,Xb,ND,iT,Lu],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:auto;max-width:300px;min-width:300px;padding:20px;border:1px solid #ccc;border-radius:8px;box-shadow:0 4px 8px #0000001a}a[_ngcontent-%COMP%]{color:#007bff;cursor:pointer;text-decoration:underline}"]})),n})();function M7(n,t){if(1&n&&(o.TgZ(0,"div")(1,"p",3),o._uU(2,"We have sent a confirmation email to "),o.TgZ(3,"strong"),o._uU(4),o.qZA(),o._uU(5,"."),o.qZA(),o.TgZ(6,"p",3),o._uU(7,"Please check your email and click on the link to verify your email address."),o.qZA()()),2&n){const e=t.ngIf;o.xp6(4),o.Oqu(e.email)}}let T7=(()=>{class n{constructor(e,i){Ae(this,"authService",void 0),Ae(this,"router",void 0),this.authService=e,this.router=i}ngOnInit(){}sendVerificationMail(){this.authService.sendVerificationMail()}onSignInClick(){this.router.navigate(["sign-in"])}}return Ae(n,"\u0275fac",function(e){return new(e||n)(o.Y36(Wb),o.Y36(Yi))}),Ae(n,"\u0275cmp",o.Xpm({type:n,selectors:[["app-verify-email"]],decls:11,vars:1,consts:[[4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["mat-button","",3,"click"],[1,"text-center"]],template:function(e,i){1&e&&(o.TgZ(0,"form")(1,"h2"),o._uU(2,"Thank You for Registering"),o.qZA(),o.YNc(3,M7,8,1,"div",0),o.TgZ(4,"button",1),o.NdJ("click",function(){return i.sendVerificationMail()}),o._uU(5,"Resend Verification Email"),o.qZA(),o._UZ(6,"br"),o.TgZ(7,"div"),o._uU(8,"Go back to?"),o.qZA(),o.TgZ(9,"a",2),o.NdJ("click",function(){return i.onSignInClick()}),o._uU(10," Sign In"),o.qZA()()),2&e&&(o.xp6(3),o.Q6J("ngIf",i.authService.userData))},dependencies:[Oi,N_,F_,tw,iT,Lu],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:auto;max-width:300px;padding:20px;border:1px solid #ccc;border-radius:8px;box-shadow:0 4px 8px #0000001a}a[_ngcontent-%COMP%]{color:#007bff;cursor:pointer;text-decoration:underline}"]})),n})(),k7=(()=>{class n{constructor(e,i){Ae(this,"authService",void 0),Ae(this,"router",void 0),this.authService=e,this.router=i}canActivate(e,i){return!0!==this.authService.isLoggedIn&&this.router.navigate(["sign-in"]),!0}}return Ae(n,"\u0275fac",function(e){return new(e||n)(o.LFG(Wb),o.LFG(Yi))}),Ae(n,"\u0275prov",o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})),n})();const wz={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let ZT;const R7=new Uint8Array(16);function O7(){if(!ZT&&(ZT=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ZT))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ZT(R7)}const Ms=[];for(let n=0;n<256;++n)Ms.push((n+256).toString(16).slice(1));const P7=function F7(n,t,e){if(wz.randomUUID&&!t&&!n)return wz.randomUUID();const i=(n=n||{}).random||(n.rng||O7)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){e=e||0;for(let r=0;r<16;++r)t[e+r]=i[r];return t}return function Cz(n,t=0){return(Ms[n[t+0]]+Ms[n[t+1]]+Ms[n[t+2]]+Ms[n[t+3]]+"-"+Ms[n[t+4]]+Ms[n[t+5]]+"-"+Ms[n[t+6]]+Ms[n[t+7]]+"-"+Ms[n[t+8]]+Ms[n[t+9]]+"-"+Ms[n[t+10]]+Ms[n[t+11]]+Ms[n[t+12]]+Ms[n[t+13]]+Ms[n[t+14]]+Ms[n[t+15]]).toLowerCase()}(i)},N7=["mat-calendar-body",""];function L7(n,t){if(1&n&&(o.TgZ(0,"tr",3)(1,"td",4),o._uU(2),o.qZA()()),2&n){const e=o.oxw();o.xp6(1),o.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),o.uIk("colspan",e.numCols),o.xp6(1),o.hij(" ",e.label," ")}}function B7(n,t){if(1&n&&(o.TgZ(0,"td",4),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),o.uIk("colspan",e._firstRowOffset),o.xp6(1),o.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function V7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",8)(1,"button",9),o.NdJ("click",function(r){const c=o.CHM(e).$implicit,d=o.oxw(2);return o.KtG(d._cellClicked(c,r))})("focus",function(r){const c=o.CHM(e).$implicit,d=o.oxw(2);return o.KtG(d._emitActiveDateChange(c,r))}),o.TgZ(2,"span",10),o._uU(3),o.qZA(),o._UZ(4,"span",11),o.qZA()()}if(2&n){const e=t.$implicit,i=t.index,r=o.oxw().index,s=o.oxw();o.Udp("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),o.uIk("data-mat-row",r)("data-mat-col",i),o.xp6(1),o.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",s._isActiveCell(r,i))("mat-calendar-body-range-start",s._isRangeStart(e.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",s._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",s._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",s._isInPreview(e.compareValue)),o.Q6J("ngClass",e.cssClasses)("tabindex",s._isActiveCell(r,i)?0:-1),o.uIk("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",s._isSelected(e.compareValue))("aria-current",s.todayValue===e.compareValue?"date":null)("aria-describedby",s._getDescribedby(e.compareValue)),o.xp6(1),o.ekj("mat-calendar-body-selected",s._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",s.todayValue===e.compareValue),o.xp6(1),o.hij(" ",e.displayValue," ")}}function U7(n,t){if(1&n&&(o.TgZ(0,"tr",5),o.YNc(1,B7,2,6,"td",6),o.YNc(2,V7,5,48,"td",7),o.qZA()),2&n){const e=t.$implicit,i=t.index,r=o.oxw();o.xp6(1),o.Q6J("ngIf",0===i&&r._firstRowOffset),o.xp6(1),o.Q6J("ngForOf",e)}}function H7(n,t){if(1&n&&(o.TgZ(0,"th",5)(1,"span",6),o._uU(2),o.qZA(),o.TgZ(3,"span",7),o._uU(4),o.qZA()()),2&n){const e=t.$implicit;o.xp6(2),o.Oqu(e.long),o.xp6(2),o.Oqu(e.narrow)}}const z7=["*"];function G7(n,t){}function j7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-month-view",5),o.NdJ("activeDateChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.activeDate=r)})("_userSelection",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._dateSelected(r))})("dragStarted",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._dragStarted(r))})("dragEnded",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._dragEnded(r))}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function $7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-year-view",6),o.NdJ("activeDateChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.activeDate=r)})("monthSelected",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._monthSelectedInYearView(r))})("selectedChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._goToDateInView(r,"month"))}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function q7(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-multi-year-view",7),o.NdJ("activeDateChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.activeDate=r)})("yearSelected",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._yearSelectedInMultiYearView(r))})("selectedChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._goToDateInView(r,"year"))}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function Y7(n,t){}const W7=["button"];function Z7(n,t){1&n&&(o.O4$(),o.TgZ(0,"svg",3),o._UZ(1,"path",4),o.qZA())}const K7=[[["","matDatepickerToggleIcon",""]]],Q7=["[matDatepickerToggleIcon]"];let QD=(()=>{class n{constructor(){this.changes=new Ke.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class G1{constructor(t,e,i,r,s={},c=t,d){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=s,this.compareValue=c,this.rawValue=d}}let X7=1;const xz=Fp({passive:!1,capture:!0}),$p=Fp({passive:!0,capture:!0}),KT=Fp({passive:!0});let nw=(()=>{class n{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(e,i){this._elementRef=e,this._ngZone=i,this._platform=(0,o.f3M)(lr),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new o.vpe,this.previewChange=new o.vpe,this.activeDateChange=new o.vpe,this.dragStarted=new o.vpe,this.dragEnded=new o.vpe,this._didDragSinceMouseDown=!1,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const s=this._getCellFromElement(r.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:r}))}},this._touchmoveHandler=r=>{if(!this.isRange)return;const s=Dz(r),c=s?this._getCellFromElement(s):null;s!==r.target&&(this._didDragSinceMouseDown=!0),$1(r.target)&&r.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:c?.enabled?c:null,event:r}))},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&("blur"!==r.type&&(this._didDragSinceMouseDown=!0),r.target&&this._getCellFromElement(r.target)&&(!r.relatedTarget||!this._getCellFromElement(r.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r})))},this._mousedownHandler=r=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const s=r.target&&this._getCellFromElement(r.target);!s||!this._isInRange(s.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:s.rawValue,event:r})})},this._mouseupHandler=r=>{if(!this.isRange)return;const s=$1(r.target);s?s.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const c=this._getCellFromElement(s);this.dragEnded.emit({value:c?.rawValue??null,event:r})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:r})})},this._touchendHandler=r=>{const s=Dz(r);s&&this._mouseupHandler({target:s})},this._id="mat-calendar-body-"+X7++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,i.runOutsideAngular(()=>{const r=e.nativeElement;r.addEventListener("touchmove",this._touchmoveHandler,xz),r.addEventListener("mouseenter",this._enterHandler,$p),r.addEventListener("focus",this._enterHandler,$p),r.addEventListener("mouseleave",this._leaveHandler,$p),r.addEventListener("blur",this._leaveHandler,$p),r.addEventListener("mousedown",this._mousedownHandler,KT),r.addEventListener("touchstart",this._mousedownHandler,KT),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(e,i){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:r,numCols:s}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?s-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/s+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/s+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("touchmove",this._touchmoveHandler,xz),e.removeEventListener("mouseenter",this._enterHandler,$p),e.removeEventListener("focus",this._enterHandler,$p),e.removeEventListener("mouseleave",this._leaveHandler,$p),e.removeEventListener("blur",this._leaveHandler,$p),e.removeEventListener("mousedown",this._mousedownHandler,KT),e.removeEventListener("touchstart",this._mousedownHandler,KT),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(An(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return q1(e,this.startValue,this.endValue)}_isRangeEnd(e){return Y1(e,this.startValue,this.endValue)}_isInRange(e){return W1(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return q1(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let s=this.rows[i][r-1];if(!s){const c=this.rows[i-1];s=c&&c[c.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let s=this.rows[i][r+1];if(!s){const c=this.rows[i+1];s=c&&c[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(e){return Y1(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return W1(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return q1(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return Y1(e,this.previewStart,this.previewEnd)}_isInPreview(e){return W1(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){return this.isRange?this.startValue===e&&this.endValue===e?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===e?this._startDateLabelId:this.endValue===e?this._endDateLabelId:null:null}_getCellFromElement(e){const i=$1(e);if(i){const r=i.getAttribute("data-mat-row"),s=i.getAttribute("data-mat-col");if(r&&s)return this.rows[parseInt(r)][parseInt(s)]}return null}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[o.TTD],attrs:N7,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,i){1&e&&(o.YNc(0,L7,3,6,"tr",0),o.YNc(1,U7,3,2,"tr",1),o.TgZ(2,"label",2),o._uU(3),o.qZA(),o.TgZ(4,"label",2),o._uU(5),o.qZA()),2&e&&(o.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),o.xp6(1),o.Q6J("ngForOf",i.rows),o.xp6(1),o.Q6J("id",i._startDateLabelId),o.xp6(1),o.hij(" ",i.startDateAccessibleName,"\n"),o.xp6(1),o.Q6J("id",i._endDateLabelId),o.xp6(1),o.hij(" ",i.endDateAccessibleName,"\n"))},dependencies:[Ri,Pa,Oi],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),n})();function j1(n){return"TD"===n?.nodeName}function $1(n){let t;return j1(n)?t=n:j1(n.parentNode)?t=n.parentNode:j1(n.parentNode?.parentNode)&&(t=n.parentNode.parentNode),null!=t?.getAttribute("data-mat-row")?t:null}function q1(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function Y1(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function W1(n,t,e,i){return i&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}function Dz(n){const t=n.changedTouches[0];return document.elementFromPoint(t.clientX,t.clientY)}class Ao{constructor(t,e){this.start=t,this.end=e}}let qp=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new Ke.x,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),J7=(()=>{class n extends qp{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(As))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Ez={provide:qp,deps:[[new o.FiY,new o.tp0,qp],As],useFactory:function t9(n,t){return n||new J7(t)}},QT=new o.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let Sz=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Ao?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,r,s,c){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rangeStrategy=c,this._rerenderSubscription=Ln.w0.EMPTY,this.activeDrag=null,this.selectedChange=new o.vpe,this._userSelection=new o.vpe,this.dragStarted=new o.vpe,this.dragEnded=new o.vpe,this.activeDateChange=new o.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Us(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,r=this._getDateFromDayOfMonth(i);let s,c;this._selected instanceof Ao?(s=this._getDateInCurrentMonth(this._selected.start),c=this._getDateInCurrentMonth(this._selected.end)):s=c=this._getDateInCurrentMonth(this._selected),(s!==i||c!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!xa(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const r=i?i.rawValue:null,s=this._rangeStrategy.createPreview(r,this.selected,e);if(this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this.activeDrag&&r){const c=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,r,e);c&&(this._previewStart=this._getCellCompareValue(c.start),this._previewEnd=this._getCellCompareValue(c.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(e){if(this.activeDrag)if(e.value){const i=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:i??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((c,d)=>({long:c,narrow:i[d]}));this._weekdays=s.slice(e).concat(s.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,s=this._firstWeekOffset;r<e;r++,s++){7==s&&(this._weeks.push([]),s=0);const c=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),d=this._shouldEnableDate(c),p=this._dateAdapter.format(c,this._dateFormats.display.dateA11yLabel),y=this.dateClass?this.dateClass(c,"month"):void 0;this._weeks[this._weeks.length-1].push(new G1(r+1,i[r],p,d,y,this._getCellCompareValue(c),c))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),s=this._dateAdapter.getDate(e);return new Date(i,r,s).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof Ao?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart=this._previewEnd=null}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(A_,8),o.Y36(As,8),o.Y36(Da,8),o.Y36(QT,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(e,i){if(1&e&&o.Gf(nw,5),2&e){let r;o.iGM(r=o.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[o.TTD],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(e,i){1&e&&(o.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),o.YNc(3,H7,5,2,"th",2),o.qZA(),o.TgZ(4,"tr"),o._UZ(5,"th",3),o.qZA()(),o.TgZ(6,"tbody",4),o.NdJ("selectedValueChange",function(s){return i._dateSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("previewChange",function(s){return i._previewChanged(s)})("dragStarted",function(s){return i.dragStarted.emit(s)})("dragEnded",function(s){return i._dragEnded(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),o.qZA()()),2&e&&(o.xp6(3),o.Q6J("ngForOf",i._weekdays),o.xp6(3),o.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1)("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName))},dependencies:[Pa,nw],encapsulation:2,changeDetection:0}),n})();const Sa=24;let Az=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),Iz(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Ao?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,r){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=Ln.w0.EMPTY,this.selectedChange=new o.vpe,this.yearSelected=new o.vpe,this.activeDateChange=new o.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Us(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-XD(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,s=[];r<Sa;r++)s.push(i+r),4==s.length&&(this._years.push(s.map(c=>this._createCellForYear(c))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value,r=this._dateAdapter.createDate(i,0,1),s=this._getDateFromYear(i);this.yearSelected.emit(r),this.selectedChange.emit(s)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-XD(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Sa-XD(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10*-Sa:-Sa);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10*Sa:Sa);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return XD(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),s=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new G1(e,r,r,this._shouldEnableYear(e),s)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Ao){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(As,8),o.Y36(Da,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(e,i){if(1&e&&o.Gf(nw,5),2&e){let r;o.iGM(r=o.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(o.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),o._UZ(3,"th",2),o.qZA()(),o.TgZ(4,"tbody",3),o.NdJ("selectedValueChange",function(s){return i._yearSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),o.qZA()()),2&e&&(o.xp6(4),o.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[nw],encapsulation:2,changeDetection:0}),n})();function Iz(n,t,e,i,r){const s=n.getYear(t),c=n.getYear(e),d=Mz(n,i,r);return Math.floor((s-d)/Sa)===Math.floor((c-d)/Sa)}function XD(n,t,e,i){return function s9(n,t){return(n%t+t)%t}(n.getYear(t)-Mz(n,e,i),Sa)}function Mz(n,t,e){let i=0;return e?i=n.getYear(e)-Sa+1:t&&(i=n.getYear(t)),i}let Tz=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Ao?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,r,s){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rerenderSubscription=Ln.w0.EMPTY,this.selectedChange=new o.vpe,this.monthSelected=new o.vpe,this.activeDateChange=new o.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Us(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const s=this._getDateFromMonth(i);this.selectedChange.emit(s)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),s=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),c=this.dateClass?this.dateClass(r,"year"):void 0;return new G1(e,i.toLocaleUpperCase(),s,this._shouldEnableMonth(e),c)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(s)==e;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>s}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<s}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof Ao?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(A_,8),o.Y36(As,8),o.Y36(Da,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(e,i){if(1&e&&o.Gf(nw,5),2&e){let r;o.iGM(r=o.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(o.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),o._UZ(3,"th",2),o.qZA()(),o.TgZ(4,"tbody",3),o.NdJ("selectedValueChange",function(s){return i._monthSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),o.qZA()()),2&e&&(o.xp6(4),o.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[nw],encapsulation:2,changeDetection:0}),n})(),o9=1,a9=(()=>{class n{constructor(e,i,r,s,c){this._intl=e,this.calendar=i,this._dateAdapter=r,this._dateFormats=s,this._id="mat-calendar-header-"+o9++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>c.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-Sa)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:Sa)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):Iz(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const i=this._dateAdapter.getYear(this.calendar.activeDate)-XD(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+Sa-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1))]}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(QD),o.Y36((0,o.Gpc)(()=>Q1)),o.Y36(As,8),o.Y36(A_,8),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:z7,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0)(1,"div",1)(2,"button",2),o.NdJ("click",function(){return i.currentPeriodClicked()}),o.TgZ(3,"span",3),o._uU(4),o.qZA(),o.O4$(),o.TgZ(5,"svg",4),o._UZ(6,"polygon",5),o.qZA()(),o.kcU(),o._UZ(7,"div",6),o.Hsn(8),o.TgZ(9,"button",7),o.NdJ("click",function(){return i.previousClicked()}),o.qZA(),o.TgZ(10,"button",8),o.NdJ("click",function(){return i.nextClicked()}),o.qZA()()(),o.TgZ(11,"label",9),o._uU(12),o.qZA()),2&e&&(o.xp6(2),o.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._periodButtonLabelId),o.xp6(2),o.Oqu(i.periodButtonText),o.xp6(1),o.ekj("mat-calendar-invert","month"!==i.calendar.currentView),o.xp6(4),o.Q6J("disabled",!i.previousEnabled()),o.uIk("aria-label",i.prevButtonLabel),o.xp6(1),o.Q6J("disabled",!i.nextEnabled()),o.uIk("aria-label",i.nextButtonLabel),o.xp6(1),o.Q6J("id",i._periodButtonLabelId),o.xp6(1),o.Oqu(i.periodButtonDescription))},dependencies:[Lu,HP],encapsulation:2,changeDetection:0}),n})(),Q1=(()=>{class n{get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof Ao?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}constructor(e,i,r,s){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new o.vpe,this.yearSelected=new o.vpe,this.monthSelected=new o.vpe,this.viewChanged=new o.vpe(!0),this._userSelection=new o.vpe,this._userDragDrop=new o.vpe,this._activeDrag=null,this.stateChanges=new Ke.x,this._intlChanges=e.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new I_(this.headerComponent||a9),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,s=i||r||e.dateFilter;if(s&&!s.firstChange){const c=this._getCurrentViewComponent();c&&(this._changeDetectorRef.detectChanges(),c._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof Ao||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(QD),o.Y36(As,8),o.Y36(A_,8),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(e,i){if(1&e&&(o.Gf(Sz,5),o.Gf(Tz,5),o.Gf(Az,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.monthView=r.first),o.iGM(r=o.CRH())&&(i.yearView=r.first),o.iGM(r=o.CRH())&&(i.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[o._Bn([Ez]),o.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,i){1&e&&(o.YNc(0,G7,0,0,"ng-template",0),o.TgZ(1,"div",1),o.YNc(2,j7,1,11,"mat-month-view",2),o.YNc(3,$7,1,6,"mat-year-view",3),o.YNc(4,q7,1,6,"mat-multi-year-view",4),o.qZA()),2&e&&(o.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),o.xp6(1),o.Q6J("ngSwitch",i.currentView),o.xp6(1),o.Q6J("ngSwitchCase","month"),o.xp6(1),o.Q6J("ngSwitchCase","year"),o.xp6(1),o.Q6J("ngSwitchCase","multi-year"))},dependencies:[io,Dl,qY,M_,Sz,Tz,Az],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0}),n})();const kz={transformPanel:Ea("transformPanel",[cr("void => enter-dropdown",Mr("120ms cubic-bezier(0, 0, 0.2, 1)",qb([on({opacity:0,transform:"scale(1, 0.8)"}),on({opacity:1,transform:"scale(1, 1)"})]))),cr("void => enter-dialog",Mr("150ms cubic-bezier(0, 0, 0.2, 1)",qb([on({opacity:0,transform:"scale(0.7)"}),on({transform:"none",opacity:1})]))),cr("* => void",Mr("100ms linear",on({opacity:0})))]),fadeInCalendar:Ea("fadeInCalendar",[Tr("void",on({opacity:0})),Tr("enter",on({opacity:1})),cr("void => *",Mr("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let l9=0;const Rz=new o.OlP("mat-datepicker-scroll-strategy"),u9={provide:Rz,deps:[fl],useFactory:function c9(n){return()=>n.scrollStrategies.reposition()}},d9=LP(class{constructor(n){this._elementRef=n}});let h9=(()=>{class n extends d9{constructor(e,i,r,s,c,d){super(e),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=s,this._rangeSelectionStrategy=c,this._subscriptions=new Ln.w0,this._animationDone=new Ke.x,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=d.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,r=e.value,s=i instanceof Ao;if(s&&this._rangeSelectionStrategy){const c=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(c,this)}else r&&(s||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(e){this._isAnimating="start"===e.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,i){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,i&&this._changeDetectorRef.detectChanges()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(qp),o.Y36(As),o.Y36(QT,8),o.Y36(QD))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(e,i){if(1&e&&o.Gf(Q1,5),2&e){let r;o.iGM(r=o.CRH())&&(i._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,i){1&e&&o.WFA("@transformPanel.start",function(s){return i._handleAnimationEvent(s)})("@transformPanel.done",function(s){return i._handleAnimationEvent(s)}),2&e&&(o.d8E("@transformPanel",i._animationState),o.ekj("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[o.qOj],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,i){if(1&e&&(o.TgZ(0,"div",0)(1,"mat-calendar",1),o.NdJ("yearSelected",function(s){return i.datepicker._selectYear(s)})("monthSelected",function(s){return i.datepicker._selectMonth(s)})("viewChanged",function(s){return i.datepicker._viewChanged(s)})("_userSelection",function(s){return i._handleUserSelection(s)})("_userDragDrop",function(s){return i._handleUserDragDrop(s)}),o.qZA(),o.YNc(2,Y7,0,0,"ng-template",2),o.TgZ(3,"button",3),o.NdJ("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),o._uU(4),o.qZA()()),2&e){let r;o.ekj("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),o.uIk("aria-modal",!0)("aria-labelledby",null!==(r=i._dialogLabelId)&&void 0!==r?r:void 0),o.xp6(1),o.Q6J("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName),o.xp6(1),o.Q6J("cdkPortalOutlet",i._actionsPortal),o.xp6(1),o.ekj("cdk-visually-hidden",!i._closeButtonFocused),o.Q6J("color",i.color||"primary"),o.xp6(1),o.Oqu(i._closeButtonText)}},dependencies:[Ri,Lu,LY,M_,Q1],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[kz.transformPanel,kz.fadeInCalendar]},changeDetection:0}),n})(),Oz=(()=>{class n{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=gn(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=gn(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=gn(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function mY(n,t=/\s+/){const e=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(t);for(const r of i){const s=`${r}`.trim();s&&e.push(s)}}return e}(e)}get opened(){return this._opened}set opened(e){gn(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(e,i,r,s,c,d,p){this._overlay=e,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=c,this._dir=d,this._model=p,this._inputStateChanges=Ln.w0.EMPTY,this._document=(0,o.f3M)(ee),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new o.vpe,this.monthSelected=new o.vpe,this.viewChanged=new o.vpe(!0),this.openedStream=new o.vpe,this.closedStream=new o.vpe,this._opened=!1,this.id="mat-datepicker-"+l9++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new Ke.x,this._scrollStrategy=s}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof Q2&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=vD(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const e=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,i=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:r,location:s}=this._componentRef;r._startExitAnimation(),r._animationDone.pipe(An(1)).subscribe(()=>{const c=this._document.activeElement;e&&(!c||c===this._document.activeElement||s.nativeElement.contains(c))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}e?setTimeout(i):i()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=new I_(h9,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new ID({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(r).subscribe(s=>{s&&s.preventDefault(),this.close()}),r.keydownEvents().subscribe(s=>{const c=s.keyCode;(38===c||40===c||37===c||39===c||33===c||34===c)&&s.preventDefault()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(An(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",r="start"===i?"end":"start",s="above"===this.yPosition?"bottom":"top",c="top"===s?"bottom":"top";return e.withPositions([{originX:i,originY:c,overlayX:i,overlayY:s},{originX:i,originY:s,overlayX:i,overlayY:c},{originX:r,originY:c,overlayX:r,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:c}])}_getCloseStream(e){const i=["ctrlKey","shiftKey","metaKey"];return(0,Ks.T)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(kn(r=>27===r.keyCode&&!xa(r)||this.datepickerInput&&xa(r,"altKey")&&38===r.keyCode&&i.every(s=>!xa(r,s)))))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fl),o.Y36(o.R0b),o.Y36(o.s_b),o.Y36(Rz),o.Y36(As,8),o.Y36(Da,8),o.Y36(qp))},n.\u0275dir=o.lG2({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[o.TTD]}),n})(),Fz=(()=>{class n extends Oz{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[o._Bn([Ez,{provide:Oz,useExisting:n}]),o.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),n})();class XT{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let f9=(()=>{class n{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=gn(e),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new XT(this,this._elementRef.nativeElement)),this.dateChange.emit(new XT(this,this._elementRef.nativeElement))}})}constructor(e,i,r){this._elementRef=e,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new o.vpe,this.dateInput=new o.vpe,this.stateChanges=new Ke.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Ln.w0.EMPTY,this._localeSubscription=Ln.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!c||this._matchesFilter(c)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),d=this._getMinDate();return!d||!c||this._dateAdapter.compareDate(d,c)<=0?null:{matDatepickerMin:{min:d,actual:c}}},this._maxValidator=s=>{const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),d=this._getMaxDate();return!d||!c||this._dateAdapter.compareDate(d,c)>=0?null:{matDatepickerMax:{max:d,actual:c}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function p9(n,t){const e=Object.keys(n);for(let i of e){const{previousValue:r,currentValue:s}=n[i];if(!t.isDateInstance(r)||!t.isDateInstance(s))return!0;if(!t.sameDate(r,s))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){xa(e,"altKey")&&40===e.keyCode&&["ctrlKey","shiftKey","metaKey"].every(s=>!xa(e,s))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const s=!this._dateAdapter.sameDate(r,this.value);!r||s?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(r),this.dateInput.emit(new XT(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new XT(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(As,8),o.Y36(A_,8))},n.\u0275dir=o.lG2({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[o.TTD]}),n})();const m9={provide:pc,useExisting:(0,o.Gpc)(()=>JT),multi:!0},g9={provide:Is,useExisting:(0,o.Gpc)(()=>JT),multi:!0};let JT=(()=>{class n extends f9{set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}constructor(e,i,r,s){super(e,i,r),this._formField=s,this._closedSubscription=Ln.w0.EMPTY,this._validator=ur.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(As,8),o.Y36(A_,8),o.Y36(TT,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i._onInput(s.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(s){return i._onKeydown(s)}),2&e&&(o.Ikx("disabled",i.disabled),o.uIk("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[o._Bn([m9,g9,{provide:bz,useExisting:n}]),o.qOj]}),n})(),_9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n})(),Pz=(()=>{class n{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=gn(e)}constructor(e,i,r){this._intl=e,this._changeDetectorRef=i,this._stateChanges=Ln.w0.EMPTY;const s=Number(r);this.tabIndex=s||0===s?s:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:(0,it.of)(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,it.of)(),r=this.datepicker?(0,Ks.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,it.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,Ks.T)(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(QD),o.Y36(o.sBO),o.$8M("tabindex"))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,_9,5),2&e){let s;o.iGM(s=o.CRH())&&(i._customIcon=s.first)}},viewQuery:function(e,i){if(1&e&&o.Gf(W7,5),2&e){let r;o.iGM(r=o.CRH())&&(i._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i._open(s)}),2&e&&(o.uIk("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),o.ekj("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[o.TTD],ngContentSelectors:Q7,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,i){1&e&&(o.F$t(K7),o.TgZ(0,"button",0,1),o.YNc(2,Z7,2,0,"svg",2),o.Hsn(3),o.qZA()),2&e&&(o.Q6J("disabled",i.disabled)("disableRipple",i.disableRipple),o.uIk("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),o.xp6(2),o.Q6J("ngIf",!i._customIcon))},dependencies:[Oi,HP],styles:[".mat-datepicker-toggle{pointer-events:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),b9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[QD,u9],imports:[ci,zP,TD,p2,Yb,Ii,dT]}),n})();function w9(n,t){if(1&n&&o._UZ(0,"map-marker",2,3),2&n){const e=o.oxw();o.Q6J("position",e.markerPosition)("options",e.markerOptions)}}let J1=(()=>{class n{constructor(e){Ae(this,"route",void 0),Ae(this,"infoWindow",void 0),Ae(this,"markerPositionChange",new o.vpe),Ae(this,"parentMarkerPosition",void 0),Ae(this,"title",void 0),Ae(this,"center",{lat:24,lng:12}),Ae(this,"zoom",4),Ae(this,"markerOptions",{draggable:!1}),Ae(this,"markerPosition",null),this.route=e}ngOnInit(){const e=this.route.snapshot.queryParams?.markerPosition;this.markerPosition=e?JSON.parse(e):null,this.markerPosition&&(this.center=this.markerPosition)}ngOnChanges(e){"parentMarkerPosition"in e&&(this.markerPosition=this.parentMarkerPosition,this.parentMarkerPosition&&(this.center=this.parentMarkerPosition))}addMarker(e){null!=e.latLng&&(this.markerPosition=e.latLng.toJSON(),this.markerPositionChange.emit(this.markerPosition))}}return Ae(n,"\u0275fac",function(e){return new(e||n)(o.Y36(Xa))}),Ae(n,"\u0275cmp",o.Xpm({type:n,selectors:[["app-map"]],viewQuery:function(e,i){if(1&e&&o.Gf(_z,5),2&e){let r;o.iGM(r=o.CRH())&&(i.infoWindow=r.first)}},inputs:{parentMarkerPosition:"parentMarkerPosition",title:"title"},outputs:{markerPositionChange:"markerPositionChange"},features:[o.TTD],decls:2,vars:3,consts:[["height","240px","width","250px",3,"center","zoom","mapClick"],[3,"position","options",4,"ngIf"],[3,"position","options"],["marker","mapMarker"]],template:function(e,i){1&e&&(o.TgZ(0,"google-map",0),o.NdJ("mapClick",function(s){return i.addMarker(s)}),o.YNc(1,w9,2,2,"map-marker",1),o.qZA()),2&e&&(o.Q6J("center",i.parentMarkerPosition||i.center)("zoom",i.zoom),o.xp6(1),o.Q6J("ngIf",i.markerPosition))},dependencies:[Oi,Qs,WT]})),n})();function C9(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Title is required"),o.qZA())}function x9(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Title must be at least 5 characters long"),o.qZA())}function D9(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Title must be at most 20 characters long"),o.qZA())}function E9(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Description is required"),o.qZA())}function S9(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Description must be at most 100 characters long"),o.qZA())}function A9(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Due Date is required"),o.qZA())}let I9=(()=>{class n{constructor(e,i,r,s){Ae(this,"formBuilder",void 0),Ae(this,"taskService",void 0),Ae(this,"router",void 0),Ae(this,"snackBar",void 0),Ae(this,"taskForm",void 0),Ae(this,"parentMarkerPosition",null),Ae(this,"minDate",new Date),this.formBuilder=e,this.taskService=i,this.router=r,this.snackBar=s}ngOnInit(){this.initTaskForm()}handleMarkerPositionChange(e){this.parentMarkerPosition=e,this.taskForm.patchValue({markerPosition:e})}initTaskForm(){this.taskForm=this.formBuilder.group({title:["",[ur.required,ur.minLength(5),ur.maxLength(20)]],description:["",[ur.required,ur.maxLength(100)]],dueDate:[null,[ur.required]],markerPosition:[""]})}onSubmit(){if(this.taskForm.valid){const e={id:P7(),...this.taskForm.value,completed:!1};this.taskService.addTask(e),this.taskService.addTask(e).subscribe(()=>{this.router.navigate(["/task-list"])},i=>{this.snackBar.open(i.message,"Close",{duration:5e3,panelClass:["error-snackbar"]})})}}resetForm(){this.taskForm.reset()}}return Ae(n,"\u0275fac",function(e){return new(e||n)(o.Y36(WD),o.Y36(m1),o.Y36(Yi),o.Y36(kD))}),Ae(n,"\u0275cmp",o.Xpm({type:n,selectors:[["app-add-task"]],decls:34,vars:11,consts:[[1,"task-card"],[3,"formGroup","ngSubmit"],["appearance","fill"],["matInput","","placeholder","Enter the task title","formControlName","title","required",""],[4,"ngIf"],["matInput","","placeholder","Enter the task description","formControlName","description","required",""],["matInput","","placeholder","Select the due date","formControlName","dueDate","required","",3,"matDatepicker","min"],["matSuffix","",3,"for"],["picker",""],[1,"button-group"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-raised-button","","color","warn","type","button",3,"click"],[3,"markerPositionChange"]],template:function(e,i){if(1&e&&(o.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),o._uU(3,"Task Creation Form"),o.qZA()(),o._UZ(4,"br"),o.TgZ(5,"mat-card-content")(6,"form",1),o.NdJ("ngSubmit",function(){return i.onSubmit()}),o.TgZ(7,"mat-form-field",2)(8,"mat-label"),o._uU(9,"Title"),o.qZA(),o._UZ(10,"input",3),o.YNc(11,C9,2,0,"mat-error",4),o.YNc(12,x9,2,0,"mat-error",4),o.YNc(13,D9,2,0,"mat-error",4),o.qZA(),o.TgZ(14,"mat-form-field",2)(15,"mat-label"),o._uU(16,"Description"),o.qZA(),o._UZ(17,"textarea",5),o.YNc(18,E9,2,0,"mat-error",4),o.YNc(19,S9,2,0,"mat-error",4),o.qZA(),o.TgZ(20,"mat-form-field",2)(21,"mat-label"),o._uU(22,"Due Date"),o.qZA(),o._UZ(23,"input",6)(24,"mat-datepicker-toggle",7)(25,"mat-datepicker",null,8),o.YNc(27,A9,2,0,"mat-error",4),o.qZA(),o.TgZ(28,"div",9)(29,"button",10),o._uU(30,"Create Task"),o.qZA(),o.TgZ(31,"button",11),o.NdJ("click",function(){return i.resetForm()}),o._uU(32,"Reset Form"),o.qZA()()(),o.TgZ(33,"app-map",12),o.NdJ("markerPositionChange",function(s){return i.handleMarkerPositionChange(s)}),o.qZA()()()),2&e){const r=o.MAs(26);o.xp6(6),o.Q6J("formGroup",i.taskForm),o.xp6(5),o.Q6J("ngIf",i.taskForm.get("title").hasError("required")),o.xp6(1),o.Q6J("ngIf",i.taskForm.get("title").hasError("minlength")),o.xp6(1),o.Q6J("ngIf",i.taskForm.get("description").hasError("maxlength")),o.xp6(5),o.Q6J("ngIf",i.taskForm.get("description").hasError("required")),o.xp6(1),o.Q6J("ngIf",i.taskForm.get("description").hasError("maxlength")),o.xp6(4),o.Q6J("matDatepicker",r)("min",i.minDate),o.xp6(1),o.Q6J("for",r),o.xp6(3),o.Q6J("ngIf",i.taskForm.get("dueDate").hasError("required")),o.xp6(2),o.Q6J("disabled",i.taskForm.invalid)}},dependencies:[Oi,N_,zp,Jb,F_,YD,ET,AT,IT,ST,Vu,L_,KD,Xb,PD,ND,RU,Lu,Fz,JT,Pz,J1],styles:['.task-card[_ngcontent-%COMP%]{width:600px;margin:20px auto;padding:20px}.task-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:12px}.task-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;flex-direction:table-column-group}.task-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:row}.task-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   google-map[_ngcontent-%COMP%]{height:"240px";width:"250px"}.task-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.task-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.task-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{color:#777;font-size:14px}.task-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .task-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-size:16px;color:#333}.task-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:20px}.task-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:120px;margin-left:10px}.task-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .mat-primary[_ngcontent-%COMP%]{background-color:#007bff}.task-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .mat-warn[_ngcontent-%COMP%]{background-color:#dc3545}.task-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]:disabled{opacity:.7}']})),n})(),Lz=(()=>{class n{transform(e,i="shortDate"){return e instanceof Vb.Z.firestore.Timestamp&&(e=e.toDate()),e?new Date(e):null}}return Ae(n,"\u0275fac",function(e){return new(e||n)}),Ae(n,"\u0275pipe",o.Yjl({name:"customDateFormat",type:n,pure:!0})),n})();function M9(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Title is required"),o.qZA())}function T9(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Title must be at least 5 characters long"),o.qZA())}function k9(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Description is required"),o.qZA())}function R9(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Description must be at most 100 characters long"),o.qZA())}function O9(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Due Date is required"),o.qZA())}function F9(n,t){if(1&n&&(o.TgZ(0,"span",17),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.hij(" Formatted Due Date: ",e.formattedDueDate," ")}}const P9=[{path:"",redirectTo:"/sign-in",pathMatch:"full"},{path:"sign-in",component:E7},{path:"register-user",component:I7},{path:"task-list",component:p7,canActivate:[k7]},{path:"forgot-password",component:C7},{path:"verify-email-address",component:T7},{path:"edit-task/:id",component:(()=>{class n{constructor(e,i,r,s,c,d){Ae(this,"route",void 0),Ae(this,"router",void 0),Ae(this,"fb",void 0),Ae(this,"taskService",void 0),Ae(this,"customDateFormatPipe",void 0),Ae(this,"snackBar",void 0),Ae(this,"taskForm",void 0),Ae(this,"parentMarkerPosition",null),Ae(this,"formattedDueDate",null),this.route=e,this.router=i,this.fb=r,this.taskService=s,this.customDateFormatPipe=c,this.snackBar=d,this.taskForm=this.fb.group({title:["",[ur.required,ur.minLength(5)]],description:["",[ur.required,ur.maxLength(100)]],dueDate:["",ur.required],completed:[!1],markerPosition:[""]})}handleMarkerPositionChange(e){this.parentMarkerPosition=e,this.taskForm.patchValue({markerPosition:e})}ngOnInit(){this.route.paramMap.subscribe(e=>{const i=e.get("id");i&&this.taskService.getTask(i).subscribe(r=>{r&&(this.taskForm.patchValue(r),this.parentMarkerPosition=this.taskForm.get("markerPosition").value,this.taskForm.patchValue({dueDate:this.taskForm.get("dueDate").value?this.customDateFormatPipe.transform(this.taskForm.get("dueDate").value,"shortDate"):null}))})})}onSubmit(){if(this.taskForm.valid){const e=this.taskForm.value;console.log(e);const i=this.route.snapshot.paramMap.get("id");this.taskService.updateTask(i,e).subscribe(()=>{this.router.navigate(["/task-list"])},r=>{this.snackBar.open(r,"Close",{duration:5e3,panelClass:["error-snackbar"]})})}}cancelEdit(){this.router.navigate(["/task-list"])}}return Ae(n,"\u0275fac",function(e){return new(e||n)(o.Y36(Xa),o.Y36(Yi),o.Y36(WD),o.Y36(m1),o.Y36(Lz),o.Y36(kD))}),Ae(n,"\u0275cmp",o.Xpm({type:n,selectors:[["app-edit-task"]],features:[o._Bn([Lz])],decls:42,vars:11,consts:[[1,"task-card"],[3,"formGroup","ngSubmit"],["appearance","fill"],["matInput","","placeholder","Enter the task title","formControlName","title","required",""],[4,"ngIf"],["matInput","","placeholder","Enter the task description","formControlName","description","required",""],["matInput","","placeholder","Select the due date","formControlName","dueDate","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["class","formatted-due-date",4,"ngIf"],["formControlName","completed"],["value","false"],["value","true"],[1,"button-group"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-raised-button","","color","warn","type","button",3,"click"],[3,"parentMarkerPosition","markerPositionChange"],[1,"formatted-due-date"]],template:function(e,i){if(1&e&&(o.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),o._uU(3,"Edit Task"),o.qZA()(),o._UZ(4,"br"),o.TgZ(5,"mat-card-content")(6,"form",1),o.NdJ("ngSubmit",function(){return i.onSubmit()}),o.TgZ(7,"mat-form-field",2)(8,"mat-label"),o._uU(9,"Title"),o.qZA(),o._UZ(10,"input",3),o.YNc(11,M9,2,0,"mat-error",4),o.YNc(12,T9,2,0,"mat-error",4),o.qZA(),o.TgZ(13,"mat-form-field",2)(14,"mat-label"),o._uU(15,"Description"),o.qZA(),o._UZ(16,"textarea",5),o.YNc(17,k9,2,0,"mat-error",4),o.YNc(18,R9,2,0,"mat-error",4),o.qZA(),o.TgZ(19,"mat-form-field",2)(20,"mat-label"),o._uU(21,"Due Date"),o.qZA(),o._UZ(22,"input",6)(23,"mat-datepicker-toggle",7)(24,"mat-datepicker",null,8),o.YNc(26,O9,2,0,"mat-error",4),o.YNc(27,F9,2,1,"span",9),o.qZA(),o.TgZ(28,"mat-form-field",2)(29,"mat-label"),o._uU(30,"Task Status"),o.qZA(),o.TgZ(31,"mat-select",10)(32,"mat-option",11),o._uU(33,"Pending"),o.qZA(),o.TgZ(34,"mat-option",12),o._uU(35,"Complete"),o.qZA()()(),o.TgZ(36,"div",13)(37,"button",14),o._uU(38," Create Task "),o.qZA(),o.TgZ(39,"button",15),o.NdJ("click",function(){return i.cancelEdit()}),o._uU(40," Cancel Edit "),o.qZA()()(),o.TgZ(41,"app-map",16),o.NdJ("markerPositionChange",function(s){return i.handleMarkerPositionChange(s)}),o.qZA()()()),2&e){const r=o.MAs(25);o.xp6(6),o.Q6J("formGroup",i.taskForm),o.xp6(5),o.Q6J("ngIf",i.taskForm.get("title").hasError("required")),o.xp6(1),o.Q6J("ngIf",i.taskForm.get("title").hasError("minlength")),o.xp6(5),o.Q6J("ngIf",i.taskForm.get("description").hasError("required")),o.xp6(1),o.Q6J("ngIf",i.taskForm.get("description").hasError("maxlength")),o.xp6(4),o.Q6J("matDatepicker",r),o.xp6(1),o.Q6J("for",r),o.xp6(3),o.Q6J("ngIf",i.taskForm.get("dueDate").hasError("required")),o.xp6(1),o.Q6J("ngIf",i.formattedDueDate),o.xp6(10),o.Q6J("disabled",i.taskForm.invalid),o.xp6(4),o.Q6J("parentMarkerPosition",i.parentMarkerPosition)}},dependencies:[Oi,N_,zp,Jb,F_,YD,ET,AT,IT,ST,Vu,L_,KD,Xb,PD,ND,RU,Lu,Fz,JT,Pz,hz,VP,J1],styles:[".task-card[_ngcontent-%COMP%]{width:600px;margin:20px auto;padding:20px}.task-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:12px}.task-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.task-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.task-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.task-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{color:#777;font-size:14px}.task-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .task-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-size:16px;color:#333}.task-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:20px}.task-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:120px;margin-left:10px}.task-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .mat-primary[_ngcontent-%COMP%]{background-color:#007bff}.task-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .mat-warn[_ngcontent-%COMP%]{background-color:#dc3545}.task-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]:disabled{opacity:.7}"]})),n})()},{path:"add-task",component:I9},{path:"map",component:J1},{path:"map-maker",component:yz}];let N9=(()=>{class n{}return Ae(n,"\u0275fac",function(e){return new(e||n)}),Ae(n,"\u0275mod",o.oAB({type:n})),Ae(n,"\u0275inj",o.cJS({imports:[t0.forRoot(P9),t0]})),n})(),L9=(()=>{class n{constructor(){Ae(this,"title","task-managment-app")}}return Ae(n,"\u0275fac",function(e){return new(e||n)}),Ae(n,"\u0275cmp",o.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"container"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o._UZ(1,"router-outlet"),o.qZA())},dependencies:[O],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}"]})),n})();const H9={provide:o.tb,useFactory:function U9(n,t){return()=>{if(Lr(t)){const e=Array.from(n.querySelectorAll(`[class*=${Hz}]`)),i=/\bflex-layout-.+?\b/g;e.forEach(r=>{r.classList.contains(`${Hz}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}},deps:[ee,o.Lbi],multi:!0},Hz="flex-layout-";let tN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[H9]}),n})();const nN={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},gc=new o.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>nN}),iw=new o.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),iN=new o.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});EventTarget;let oG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[tN]}),n})(),uG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[tN,jb]}),n})(),yG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[tN]}),n})(),XJ=(()=>{class n{constructor(e,i){Pn(i)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,i=[]){return{ngModule:n,providers:e.serverLoaded?[{provide:gc,useValue:{...nN,...e}},{provide:iN,useValue:i,multi:!0},{provide:iw,useValue:!0}]:[{provide:gc,useValue:{...nN,...e}},{provide:iN,useValue:i,multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(iw),o.LFG(o.Lbi))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[uG,oG,yG,uG,oG,yG]}),n})();const vG="firebasestorage.googleapis.com",bG="storageBucket";class Ji extends N.ZR{constructor(t,e,i=0){super(aN(t),`Firebase Storage: ${e} (${aN(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ji.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return aN(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function aN(n){return"storage/"+n}function lN(){return new Ji("unknown","An unknown error occurred, please check the error payload for server response.")}function wG(){return new Ji("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function CG(){return new Ji("canceled","User canceled the upload/download.")}function xG(){return new Ji("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function sw(n){return new Ji("invalid-argument",n)}function DG(){return new Ji("app-deleted","The Firebase app was deleted.")}function EG(n){return new Ji("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function tE(n,t){return new Ji("invalid-format","String does not match format '"+n+"': "+t)}function nE(n){throw new Ji("internal-error","Internal error: "+n)}class Xs{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Xs.makeFromUrl(t,e)}catch{return new Xs(t,"")}if(""===i.path)return i;throw function lee(n){return new Ji("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+r+"(/(.*))?$","i");function y($e){$e.path_=decodeURIComponent($e.path)}const E=e.replace(/[.]/g,"\\."),Ge=[{regex:d,indices:{bucket:1,path:3},postModify:function s($e){"/"===$e.path.charAt($e.path.length-1)&&($e.path_=$e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${E}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:y},{regex:new RegExp(`^https?://${e===vG?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:y}];for(let $e=0;$e<Ge.length;$e++){const gt=Ge[$e],Ct=gt.regex.exec(t);if(Ct){let hr=Ct[gt.indices.path];hr||(hr=""),i=new Xs(Ct[gt.indices.bucket],hr),gt.postModify(i);break}}if(null==i)throw function aee(n){return new Ji("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class fee{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function ik(n){return"string"==typeof n||n instanceof String}function SG(n){return cN()&&n instanceof Blob}function cN(){return typeof Blob<"u"&&!(0,N.UG)()}function uN(n,t,e,i){if(i<t)throw sw(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw sw(`Invalid value for '${n}'. Expected ${e} or less.`)}function Dh(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function AG(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var ow=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(ow||{});function IG(n,t){const e=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==t.indexOf(n);return e||r||s}class vee{constructor(t,e,i,r,s,c,d,p,y,w,E,T=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=w,this.connectionFactory_=E,this.retry=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((F,B)=>{this.resolve_=F,this.reject_=B,this.start_()})}start_(){const e=(i,r)=>{const s=this.resolve_,c=this.reject_,d=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());!function gee(n){return void 0!==n}(p)?s():s(p)}catch(p){c(p)}else if(null!==d){const p=lN();p.serverResponse=d.getErrorText(),c(this.errorCallback_?this.errorCallback_(d,p):p)}else c(r.canceled?this.appDelete_?DG():CG():wG())};this.canceled_?e(0,new rk(!1,null,!0)):this.backoffId_=function pee(n,t,e){let i=1,r=null,s=null,c=!1,d=0;function p(){return 2===d}let y=!1;function w(...K){y||(y=!0,t.apply(null,K))}function E(K){r=setTimeout(()=>{r=null,n(F,p())},K)}function T(){s&&clearTimeout(s)}function F(K,...De){if(y)return void T();if(K)return T(),void w.call(null,K,...De);if(p()||c)return T(),void w.call(null,K,...De);let Ge;i<64&&(i*=2),1===d?(d=2,Ge=0):Ge=1e3*(i+Math.random()),E(Ge)}let B=!1;function $(K){B||(B=!0,T(),!y&&(null!==r?(K||(d=2),clearTimeout(r),E(0)):K||(d=1)))}return E(0),s=setTimeout(()=>{c=!0,$(!0)},e),$}((i,r)=>{if(r)return void i(!1,new rk(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const c=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const d=s.getErrorCode()===ow.NO_ERROR,p=s.getStatus();if(!d||IG(p,this.additionalRetryCodes_)&&this.retry){const w=s.getErrorCode()===ow.ABORT;return void i(!1,new rk(!1,null,w))}const y=-1!==this.successCodes_.indexOf(p);i(!0,new rk(y,s))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function mee(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class rk{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function See(...n){const t=function Eee(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(cN())return new Blob(n);throw new Ji("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Aa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class dN{constructor(t,e){this.data=t,this.contentType=e||null}}function hN(n,t){switch(n){case Aa.RAW:return new dN(MG(t));case Aa.BASE64:case Aa.BASE64URL:return new dN(TG(n,t));case Aa.DATA_URL:return new dN(function Tee(n){const t=new kG(n);return t.base64?TG(Aa.BASE64,t.rest):function Mee(n){let t;try{t=decodeURIComponent(n)}catch{throw tE(Aa.DATA_URL,"Malformed data URL.")}return MG(t)}(t.rest)}(t),function kee(n){return new kG(n).contentType}(t))}throw lN()}function MG(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function TG(n,t){switch(n){case Aa.BASE64:{const r=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(r||s)throw tE(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Aa.BASE64URL:{const r=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(r||s)throw tE(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function Iee(n){if(typeof atob>"u")throw function hee(n){return new Ji("unsupported-environment",`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(t)}catch(r){throw r.message.includes("polyfill")?r:tE(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class kG{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw tE(Aa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function Ree(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class Uu{constructor(t,e){let i=0,r="";SG(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(SG(this.data_)){const r=function Aee(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new Uu(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new Uu(i,!0)}}static getBlob(...t){if(cN()){const e=t.map(i=>i instanceof Uu?i.data_:i);return new Uu(See.apply(null,e))}{const e=t.map(c=>ik(c)?hN(Aa.RAW,c).data:c.data_);let i=0;e.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let s=0;return e.forEach(c=>{for(let d=0;d<c.length;d++)r[s++]=c[d]}),new Uu(r,!0)}}uploadData(){return this.data_}}function fN(n){let t;try{t=JSON.parse(n)}catch{return null}return function yee(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function RG(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function Pee(n,t){return t}class Io{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||Pee}}let sk=null;function iE(){if(sk)return sk;const n=[];n.push(new Io("bucket")),n.push(new Io("generation")),n.push(new Io("metageneration")),n.push(new Io("name","fullPath",!0));const e=new Io("name");e.xform=function t(s,c){return function Nee(n){return!ik(n)||n.length<2?n:RG(n)}(c)},n.push(e);const r=new Io("size");return r.xform=function i(s,c){return void 0!==c?Number(c):c},n.push(r),n.push(new Io("timeCreated")),n.push(new Io("updated")),n.push(new Io("md5Hash",null,!0)),n.push(new Io("cacheControl",null,!0)),n.push(new Io("contentDisposition",null,!0)),n.push(new Io("contentEncoding",null,!0)),n.push(new Io("contentLanguage",null,!0)),n.push(new Io("contentType",null,!0)),n.push(new Io("metadata","customMetadata",!0)),sk=n,sk}function OG(n,t,e){const i=fN(t);return null===i?null:function Bee(n,t,e){const i={type:"file"},r=e.length;for(let s=0;s<r;s++){const c=e[s];i[c.local]=c.xform(i,t[c.server])}return function Lee(n,t){Object.defineProperty(n,"ref",{get:function e(){const s=new Xs(n.bucket,n.fullPath);return t._makeStorageReference(s)}})}(i,n),i}(n,i,e)}function pN(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}const FG="prefixes",PG="items";class Hu{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function zu(n){if(!n)throw lN()}function ok(n,t){return function e(i,r){const s=OG(n,r,t);return zu(null!==s),s}}function aw(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function see(){return new Ji("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function ree(){return new Ji("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function iee(n){return new Ji("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function oee(n){return new Ji("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}}function rE(n){const t=aw(n);return function e(i,r){let s=t(i,r);return 404===i.getStatus()&&(s=function nee(n){return new Ji("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function NG(n,t,e){const r=Dh(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new Hu(r,"GET",ok(n,e),c);return d.errorHandler=rE(t),d}function jee(n,t,e,i,r){const s={};s.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(s.delimiter=e),i&&(s.pageToken=i),r&&(s.maxResults=r);const d=Dh(t.bucketOnlyServerUrl(),n.host,n._protocol),y=n.maxOperationRetryTime,w=new Hu(d,"GET",function zee(n,t){return function e(i,r){const s=function Hee(n,t,e){const i=fN(e);return null===i?null:function Uee(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[FG])for(const r of e[FG]){const s=r.replace(/\/$/,""),c=n._makeStorageReference(new Xs(t,s));i.prefixes.push(c)}if(e[PG])for(const r of e[PG]){const s=n._makeStorageReference(new Xs(t,r.name));i.items.push(s)}return i}(n,t,i)}(n,t,r);return zu(null!==s),s}}(n,t.bucket),y);return w.urlParams=s,w.errorHandler=aw(t),w}function BG(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function Wee(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class ak{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function mN(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{zu(!1)}return zu(!!e&&-1!==(t||["active"]).indexOf(e)),e}const Xee={STATE_CHANGED:"state_changed"},Mo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function gN(n){switch(n){case"running":case"pausing":case"canceling":return Mo.RUNNING;case"paused":return Mo.PAUSED;case"success":return Mo.SUCCESS;case"canceled":return Mo.CANCELED;default:return Mo.ERROR}}class Jee{constructor(t,e,i){if(function _ee(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function lw(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}let HG=null;class ete{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ow.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ow.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ow.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw nE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw nE("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw nE("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw nE("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw nE("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class tte extends ete{initXhr(){this.xhr_.responseType="text"}}function _c(){return HG?HG():new tte}class zG{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=iE(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(IG(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=wG()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function Zee(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),c=BG(t,i,r),d={name:c.fullPath},p=Dh(s,n.host,n._protocol),w={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},E=pN(c,e),B=new Hu(p,"POST",function F($){let K;mN($);try{K=$.getResponseHeader("X-Goog-Upload-URL")}catch{zu(!1)}return zu(ik(K)),K},n.maxUploadRetryTime);return B.urlParams=d,B.headers=w,B.body=E,B.errorHandler=aw(t),B}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,_c,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function Kee(n,t,e,i){const p=new Hu(e,"POST",function s(y){const w=mN(y,["active","final"]);let E=null;try{E=y.getResponseHeader("X-Goog-Upload-Size-Received")}catch{zu(!1)}E||zu(!1);const T=Number(E);return zu(!isNaN(T)),new ak(T,i.size(),"final"===w)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=aw(t),p}(this._ref.storage,this._ref._location,t,this._blob),s=this._ref.storage._makeRequest(r,_c,e,i);this._request=s,s.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new ak(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let c;try{c=function Qee(n,t,e,i,r,s,c,d){const p=new ak(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw function uee(){return new Ji("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const y=p.total-p.current;let w=y;r>0&&(w=Math.min(w,r));const E=p.current;let F="";F=0===w?"finalize":y===w?"upload, finalize":"upload";const B={"X-Goog-Upload-Command":F,"X-Goog-Upload-Offset":`${p.current}`},$=i.slice(E,E+w);if(null===$)throw xG();const Ge=new Hu(e,"POST",function K($e,gt){const Ct=mN($e,["active","final"]),ln=p.current+w,hr=i.size();let Ra;return Ra="final"===Ct?ok(t,s)($e,gt):null,new ak(ln,hr,"final"===Ct,Ra)},t.maxUploadRetryTime);return Ge.headers=B,Ge.body=$.uploadData(),Ge.progressCallback=d||null,Ge.errorHandler=aw(n),Ge}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const d=this._ref.storage._makeRequest(c,_c,r,s,!1);this._request=d,d.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=NG(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,_c,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function VG(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},p=function d(){let Ge="";for(let $e=0;$e<2;$e++)Ge+=Math.random().toString().slice(2);return Ge}();c["Content-Type"]="multipart/related; boundary="+p;const y=BG(t,i,r),w=pN(y,e),F=Uu.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+w+"\r\n--"+p+"\r\nContent-Type: "+y.contentType+"\r\n\r\n",i,"\r\n--"+p+"--");if(null===F)throw xG();const B={name:y.fullPath},$=Dh(s,n.host,n._protocol),De=n.maxUploadRetryTime,ze=new Hu($,"POST",ok(n,e),De);return ze.urlParams=B,ze.headers=c,ze.body=F.uploadData(),ze.errorHandler=aw(t),ze}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,_c,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=CG(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=gN(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const s=new Jee(e||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(gN(this._state)){case Mo.SUCCESS:lw(this._resolve.bind(null,this.snapshot))();break;case Mo.CANCELED:case Mo.ERROR:lw(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(gN(this._state)){case Mo.RUNNING:case Mo.PAUSED:t.next&&lw(t.next.bind(t,this.snapshot))();break;case Mo.SUCCESS:t.complete&&lw(t.complete.bind(t))();break;default:t.error&&lw(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class U_{constructor(t,e){this._service=t,this._location=e instanceof Xs?e:Xs.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new U_(t,e)}get root(){const t=new Xs(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return RG(this._location.path)}get storage(){return this._service}get parent(){const t=function Oee(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Xs(this._location.bucket,t);return new U_(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw EG(t)}}function jG(n,t,e){return _N.apply(this,arguments)}function _N(){return _N=(0,_e.Z)(function*(n,t,e){const r=yield $G(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield jG(n,t,r.nextPageToken))}),_N.apply(this,arguments)}function $G(n,t){null!=t&&"number"==typeof t.maxResults&&uN("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=jee(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,_c)}function fte(n){n._throwIfRoot("getDownloadURL");const t=function $ee(n,t,e){const r=Dh(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new Hu(r,"GET",function Gee(n,t){return function e(i,r){const s=OG(n,r,t);return zu(null!==s),function Vee(n,t,e,i){const r=fN(t);if(null===r||!ik(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const c=encodeURIComponent;return s.split(",").map(y=>{const E=n.fullPath;return Dh("/b/"+c(n.bucket)+"/o/"+c(E),e,i)+AG({alt:"media",token:y})})[0]}(s,r,n.host,n._protocol)}}(n,e),c);return d.errorHandler=rE(t),d}(n.storage,n._location,iE());return n.storage.makeRequestWithTokens(t,_c).then(e=>{if(null===e)throw function dee(){return new Ji("no-download-url","The given file does not have any download URLs.")}();return e})}function qG(n,t){const e=function Fee(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new Xs(n._location.bucket,e);return new U_(n.storage,i)}function YG(n,t){if(n instanceof yN){const e=n;if(null==e._bucket)throw function cee(){return new Ji("no-default-bucket","No default bucket found. Did you set the '"+bG+"' property when initializing the app?")}();const i=new U_(e,e._bucket);return null!=t?YG(i,t):i}return void 0!==t?qG(n,t):n}function _te(n,t){if(t&&function mte(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof yN)return function gte(n,t){return new U_(n,t)}(n,t);throw sw("To use ref(service, url), the first argument must be a Storage instance.")}return YG(n,t)}function WG(n,t){const e=t?.[bG];return null==e?null:Xs.makeFromBucketSpec(e,n)}class yN{constructor(t,e,i,r,s){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=vG,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Xs.makeFromBucketSpec(r,this._host):WG(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Xs.makeFromBucketSpec(this._url,t):WG(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){uN("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){uN("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,_e.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,_e.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new U_(this,t)}_makeRequest(t,e,i,r,s=!0){if(this._deleted)return new fee(DG());{const c=function Dee(n,t,e,i,r,s,c=!0){const d=AG(n.urlParams),p=n.url+d,y=Object.assign({},n.headers);return function Cee(n,t){t&&(n["X-Firebase-GMPID"]=t)}(y,t),function bee(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(y,e),function wee(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(y,s),function xee(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(y,i),new vee(p,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,c)}(t,this._appId,i,r,e,this._firebaseVersion,s);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(t,e){var i=this;return(0,_e.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,s).getPromise()})()}}const ZG="@firebase/storage";function XG(n,t){return _te(n=(0,N.m9)(n),t)}function Ate(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new yN(e,i,r,t,Ur.SDK_VERSION)}!function Ite(){(0,Ur._registerComponent)(new ws.wA("storage",Ate,"PUBLIC").setMultipleInstances(!0)),(0,Ur.registerVersion)(ZG,"0.10.1",""),(0,Ur.registerVersion)(ZG,"0.10.1","esm2017")}();class lk{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class ej{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new lk(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new lk(i,this,this._ref))},e)}on(t,e,i,r){let s;return e&&(s="function"==typeof e?c=>e(new lk(c,this,this._ref)):{next:e.next?c=>e.next(new lk(c,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,i||void 0,r||void 0)}}class tj{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new Eh(t,this._service))}get items(){return this._delegate.items.map(t=>new Eh(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Eh{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function Ste(n,t){return qG(n,t)}(this._delegate,t);return new Eh(e,this.storage)}get root(){return new Eh(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Eh(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new ej(function vte(n,t,e){return function lte(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new zG(n,new Uu(t),e)}(n=(0,N.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=Aa.RAW,i){this._throwIfRoot("putString");const r=hN(e,t),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new ej(new zG(this._delegate,new Uu(r.data,!0),s),this)}listAll(){return function xte(n){return function ute(n){const t={prefixes:[],items:[]};return jG(n,t).then(()=>t)}(n=(0,N.m9)(n))}(this._delegate).then(t=>new tj(t,this.storage))}list(t){return function Cte(n,t){return $G(n=(0,N.m9)(n),t)}(this._delegate,t||void 0).then(e=>new tj(e,this.storage))}getMetadata(){return function bte(n){return function dte(n){n._throwIfRoot("getMetadata");const t=NG(n.storage,n._location,iE());return n.storage.makeRequestWithTokens(t,_c)}(n=(0,N.m9)(n))}(this._delegate)}updateMetadata(t){return function wte(n,t){return function hte(n,t){n._throwIfRoot("updateMetadata");const e=function qee(n,t,e,i){const s=Dh(t.fullServerUrl(),n.host,n._protocol),d=pN(e,i),y=n.maxOperationRetryTime,w=new Hu(s,"PATCH",ok(n,i),y);return w.headers={"Content-Type":"application/json; charset=utf-8"},w.body=d,w.errorHandler=rE(t),w}(n.storage,n._location,t,iE());return n.storage.makeRequestWithTokens(e,_c)}(n=(0,N.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function Dte(n){return fte(n=(0,N.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Ete(n){return function pte(n){n._throwIfRoot("deleteObject");const t=function Yee(n,t){const i=Dh(t.fullServerUrl(),n.host,n._protocol),d=new Hu(i,"DELETE",function c(p,y){},n.maxOperationRetryTime);return d.successCodes=[200,204],d.errorHandler=rE(t),d}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,_c)}(n=(0,N.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw EG(t)}}class nj{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(ij(t))throw sw("ref() expected a child path but got a URL, use refFromURL instead.");return new Eh(XG(this._delegate,t),this)}refFromURL(t){if(!ij(t))throw sw("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Xs.makeFromUrl(t,this._delegate.host)}catch{throw sw("refFromUrl() expected a valid full URL but got an invalid one.")}return new Eh(XG(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function JG(n,t,e,i={}){!function yte(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,N.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function ij(n){return/^[A-Za-z]+:\/\//.test(n)}function Rte(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new nj(e,i)}function rj(n){const t=function Fte(n){return new En.y(t=>{const e=c=>t.next(c);e(n.snapshot);const s=n.on("state_changed",e);return n.then(c=>{e(c),t.complete()},c=>{e(n.snapshot),(c=>{t.error(c)})(c)}),function(){s()}}).pipe(RP(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,We.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function ck(n){return{getDownloadURL:()=>(0,it.of)(void 0).pipe(Mn.fc,(0,xn.w)(()=>n.getDownloadURL()),Mn.iC),getMetadata:()=>(0,it.of)(void 0).pipe(Mn.fc,(0,xn.w)(()=>n.getMetadata()),Mn.iC),delete:()=>(0,sn.D)(n.delete()),child:t=>ck(n.child(t)),updateMetadata:t=>(0,sn.D)(n.updateMetadata(t)),put:(t,e)=>rj(n.put(t,e)),putString:(t,e,i)=>rj(n.putString(t,e,i)),list:t=>(0,sn.D)(n.list(t)),listAll:()=>(0,sn.D)(n.listAll())}}!function Ote(n){const t={TaskState:Mo,TaskEvent:Xee,StringFormat:Aa,Storage:nj,Reference:Eh};n.INTERNAL.registerComponent(new ws.wA("storage-compat",Rte,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.2.1")}(su.Z);const Pte=new o.OlP("angularfire2.storageBucket"),Nte=new o.OlP("angularfire2.storage.maxUploadRetryTime"),Lte=new o.OlP("angularfire2.storage.maxOperationRetryTime"),Bte=new o.OlP("angularfire2.storage.use-emulator");let Vte=(()=>{class n{constructor(e,i,r,s,c,d,p,y,w,E){const T=(0,Wi.on)(e,c,i);this.storage=(0,Wi.cc)(`${T.name}.storage.${r}`,"AngularFireStorage",T.name,()=>{const F=c.runOutsideAngular(()=>T.storage(r||void 0)),B=w;return B&&F.useEmulator(...B),p&&F.setMaxUploadRetryTime(p),y&&F.setMaxOperationRetryTime(y),F},[p,y])}ref(e){return ck(this.storage.ref(e))}refFromURL(e){return ck(this.storage.refFromURL(e))}upload(e,i,r){return ck(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Wi.Dh),o.LFG(Wi.xv,8),o.LFG(Pte,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Mn.HU),o.LFG(Nte,8),o.LFG(Lte,8),o.LFG(Bte,8),o.LFG(gD,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Ute=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),Hte=(()=>{class n{constructor(){Vb.Z.registerVersion("angularfire",Mn.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Vte],imports:[Ute]}),n})();const sj="@firebase/database";let vN="";function aj(n){vN=n}class jte{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,N.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,N.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class $te{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,N.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const lj=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new jte(t)}}catch{}return new $te},H_=lj("localStorage"),bN=lj("sessionStorage"),cw=new $s.Yd("@firebase/database"),cj=function(){let n=1;return function(){return n++}}(),uj=function(n){const t=(0,N.dS)(n),e=new N.gQ;e.update(t);const i=e.digest();return N.US.encodeByteArray(i)},sE=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=sE.apply(null,i):t+="object"==typeof i?(0,N.Wl)(i):i,t+=" "}return t};let z_=null,dj=!0;const hj=function(n,t){(0,N.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(cw.logLevel=$s.in.VERBOSE,z_=cw.log.bind(cw),t&&bN.set("logging_enabled",!0)):"function"==typeof n?z_=n:(z_=null,bN.remove("logging_enabled"))},ls=function(...n){if(!0===dj&&(dj=!1,null===z_&&!0===bN.get("logging_enabled")&&hj(!0)),z_){const t=sE.apply(null,n);z_(t)}},oE=function(n){return function(...t){ls(n,...t)}},wN=function(...n){const t="FIREBASE INTERNAL ERROR: "+sE(...n);cw.error(t)},Gu=function(...n){const t=`FIREBASE FATAL ERROR: ${sE(...n)}`;throw cw.error(t),new Error(t)},Js=function(...n){const t="FIREBASE WARNING: "+sE(...n);cw.warn(t)},uk=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Yp="[MIN_NAME]",Sh="[MAX_NAME]",G_=function(n,t){if(n===t)return 0;if(n===Yp||t===Sh)return-1;if(t===Yp||n===Sh)return 1;{const e=mj(n),i=mj(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},Wte=function(n,t){return n===t?0:n<t?-1:1},aE=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,N.Wl)(t))},CN=function(n){if("object"!=typeof n||null===n)return(0,N.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,N.Wl)(t[i]),e+=":",e+=CN(n[t[i]]);return e+="}",e},fj=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function cs(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const pj=function(n){(0,N.hu)(!uk(n),"Invalid JSON number");const i=1023;let r,s,c,d,p;0===n?(s=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=d+i,c=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(s=0,c=Math.round(n/Math.pow(2,-1074))));const y=[];for(p=52;p;p-=1)y.push(c%2?1:0),c=Math.floor(c/2);for(p=11;p;p-=1)y.push(s%2?1:0),s=Math.floor(s/2);y.push(r?1:0),y.reverse();const w=y.join("");let E="";for(p=0;p<64;p+=8){let T=parseInt(w.substr(p,8),2).toString(16);1===T.length&&(T="0"+T),E+=T}return E.toLowerCase()},Xte=new RegExp("^-?(0*)\\d{1,10}$"),mj=function(n){if(Xte.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},uw=function(n){try{n()}catch(t){setTimeout(()=>{throw Js("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},lE=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class nne{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Js(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ine{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(ls("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Js(t)}}let cE=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const bj=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,xj="websocket",Dj="long_polling";class DN{constructor(t,e,i,r,s=!1,c="",d=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=H_.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&H_.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Ej(n,t,e){let i;if((0,N.hu)("string"==typeof t,"typeof type must == string"),(0,N.hu)("object"==typeof e,"typeof params must == object"),t===xj)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==Dj)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function rne(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return cs(e,(s,c)=>{r.push(s+"="+c)}),i+r.join("&")}class sne{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,N.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,N.p$)(this.counters_)}}const EN={},SN={};function AN(n){const t=n.toString();return EN[t]||(EN[t]=new sne),EN[t]}class ane{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&uw(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Wp{constructor(t,e,i,r,s,c,d){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=oE(t),this.stats_=AN(e),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),Ej(e,Dj,p))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new ane(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,N.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new IN((...s)=>{const[c,d,p,y,w]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=d,this.password=p;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[c,d]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&bj.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Wp.forceAllow_=!0}static forceDisallow(){Wp.forceDisallow_=!0}static isAvailable(){return!((0,N.Yr)()||!Wp.forceAllow_&&(Wp.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,N.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,N.h$)(e),r=fj(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,N.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,N.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class IN{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,N.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=cj(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=IN.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){ls("frame writing exception"),d.stack&&ls(d.stack),ls(d)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||ls("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,N.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{ls("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let hk=null;typeof MozWebSocket<"u"?hk=MozWebSocket:typeof WebSocket<"u"&&(hk=WebSocket);let dw=(()=>{class n{constructor(e,i,r,s,c,d,p){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=oE(this.connId),this.stats_=AN(i),this.connURL=n.connectionURL_(i,d,p,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,s,c){const d={v:"5"};return!(0,N.Yr)()&&typeof location<"u"&&location.hostname&&bj.test(location.hostname)&&(d.r="f"),i&&(d.s=i),r&&(d.ls=r),s&&(d.ac=s),c&&(d.p=c),Ej(e,xj,d)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,H_.set("previous_websocket_failure",!0);try{let r;if((0,N.Yr)()){r={headers:{"User-Agent":`Firebase/5/${vN}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,d=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;d&&(r.proxy={origin:d})}this.mySock=new hk(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==hk&&!n.forceDisallow_}static previouslyFailed(){return H_.isInMemoryStorage||!0===H_.get("previous_websocket_failure")}markConnectionHealthy(){H_.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,N.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,N.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,N.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=fj(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),Rj=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Wp,dw]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=dw&&dw.isAvailable();let r=i&&!dw.previouslyFailed();if(e.webSocketOnly&&(i||Js("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[dw];else{const s=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&s.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class Vj{constructor(t,e,i,r,s,c,d,p,y,w){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=p,this.onKill_=y,this.lastSessionId=w,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=oE("c:"+this.id+":"),this.transportManager_=new Rj(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=lE(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=aE("t",t),i=aE("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=aE("t",t),i=aE("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=aE("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?wN("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):wN("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Js("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),lE(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):lE(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(H_.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Uj{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class Hj{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,N.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(t){(0,N.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class fk extends Hj{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,N.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new fk}getInitialEvent(t){return(0,N.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Yn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function On(){return new Yn("")}function hn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Zp(n){return n.pieces_.length-n.pieceNum_}function mi(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Yn(n.pieces_,t)}function TN(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function uE(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function jj(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Yn(t,0)}function zi(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Yn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Yn(e,0)}function fn(n){return n.pieceNum_>=n.pieces_.length}function To(n,t){const e=hn(n),i=hn(t);if(null===e)return t;if(e===i)return To(mi(n),mi(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Mne(n,t){const e=uE(n,0),i=uE(t,0);for(let r=0;r<e.length&&r<i.length;r++){const s=G_(e[r],i[r]);if(0!==s)return s}return e.length===i.length?0:e.length<i.length?-1:1}function kN(n,t){if(Zp(n)!==Zp(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function pl(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Zp(n)>Zp(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class Tne{constructor(t,e){this.errorPrefix_=e,this.parts_=uE(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,N.ug)(this.parts_[i]);$j(this)}}function $j(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+j_(n))}function j_(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class RN extends Hj{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new RN}getInitialEvent(t){return(0,N.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const dE=1e3;let mk,$_=(()=>{class n extends Uj{constructor(e,i,r,s,c,d,p,y){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=p,this.authOverride_=y,this.id=n.nextPersistentConnectionId_++,this.log_=oE("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=dE,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y&&!(0,N.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");RN.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&fk.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const s=++this.requestNumber_,c={r:s,a:e,b:i};this.log_((0,N.Wl)(c)),(0,N.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const i=new N.BH,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:d=>{const p=d.d;"ok"===d.s?i.resolve(p):i.reject(p)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,s){this.initConnection_();const c=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),(0,N.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,N.hu)(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:i,query:e,tag:r};this.listens.get(d).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const c={p:r};e.tag&&(c.q=i._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest("q",c,p=>{const y=p.d,w=p.s;n.warnOnListenWarnings_(y,i),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",p),"ok"!==w&&this.removeListen_(r,s),e.onComplete&&e.onComplete(w,y))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,N.r3)(e,"w")){const r=(0,N.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();Js(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,N.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,N.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const c=s.s,d=s.d||"error";this.authToken_===e&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,N.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,i)}sendUnlisten_(e,i,r,s){this.log_("Unlisten on "+e+" for "+i);const c={p:e};s&&(c.q=r,c.t=s),this.sendRequest("n",c)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,s){const c={p:i,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,d=>{s&&setTimeout(()=>{s(d.s,d.d)},Math.floor(0))})}put(e,i,r,s){this.putInternal("p",e,i,r,s)}merge(e,i,r,s){this.putInternal("m",e,i,r,s)}putInternal(e,i,r,s,c){this.initConnection_();const d={p:i,d:r};void 0!==c&&(d.h=c),this.outstandingPuts_.push({action:e,request:d,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(c.s,c.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,N.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):wN("Unrecognized action received from server: "+(0,N.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,N.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=dE,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=dE,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=dE),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,_e.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),c=e.id+":"+n.nextConnectionId_++,d=e.lastSessionId;let p=!1,y=null;const w=function(){y?y.close():(p=!0,s())};e.realtime_={close:w,sendRequest:function(F){(0,N.hu)(y,"sendRequest call when we're not connected not allowed."),y.sendRequest(F)}};const T=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[F,B]=yield Promise.all([e.authTokenProvider_.getToken(T),e.appCheckTokenProvider_.getToken(T)]);p?ls("getToken() completed but was canceled"):(ls("getToken() completed. Creating connection."),e.authToken_=F&&F.accessToken,e.appCheckToken_=B&&B.token,y=new Vj(c,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,s,$=>{Js($+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},d))}catch(F){e.log_("Failed to get token: "+F),p||(e.repoInfo_.nodeAdmin&&Js(F),w())}}})()}interrupt(e){ls("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ls("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,N.xb)(this.interruptReasons_)&&(this.reconnectDelay_=dE,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(c=>CN(c)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,i){const r=new Yn(e).toString();let s;if(this.listens.has(r)){const c=this.listens.get(r);s=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,i){ls("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){ls("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,N.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+vN.replace(/\./g,"-")]=1,(0,N.uI)()?e["framework.cordova"]=1:(0,N.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=fk.getInstance().currentlyOnline();return(0,N.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class _n{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new _n(t,e)}}class pk{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new _n(Yp,t),r=new _n(Yp,e);return 0!==this.compare(i,r)}minPost(){return _n.MIN}}class Wj extends pk{static get __EMPTY_NODE(){return mk}static set __EMPTY_NODE(t){mk=t}compare(t,e){return G_(t.name,e.name)}isDefinedOn(t){throw(0,N.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return _n.MIN}maxPost(){return new _n(Sh,mk)}makePost(t,e){return(0,N.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new _n(t,mk)}toString(){return".key"}}const ju=new Wj;class gk{constructor(t,e,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(c=e?i(t.key,e):1,r&&(c*=-1),c<0)t=this.isReverse_?t.left:t.right;else{if(0===c){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let FN,yc=(()=>{class n{constructor(e,i,r,s,c){this.key=e,this.value=i,this.color=r??n.RED,this.left=s??Xo.EMPTY_NODE,this.right=c??Xo.EMPTY_NODE}copy(e,i,r,s,c){return new n(e??this.key,i??this.value,r??this.color,s??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let s=this;const c=r(e,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(e,i,r),null):0===c?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Xo.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,s;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Xo.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Xo{constructor(t,e=Xo.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Xo(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,yc.BLACK,null,null))}remove(t){return new Xo(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,yc.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new gk(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new gk(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new gk(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new gk(this.root_,null,this.comparator_,!0,t)}}function Bne(n,t){return G_(n.name,t.name)}function ON(n,t){return G_(n,t)}Xo.EMPTY_NODE=new class Lne{copy(t,e,i,r,s){return this}insert(t,e,i){return new yc(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Zj=function(n){return"number"==typeof n?"number:"+pj(n):"string:"+n},Kj=function(n){if(n.isLeafNode()){const t=n.val();(0,N.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,N.r3)(t,".sv"),"Priority must be a string or number.")}else(0,N.hu)(n===FN||n.isEmpty(),"priority of unexpected type.");(0,N.hu)(n===FN||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Qj,Xj,Jj,hw=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,N.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Kj(this.priorityNode_)}static set __childrenNodeConstructor(e){Qj=e}static get __childrenNodeConstructor(){return Qj}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return fn(e)?this:".priority"===hn(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=hn(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,N.hu)(".priority"!==r||1===Zp(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(mi(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Zj(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?pj(this.value_):this.value_,this.lazyHash_=uj(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,N.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,N.hu)(s>=0,"Unknown leaf type: "+i),(0,N.hu)(c>=0,"Unknown leaf type: "+r),s===c?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-s}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Ci=new class zne extends pk{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),s=i.compareTo(r);return 0===s?G_(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return _n.MIN}maxPost(){return new _n(Sh,new hw("[PRIORITY-POST]",Jj))}makePost(t,e){const i=Xj(t);return new _n(e,new hw("[PRIORITY-POST]",i))}toString(){return".priority"}},Gne=Math.log(2);class jne{constructor(t){this.count=parseInt(Math.log(t+1)/Gne,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const _k=function(n,t,e,i){n.sort(t);const r=function(p,y){const w=y-p;let E,T;if(0===w)return null;if(1===w)return E=n[p],T=e?e(E):E,new yc(T,E.node,yc.BLACK,null,null);{const F=parseInt(w/2,10)+p,B=r(p,F),$=r(F+1,y);return E=n[F],T=e?e(E):E,new yc(T,E.node,yc.BLACK,B,$)}},d=function(p){let y=null,w=null,E=n.length;const T=function(B,$){const K=E-B,De=E;E-=B;const ze=r(K+1,De),Ge=n[K],$e=e?e(Ge):Ge;F(new yc($e,Ge.node,$,null,ze))},F=function(B){y?(y.left=B,y=B):(w=B,y=B)};for(let B=0;B<p.count;++B){const $=p.nextBitIsOne(),K=Math.pow(2,p.count-(B+1));$?T(K,yc.BLACK):(T(K,yc.BLACK),T(K,yc.RED))}return w}(new jne(n.length));return new Xo(i||t,d)};let PN;const fw={};class Ah{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,N.hu)(fw&&Ci,"ChildrenNode.ts has not been loaded"),PN=PN||new Ah({".priority":fw},{".priority":Ci}),PN}get(t){const e=(0,N.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Xo?e:null}hasIndex(t){return(0,N.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,N.hu)(t!==ju,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=e.getIterator(_n.Wrap);let d,c=s.getNext();for(;c;)r=r||t.isDefinedOn(c.node),i.push(c),c=s.getNext();d=r?_k(i,t.getCompare()):fw;const p=t.toString(),y=Object.assign({},this.indexSet_);y[p]=t;const w=Object.assign({},this.indexes_);return w[p]=d,new Ah(w,y)}addToIndexes(t,e){const i=(0,N.UI)(this.indexes_,(r,s)=>{const c=(0,N.DV)(this.indexSet_,s);if((0,N.hu)(c,"Missing index implementation for "+s),r===fw){if(c.isDefinedOn(t.node)){const d=[],p=e.getIterator(_n.Wrap);let y=p.getNext();for(;y;)y.name!==t.name&&d.push(y),y=p.getNext();return d.push(t),_k(d,c.getCompare())}return fw}{const d=e.get(t.name);let p=r;return d&&(p=p.remove(new _n(t.name,d))),p.insert(t,t.node)}});return new Ah(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,N.UI)(this.indexes_,r=>{if(r===fw)return r;{const s=e.get(t.name);return s?r.remove(new _n(t.name,s)):r}});return new Ah(i,this.indexSet_)}}let hE,tn=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Kj(this.priorityNode_),this.children_.isEmpty()&&(0,N.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return hE||(hE=new n(new Xo(ON),null,Ah.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||hE}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?hE:i}}getChild(e){const i=hn(e);return null===i?this:this.getImmediateChild(i).getChild(mi(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,N.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new _n(e,i);let s,c;i.isEmpty()?(s=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,i),c=this.indexMap_.addToIndexes(r,this.children_));const d=s.isEmpty()?hE:this.priorityNode_;return new n(s,d,c)}}updateChild(e,i){const r=hn(e);if(null===r)return i;{(0,N.hu)(".priority"!==hn(e)||1===Zp(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(mi(e),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,s=0,c=!0;if(this.forEachChild(Ci,(d,p)=>{i[d]=p.val(e),r++,c&&n.INTEGER_REGEXP_.test(d)?s=Math.max(s,Number(d)):c=!1}),!e&&c&&s<2*r){const d=[];for(const p in i)d[p]=i[p];return d}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Zj(this.getPriority().val())+":"),this.forEachChild(Ci,(i,r)=>{const s=r.hash();""!==s&&(e+=":"+i+":"+s)}),this.lazyHash_=""===e?"":uj(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const s=this.resolveIndex_(r);if(s){const c=s.getPredecessorKey(new _n(e,i));return c?c.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new _n(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new _n(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,_n.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,e)<0;)s.getNext(),c=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,_n.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,e)>0;)s.getNext(),c=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===fE?-1:0}withIndex(e){if(e===ju||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===ju||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Ci),s=i.getIterator(Ci);let c=r.getNext(),d=s.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=r.getNext(),d=s.getNext()}return null===c&&null===d}return!1}return!1}}resolveIndex_(e){return e===ju?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const fE=new class $ne extends tn{constructor(){super(new Xo(ON),tn.EMPTY_NODE,Ah.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return tn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(_n,{MIN:{value:new _n(Yp,tn.EMPTY_NODE)},MAX:{value:new _n(Sh,fE)}}),Wj.__EMPTY_NODE=tn.EMPTY_NODE,hw.__childrenNodeConstructor=tn,function Vne(n){FN=n}(fE),function Hne(n){Jj=n}(fE);const qne=!0;function er(n,t=null){if(null===n)return tn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,N.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new hw(n,er(t));if(n instanceof Array||!qne){let e=tn.EMPTY_NODE;return cs(n,(i,r)=>{if((0,N.r3)(n,i)&&"."!==i.substring(0,1)){const s=er(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(i,s))}}),e.updatePriority(er(t))}{const e=[];let i=!1;if(cs(n,(c,d)=>{if("."!==c.substring(0,1)){const p=er(d);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),e.push(new _n(c,p)))}}),0===e.length)return tn.EMPTY_NODE;const s=_k(e,Bne,c=>c.name,ON);if(i){const c=_k(e,Ci.getCompare());return new tn(s,er(t),new Ah({".priority":c},{".priority":Ci}))}return new tn(s,er(t),Ah.Default)}}!function Une(n){Xj=n}(er);class NN extends pk{constructor(t){super(),this.indexPath_=t,(0,N.hu)(!fn(t)&&".priority"!==hn(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),s=i.compareTo(r);return 0===s?G_(t.name,e.name):s}makePost(t,e){const i=er(t),r=tn.EMPTY_NODE.updateChild(this.indexPath_,i);return new _n(e,r)}maxPost(){const t=tn.EMPTY_NODE.updateChild(this.indexPath_,fE);return new _n(Sh,t)}toString(){return uE(this.indexPath_,0).join("/")}}const LN=new class Yne extends pk{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?G_(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return _n.MIN}maxPost(){return _n.MAX}makePost(t,e){const i=er(t);return new _n(e,i)}toString(){return".value"}};function e3(n){return{type:"value",snapshotNode:n}}function pw(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function pE(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function mE(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class BN{constructor(t){this.index_=t}updateChild(t,e,i,r,s,c){(0,N.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=t.getImmediateChild(e);return d.getChild(r).equals(i.getChild(r))&&d.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?t.hasChild(e)?c.trackChildChange(pE(e,d)):(0,N.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(pw(e,i)):c.trackChildChange(mE(e,i,d))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(Ci,(r,s)=>{e.hasChild(r)||i.trackChildChange(pE(r,s))}),e.isLeafNode()||e.forEachChild(Ci,(r,s)=>{if(t.hasChild(r)){const c=t.getImmediateChild(r);c.equals(s)||i.trackChildChange(mE(r,s,c))}else i.trackChildChange(pw(r,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?tn.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class gE{constructor(t){this.indexedFilter_=new BN(t.getIndex()),this.index_=t.getIndex(),this.startPost_=gE.getStartPost_(t),this.endPost_=gE.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,s,c){return this.matches(new _n(e,i))||(i=tn.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,s,c)}updateFullNode(t,e,i){e.isLeafNode()&&(e=tn.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(tn.EMPTY_NODE);const s=this;return e.forEachChild(Ci,(c,d)=>{s.matches(new _n(c,d))||(r=r.updateImmediateChild(c,tn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Zne{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new gE(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,s,c){return this.rangedFilter_.matches(new _n(e,i))||(i=tn.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,s,c):this.fullLimitUpdateChild_(t,e,i,s,c)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=tn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;r=tn.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;s.hasNext()&&c<this.limit_;){const d=s.getNext();if(this.withinDirectionalStart(d)){if(!this.withinDirectionalEnd(d))break;r=r.updateImmediateChild(d.name,d.node),c++}}}else{let s;r=e.withIndex(this.index_),r=r.updatePriority(tn.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let c=0;for(;s.hasNext();){const d=s.getNext();c<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?c++:r=r.updateImmediateChild(d.name,tn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,s){let c;if(this.reverse_){const E=this.index_.getCompare();c=(T,F)=>E(F,T)}else c=this.index_.getCompare();const d=t;(0,N.hu)(d.numChildren()===this.limit_,"");const p=new _n(e,i),y=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),w=this.rangedFilter_.matches(p);if(d.hasChild(e)){const E=d.getImmediateChild(e);let T=r.getChildAfterChild(this.index_,y,this.reverse_);for(;null!=T&&(T.name===e||d.hasChild(T.name));)T=r.getChildAfterChild(this.index_,T,this.reverse_);const F=null==T?1:c(T,p);if(w&&!i.isEmpty()&&F>=0)return s?.trackChildChange(mE(e,i,E)),d.updateImmediateChild(e,i);{s?.trackChildChange(pE(e,E));const $=d.updateImmediateChild(e,tn.EMPTY_NODE);return null!=T&&this.rangedFilter_.matches(T)?(s?.trackChildChange(pw(T.name,T.node)),$.updateImmediateChild(T.name,T.node)):$}}return i.isEmpty()?t:w&&c(y,p)>=0?(null!=s&&(s.trackChildChange(pE(y.name,y.node)),s.trackChildChange(pw(e,i))),d.updateImmediateChild(e,i).updateImmediateChild(y.name,tn.EMPTY_NODE)):t}}class yk{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ci}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Yp}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Sh}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,N.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ci}copy(){const t=new yk;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function VN(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function UN(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function vk(n,t){const e=n.copy();return e.index_=t,e}function t3(n){const t={};if(n.isDefault())return t;let e;if(n.index_===Ci?e="$priority":n.index_===LN?e="$value":n.index_===ju?e="$key":((0,N.hu)(n.index_ instanceof NN,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,N.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,N.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,N.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,N.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,N.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function n3(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Ci&&(t.i=n.index_.toString()),t}class bk extends Uj{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=oE("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,N.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const c=bk.getListenId_(t,i),d={};this.listens_[c]=d;const p=t3(t._queryParams);this.restRequest_(s+".json",p,(y,w)=>{let E=w;if(404===y&&(E=null,y=null),null===y&&this.onDataUpdate_(s,E,!1,i),(0,N.DV)(this.listens_,c)===d){let T;T=y?401===y?"permission_denied":"rest_error:"+y:"ok",r(T,null)}})}unlisten(t,e){const i=bk.getListenId_(t,e);delete this.listens_[i]}get(t){const e=t3(t._queryParams),i=t._path.toString(),r=new N.BH;return this.restRequest_(i+".json",e,(s,c)=>{let d=c;404===s&&(d=null,s=null),null===s?(this.onDataUpdate_(i,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,N.xO)(e);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let p=null;if(d.status>=200&&d.status<300){try{p=(0,N.cI)(d.responseText)}catch{Js("Failed to parse JSON response for "+c+": "+d.responseText)}i(null,p)}else 401!==d.status&&404!==d.status&&Js("Got unsuccessful REST response for "+c+" Status: "+d.status),i(d.status);i=null}},d.open("GET",c,!0),d.send()})}}class tie{constructor(){this.rootNode_=tn.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function wk(){return{value:null,children:new Map}}function mw(n,t,e){if(fn(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=hn(t);n.children.has(i)||n.children.set(i,wk()),mw(n.children.get(i),t=mi(t),e)}}function HN(n,t){if(fn(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Ci,(i,r)=>{mw(n,new Yn(i),r)}),HN(n,t)}}if(n.children.size>0){const e=hn(t);return t=mi(t),n.children.has(e)&&HN(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function zN(n,t,e){null!==n.value?e(t,n.value):function nie(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{zN(r,new Yn(t.toString()+"/"+i),e)})}class iie{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&cs(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class oie{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new iie(t);const i=1e4+2e4*Math.random();lE(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;cs(t,(r,s)=>{s>0&&(0,N.r3)(this.statsToReport_,r)&&(e[r]=s,i=!0)}),i&&this.server_.reportStats(e),lE(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var $u=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}($u||{});function $N(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Ck{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=$u.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(fn(this.path)){if(null!=this.affectedTree.value)return(0,N.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Yn(t));return new Ck(On(),e,this.revert)}}return(0,N.hu)(hn(this.path)===t,"operationForChild called for unrelated child."),new Ck(mi(this.path),this.affectedTree,this.revert)}}class _E{constructor(t,e){this.source=t,this.path=e,this.type=$u.LISTEN_COMPLETE}operationForChild(t){return fn(this.path)?new _E(this.source,On()):new _E(this.source,mi(this.path))}}class q_{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=$u.OVERWRITE}operationForChild(t){return fn(this.path)?new q_(this.source,On(),this.snap.getImmediateChild(t)):new q_(this.source,mi(this.path),this.snap)}}class gw{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=$u.MERGE}operationForChild(t){if(fn(this.path)){const e=this.children.subtree(new Yn(t));return e.isEmpty()?null:e.value?new q_(this.source,On(),e.value):new gw(this.source,On(),e)}return(0,N.hu)(hn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new gw(this.source,mi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Kp{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(fn(t))return this.isFullyInitialized()&&!this.filtered_;const e=hn(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class aie{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function yE(n,t,e,i,r,s){const c=i.filter(d=>d.type===e);c.sort((d,p)=>function uie(n,t,e){if(null==t.childName||null==e.childName)throw(0,N.g5)("Should only compare child_ events.");const i=new _n(t.childName,t.snapshotNode),r=new _n(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,d,p)),c.forEach(d=>{const p=function cie(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,d,s);r.forEach(y=>{y.respondsTo(d.type)&&t.push(y.createEvent(p,n.query_))})})}function xk(n,t){return{eventCache:n,serverCache:t}}function vE(n,t,e,i){return xk(new Kp(t,e,i),n.serverCache)}function s3(n,t,e,i){return xk(n.eventCache,new Kp(t,e,i))}function Dk(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Y_(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let qN;class xi{constructor(t,e=(()=>(qN||(qN=new Xo(Wte)),qN))()){this.value=t,this.children=e}static fromObject(t){let e=new xi(null);return cs(t,(i,r)=>{e=e.set(new Yn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:On(),value:this.value};if(fn(t))return null;{const i=hn(t),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(mi(t),e);return null!=s?{path:zi(new Yn(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(fn(t))return this;{const e=hn(t),i=this.children.get(e);return null!==i?i.subtree(mi(t)):new xi(null)}}set(t,e){if(fn(t))return new xi(e,this.children);{const i=hn(t),s=(this.children.get(i)||new xi(null)).set(mi(t),e),c=this.children.insert(i,s);return new xi(this.value,c)}}remove(t){if(fn(t))return this.children.isEmpty()?new xi(null):new xi(null,this.children);{const e=hn(t),i=this.children.get(e);if(i){const r=i.remove(mi(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new xi(null):new xi(this.value,s)}return this}}get(t){if(fn(t))return this.value;{const e=hn(t),i=this.children.get(e);return i?i.get(mi(t)):null}}setTree(t,e){if(fn(t))return e;{const i=hn(t),s=(this.children.get(i)||new xi(null)).setTree(mi(t),e);let c;return c=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new xi(this.value,c)}}fold(t){return this.fold_(On(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(zi(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,On(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(fn(t))return null;{const s=hn(t),c=this.children.get(s);return c?c.findOnPath_(mi(t),zi(e,s),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,On(),e)}foreachOnPath_(t,e,i){if(fn(t))return this;{this.value&&i(e,this.value);const r=hn(t),s=this.children.get(r);return s?s.foreachOnPath_(mi(t),zi(e,r),i):new xi(null)}}foreach(t){this.foreach_(On(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(zi(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class vc{constructor(t){this.writeTree_=t}static empty(){return new vc(new xi(null))}}function bE(n,t,e){if(fn(t))return new vc(new xi(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const c=To(r,t);return s=s.updateChild(c,e),new vc(n.writeTree_.set(r,s))}{const r=new xi(e),s=n.writeTree_.setTree(t,r);return new vc(s)}}}function YN(n,t,e){let i=n;return cs(e,(r,s)=>{i=bE(i,zi(t,r),s)}),i}function o3(n,t){if(fn(t))return vc.empty();{const e=n.writeTree_.setTree(t,new xi(null));return new vc(e)}}function WN(n,t){return null!=W_(n,t)}function W_(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(To(e.path,t)):null}function a3(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Ci,(i,r)=>{t.push(new _n(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new _n(i,r.value))}),t}function Qp(n,t){if(fn(t))return n;{const e=W_(n,t);return new vc(null!=e?new xi(e):n.writeTree_.subtree(t))}}function ZN(n){return n.writeTree_.isEmpty()}function _w(n,t){return l3(On(),n.writeTree_,t)}function l3(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?((0,N.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):e=l3(zi(n,r),s,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(zi(n,".priority"),i)),e}}function Ek(n,t){return f3(t,n)}function gie(n,t){if(n.snap)return pl(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&pl(zi(n.path,e),t))return!0;return!1}function yie(n){return n.visible}function c3(n,t,e){let i=vc.empty();for(let r=0;r<n.length;++r){const s=n[r];if(t(s)){const c=s.path;let d;if(s.snap)pl(e,c)?(d=To(e,c),i=bE(i,d,s.snap)):pl(c,e)&&(d=To(c,e),i=bE(i,On(),s.snap.getChild(d)));else{if(!s.children)throw(0,N.g5)("WriteRecord should have .snap or .children");if(pl(e,c))d=To(e,c),i=YN(i,d,s.children);else if(pl(c,e))if(d=To(c,e),fn(d))i=YN(i,On(),s.children);else{const p=(0,N.DV)(s.children,hn(d));if(p){const y=p.getChild(mi(d));i=bE(i,On(),y)}}}}}return i}function u3(n,t,e,i,r){if(i||r){const s=Qp(n.visibleWrites,t);return!r&&ZN(s)?e:r||null!=e||WN(s,On())?_w(c3(n.allWrites,function(y){return(y.visible||r)&&(!i||!~i.indexOf(y.writeId))&&(pl(y.path,t)||pl(t,y.path))},t),e||tn.EMPTY_NODE):null}{const s=W_(n.visibleWrites,t);if(null!=s)return s;{const c=Qp(n.visibleWrites,t);return ZN(c)?e:null!=e||WN(c,On())?_w(c,e||tn.EMPTY_NODE):null}}}function Sk(n,t,e,i){return u3(n.writeTree,n.treePath,t,e,i)}function KN(n,t){return function vie(n,t,e){let i=tn.EMPTY_NODE;const r=W_(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Ci,(s,c)=>{i=i.updateImmediateChild(s,c)}),i;if(e){const s=Qp(n.visibleWrites,t);return e.forEachChild(Ci,(c,d)=>{const p=_w(Qp(s,new Yn(c)),d);i=i.updateImmediateChild(c,p)}),a3(s).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return a3(Qp(n.visibleWrites,t)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,t)}function d3(n,t,e,i){return function bie(n,t,e,i,r){(0,N.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=zi(t,e);if(WN(n.visibleWrites,s))return null;{const c=Qp(n.visibleWrites,s);return ZN(c)?r.getChild(e):_w(c,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function Ak(n,t){return function Cie(n,t){return W_(n.visibleWrites,t)}(n.writeTree,zi(n.treePath,t))}function QN(n,t,e){return function wie(n,t,e,i){const r=zi(t,e),s=W_(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(e)?_w(Qp(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function h3(n,t){return f3(zi(n.treePath,t),n.writeTree)}function f3(n,t){return{treePath:n,writeTree:t}}class Sie{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,N.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,N.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(i,mE(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(i,pE(i,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(i,pw(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,N.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,mE(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const p3=new class Aie{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class XN{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Kp(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return QN(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Y_(this.viewCache_),s=function Eie(n,t,e,i,r,s){return function xie(n,t,e,i,r,s,c){let d;const p=Qp(n.visibleWrites,t),y=W_(p,On());if(null!=y)d=y;else{if(null==e)return[];d=_w(p,e)}if(d=d.withIndex(c),d.isEmpty()||d.isLeafNode())return[];{const w=[],E=c.getCompare(),T=s?d.getReverseIteratorFrom(i,c):d.getIteratorFrom(i,c);let F=T.getNext();for(;F&&w.length<r;)0!==E(F,i)&&w.push(F),F=T.getNext();return w}}(n.writeTree,n.treePath,t,e,i,r,s)}(this.writes_,r,e,1,i,t);return 0===s.length?null:s[0]}}function m3(n,t,e,i,r,s){const c=t.eventCache;if(null!=Ak(i,e))return t;{let d,p;if(fn(e))if((0,N.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const y=Y_(t),E=KN(i,y instanceof tn?y:tn.EMPTY_NODE);d=n.filter.updateFullNode(t.eventCache.getNode(),E,s)}else{const y=Sk(i,Y_(t));d=n.filter.updateFullNode(t.eventCache.getNode(),y,s)}else{const y=hn(e);if(".priority"===y){(0,N.hu)(1===Zp(e),"Can't have a priority with additional path components");const w=c.getNode();p=t.serverCache.getNode();const E=d3(i,e,w,p);d=null!=E?n.filter.updatePriority(w,E):c.getNode()}else{const w=mi(e);let E;if(c.isCompleteForChild(y)){p=t.serverCache.getNode();const T=d3(i,e,c.getNode(),p);E=null!=T?c.getNode().getImmediateChild(y).updateChild(w,T):c.getNode().getImmediateChild(y)}else E=QN(i,y,t.serverCache);d=null!=E?n.filter.updateChild(c.getNode(),y,E,w,r,s):c.getNode()}}return vE(t,d,c.isFullyInitialized()||fn(e),n.filter.filtersNodes())}}function Ik(n,t,e,i,r,s,c,d){const p=t.serverCache;let y;const w=c?n.filter:n.filter.getIndexedFilter();if(fn(e))y=w.updateFullNode(p.getNode(),i,null);else if(w.filtersNodes()&&!p.isFiltered()){const F=p.getNode().updateChild(e,i);y=w.updateFullNode(p.getNode(),F,null)}else{const F=hn(e);if(!p.isCompleteForPath(e)&&Zp(e)>1)return t;const B=mi(e),K=p.getNode().getImmediateChild(F).updateChild(B,i);y=".priority"===F?w.updatePriority(p.getNode(),K):w.updateChild(p.getNode(),F,K,B,p3,null)}const E=s3(t,y,p.isFullyInitialized()||fn(e),w.filtersNodes());return m3(n,E,e,r,new XN(r,E,s),d)}function JN(n,t,e,i,r,s,c){const d=t.eventCache;let p,y;const w=new XN(r,t,s);if(fn(e))y=n.filter.updateFullNode(t.eventCache.getNode(),i,c),p=vE(t,y,!0,n.filter.filtersNodes());else{const E=hn(e);if(".priority"===E)y=n.filter.updatePriority(t.eventCache.getNode(),i),p=vE(t,y,d.isFullyInitialized(),d.isFiltered());else{const T=mi(e),F=d.getNode().getImmediateChild(E);let B;if(fn(T))B=i;else{const $=w.getCompleteChild(E);B=null!=$?".priority"===TN(T)&&$.getChild(jj(T)).isEmpty()?$:$.updateChild(T,i):tn.EMPTY_NODE}p=F.equals(B)?t:vE(t,n.filter.updateChild(d.getNode(),E,B,T,w,c),d.isFullyInitialized(),n.filter.filtersNodes())}}return p}function g3(n,t){return n.eventCache.isCompleteForChild(t)}function _3(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function eL(n,t,e,i,r,s,c,d){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let y,p=t;y=fn(e)?i:new xi(null).setTree(e,i);const w=t.serverCache.getNode();return y.children.inorderTraversal((E,T)=>{if(w.hasChild(E)){const B=_3(0,t.serverCache.getNode().getImmediateChild(E),T);p=Ik(n,p,new Yn(E),B,r,s,c,d)}}),y.children.inorderTraversal((E,T)=>{const F=!t.serverCache.isCompleteForChild(E)&&null===T.value;if(!w.hasChild(E)&&!F){const $=_3(0,t.serverCache.getNode().getImmediateChild(E),T);p=Ik(n,p,new Yn(E),$,r,s,c,d)}}),p}class Nie{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new BN(i.getIndex()),s=function Kne(n){return n.loadsAllData()?new BN(n.getIndex()):n.hasLimit()?new Zne(n):new gE(n)}(i);this.processor_=function Iie(n){return{filter:n}}(s);const c=e.serverCache,d=e.eventCache,p=r.updateFullNode(tn.EMPTY_NODE,c.getNode(),null),y=s.updateFullNode(tn.EMPTY_NODE,d.getNode(),null),w=new Kp(p,c.isFullyInitialized(),r.filtersNodes()),E=new Kp(y,d.isFullyInitialized(),s.filtersNodes());this.viewCache_=xk(E,w),this.eventGenerator_=new aie(this.query_)}get query(){return this.query_}}function Vie(n,t){const e=Y_(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!fn(t)&&!e.getImmediateChild(hn(t)).isEmpty())?e.getChild(t):null}function y3(n){return 0===n.eventRegistrations_.length}function v3(n,t,e){const i=[];if(e){(0,N.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const c=s.createCancelEvent(e,r);c&&i.push(c)})}if(t){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const c=n.eventRegistrations_[s];if(c.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function b3(n,t,e,i){t.type===$u.MERGE&&null!==t.source.queryId&&((0,N.hu)(Y_(n.viewCache_),"We should always have a full cache before handling merges"),(0,N.hu)(Dk(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function Tie(n,t,e,i,r){const s=new Sie;let c,d;if(e.type===$u.OVERWRITE){const y=e;y.source.fromUser?c=JN(n,t,y.path,y.snap,i,r,s):((0,N.hu)(y.source.fromServer,"Unknown source."),d=y.source.tagged||t.serverCache.isFiltered()&&!fn(y.path),c=Ik(n,t,y.path,y.snap,i,r,d,s))}else if(e.type===$u.MERGE){const y=e;y.source.fromUser?c=function Rie(n,t,e,i,r,s,c){let d=t;return i.foreach((p,y)=>{const w=zi(e,p);g3(t,hn(w))&&(d=JN(n,d,w,y,r,s,c))}),i.foreach((p,y)=>{const w=zi(e,p);g3(t,hn(w))||(d=JN(n,d,w,y,r,s,c))}),d}(n,t,y.path,y.children,i,r,s):((0,N.hu)(y.source.fromServer,"Unknown source."),d=y.source.tagged||t.serverCache.isFiltered(),c=eL(n,t,y.path,y.children,i,r,d,s))}else if(e.type===$u.ACK_USER_WRITE){const y=e;c=y.revert?function Pie(n,t,e,i,r,s){let c;if(null!=Ak(i,e))return t;{const d=new XN(i,t,r),p=t.eventCache.getNode();let y;if(fn(e)||".priority"===hn(e)){let w;if(t.serverCache.isFullyInitialized())w=Sk(i,Y_(t));else{const E=t.serverCache.getNode();(0,N.hu)(E instanceof tn,"serverChildren would be complete if leaf node"),w=KN(i,E)}y=n.filter.updateFullNode(p,w,s)}else{const w=hn(e);let E=QN(i,w,t.serverCache);null==E&&t.serverCache.isCompleteForChild(w)&&(E=p.getImmediateChild(w)),y=null!=E?n.filter.updateChild(p,w,E,mi(e),d,s):t.eventCache.getNode().hasChild(w)?n.filter.updateChild(p,w,tn.EMPTY_NODE,mi(e),d,s):p,y.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=Sk(i,Y_(t)),c.isLeafNode()&&(y=n.filter.updateFullNode(y,c,s)))}return c=t.serverCache.isFullyInitialized()||null!=Ak(i,On()),vE(t,y,c,n.filter.filtersNodes())}}(n,t,y.path,i,r,s):function Oie(n,t,e,i,r,s,c){if(null!=Ak(r,e))return t;const d=t.serverCache.isFiltered(),p=t.serverCache;if(null!=i.value){if(fn(e)&&p.isFullyInitialized()||p.isCompleteForPath(e))return Ik(n,t,e,p.getNode().getChild(e),r,s,d,c);if(fn(e)){let y=new xi(null);return p.getNode().forEachChild(ju,(w,E)=>{y=y.set(new Yn(w),E)}),eL(n,t,e,y,r,s,d,c)}return t}{let y=new xi(null);return i.foreach((w,E)=>{const T=zi(e,w);p.isCompleteForPath(T)&&(y=y.set(w,p.getNode().getChild(T)))}),eL(n,t,e,y,r,s,d,c)}}(n,t,y.path,y.affectedTree,i,r,s)}else{if(e.type!==$u.LISTEN_COMPLETE)throw(0,N.g5)("Unknown operation type: "+e.type);c=function Fie(n,t,e,i,r){const s=t.serverCache;return m3(n,s3(t,s.getNode(),s.isFullyInitialized()||fn(e),s.isFiltered()),e,i,p3,r)}(n,t,e.path,i,s)}const p=s.getChanges();return function kie(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=Dk(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&e.push(e3(Dk(t)))}}(t,c,p),{viewCache:c,changes:p}}(n.processor_,r,t,e,i);return function Mie(n,t){(0,N.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,N.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,N.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,w3(n,s.changes,s.viewCache.eventCache.getNode(),null)}function w3(n,t,e,i){return function lie(n,t,e,i){const r=[],s=[];return t.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&s.push(function Wne(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(c.childName,c.snapshotNode))}),yE(n,r,"child_removed",t,i,e),yE(n,r,"child_added",t,i,e),yE(n,r,"child_moved",s,i,e),yE(n,r,"child_changed",t,i,e),yE(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let Mk,kk;class C3{constructor(){this.views=new Map}}function tL(n,t,e,i){const r=t.source.queryId;if(null!==r){const s=n.views.get(r);return(0,N.hu)(null!=s,"SyncTree gave us an op for an invalid query."),b3(s,t,e,i)}{let s=[];for(const c of n.views.values())s=s.concat(b3(c,t,e,i));return s}}function x3(n,t,e,i,r){const c=n.views.get(t._queryIdentifier);if(!c){let d=Sk(e,r?i:null),p=!1;d?p=!0:i instanceof tn?(d=KN(e,i),p=!1):(d=tn.EMPTY_NODE,p=!1);const y=xk(new Kp(d,p,!1),new Kp(i,r,!1));return new Nie(t,y)}return c}function D3(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Xp(n,t){let e=null;for(const i of n.views.values())e=e||Vie(i,t);return e}function E3(n,t){return t._queryParams.loadsAllData()?Tk(n):n.views.get(t._queryIdentifier)}function S3(n,t){return null!=E3(n,t)}function Jp(n){return null!=Tk(n)}function Tk(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Zie=1;class A3{constructor(t){this.listenProvider_=t,this.syncPointTree_=new xi(null),this.pendingWriteTree_=function Die(){return{visibleWrites:vc.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function nL(n,t,e,i,r){return function hie(n,t,e,i,r){(0,N.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=bE(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?yw(n,new q_({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function em(n,t,e=!1){const i=function pie(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function mie(n,t){const e=n.allWrites.findIndex(d=>d.writeId===t);(0,N.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,s=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const d=n.allWrites[c];d.visible&&(c>=e&&gie(d,i.path)?r=!1:pl(i.path,d.path)&&(s=!0)),c--}return!!r&&(s?(function _ie(n){n.visibleWrites=c3(n.allWrites,yie,On()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=o3(n.visibleWrites,i.path):cs(i.children,p=>{n.visibleWrites=o3(n.visibleWrites,zi(i.path,p))}),!0))}(n.pendingWriteTree_,t)){let s=new xi(null);return null!=i.snap?s=s.set(On(),!0):cs(i.children,c=>{s=s.set(new Yn(c),!0)}),yw(n,new Ck(i.path,s,e))}return[]}function wE(n,t,e){return yw(n,new q_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Rk(n,t,e,i,r=!1){const s=t._path,c=n.syncPointTree_.get(s);let d=[];if(c&&("default"===t._queryIdentifier||S3(c,t))){const p=function qie(n,t,e,i){const r=t._queryIdentifier,s=[];let c=[];const d=Jp(n);if("default"===r)for(const[p,y]of n.views.entries())c=c.concat(v3(y,e,i)),y3(y)&&(n.views.delete(p),y.query._queryParams.loadsAllData()||s.push(y.query));else{const p=n.views.get(r);p&&(c=c.concat(v3(p,e,i)),y3(p)&&(n.views.delete(r),p.query._queryParams.loadsAllData()||s.push(p.query)))}return d&&!Jp(n)&&s.push(new(function Gie(){return(0,N.hu)(Mk,"Reference.ts has not been loaded"),Mk}())(t._repo,t._path)),{removed:s,events:c}}(c,t,e,i);(function jie(n){return 0===n.views.size})(c)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const y=p.removed;if(d=p.events,!r){const w=-1!==y.findIndex(T=>T._queryParams.loadsAllData()),E=n.syncPointTree_.findOnPath(s,(T,F)=>Jp(F));if(w&&!E){const T=n.syncPointTree_.subtree(s);if(!T.isEmpty()){const F=function nre(n){return n.fold((t,e,i)=>{if(e&&Jp(e))return[Tk(e)];{let r=[];return e&&(r=D3(e)),cs(i,(s,c)=>{r=r.concat(c)}),r}})}(T);for(let B=0;B<F.length;++B){const $=F[B],K=$.query,De=k3(n,$);n.listenProvider_.startListening(xE(K),CE(n,K),De.hashFn,De.onComplete)}}}!E&&y.length>0&&!i&&(w?n.listenProvider_.stopListening(xE(t),null):y.forEach(T=>{const F=n.queryToTagMap.get(Fk(T));n.listenProvider_.stopListening(xE(T),F)}))}!function ire(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=Fk(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,y)}return d}function I3(n,t,e,i){const r=rL(n,i);if(null!=r){const s=sL(r),c=s.path,d=s.queryId,p=To(c,t);return oL(n,c,new q_($N(d),p,e))}return[]}function iL(n,t,e,i=!1){const r=t._path;let s=null,c=!1;n.syncPointTree_.foreachOnPath(r,(T,F)=>{const B=To(T,r);s=s||Xp(F,B),c=c||Jp(F)});let p,d=n.syncPointTree_.get(r);d?(c=c||Jp(d),s=s||Xp(d,On())):(d=new C3,n.syncPointTree_=n.syncPointTree_.set(r,d)),null!=s?p=!0:(p=!1,s=tn.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((F,B)=>{const $=Xp(B,On());$&&(s=s.updateImmediateChild(F,$))}));const y=S3(d,t);if(!y&&!t._queryParams.loadsAllData()){const T=Fk(t);(0,N.hu)(!n.queryToTagMap.has(T),"View does not exist, but we have a tag");const F=function rre(){return Zie++}();n.queryToTagMap.set(T,F),n.tagToQueryMap.set(F,T)}let E=function $ie(n,t,e,i,r,s){const c=x3(n,t,i,r,s);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,c),function Uie(n,t){n.eventRegistrations_.push(t)}(c,e),function Hie(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Ci,(s,c)=>{i.push(pw(s,c))}),e.isFullyInitialized()&&i.push(e3(e.getNode())),w3(n,i,e.getNode(),t)}(c,e)}(d,t,e,Ek(n.pendingWriteTree_,r),s,p);if(!y&&!c&&!i){const T=E3(d,t);E=E.concat(function sre(n,t,e){const i=t._path,r=CE(n,t),s=k3(n,e),c=n.listenProvider_.startListening(xE(t),r,s.hashFn,s.onComplete),d=n.syncPointTree_.subtree(i);if(r)(0,N.hu)(!Jp(d.value),"If we're adding a query, it shouldn't be shadowed");else{const p=d.fold((y,w,E)=>{if(!fn(y)&&w&&Jp(w))return[Tk(w).query];{let T=[];return w&&(T=T.concat(D3(w).map(F=>F.query))),cs(E,(F,B)=>{T=T.concat(B)}),T}});for(let y=0;y<p.length;++y){const w=p[y];n.listenProvider_.stopListening(xE(w),CE(n,w))}}return c}(n,t,T))}return E}function Ok(n,t,e){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(c,d)=>{const y=Xp(d,To(c,t));if(y)return y});return u3(r,t,s,e,!0)}function yw(n,t){return M3(t,n.syncPointTree_,null,Ek(n.pendingWriteTree_,On()))}function M3(n,t,e,i){if(fn(n.path))return T3(n,t,e,i);{const r=t.get(On());null==e&&null!=r&&(e=Xp(r,On()));let s=[];const c=hn(n.path),d=n.operationForChild(c),p=t.children.get(c);if(p&&d){const y=e?e.getImmediateChild(c):null,w=h3(i,c);s=s.concat(M3(d,p,y,w))}return r&&(s=s.concat(tL(r,n,i,e))),s}}function T3(n,t,e,i){const r=t.get(On());null==e&&null!=r&&(e=Xp(r,On()));let s=[];return t.children.inorderTraversal((c,d)=>{const p=e?e.getImmediateChild(c):null,y=h3(i,c),w=n.operationForChild(c);w&&(s=s.concat(T3(w,d,p,y)))}),r&&(s=s.concat(tL(r,n,i,e))),s}function k3(n,t){const e=t.query,i=CE(n,e);return{hashFn:()=>(function Lie(n){return n.viewCache_.serverCache.getNode()}(t)||tn.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function Jie(n,t,e){const i=rL(n,e);if(i){const r=sL(i),s=r.path,c=r.queryId,d=To(s,t);return oL(n,s,new _E($N(c),d))}return[]}(n,e._path,i):function Xie(n,t){return yw(n,new _E({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const s=function Qte(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return Rk(n,e,null,s)}}}}function CE(n,t){const e=Fk(t);return n.queryToTagMap.get(e)}function Fk(n){return n._path.toString()+"$"+n._queryIdentifier}function rL(n,t){return n.tagToQueryMap.get(t)}function sL(n){const t=n.indexOf("$");return(0,N.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Yn(n.substr(0,t))}}function oL(n,t,e){const i=n.syncPointTree_.get(t);return(0,N.hu)(i,"Missing sync point for query tag that we're tracking"),tL(i,e,Ek(n.pendingWriteTree_,t),null)}function xE(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Wie(){return(0,N.hu)(kk,"Reference.ts has not been loaded"),kk}())(n._repo,n._path):n}class aL{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new aL(e)}node(){return this.node_}}class lL{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=zi(this.path_,t);return new lL(this.syncTree_,e)}node(){return Ok(this.syncTree_,this.path_)}}const ore=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},R3=function(n,t,e){return n&&"object"==typeof n?((0,N.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?are(n[".sv"],t,e):"object"==typeof n[".sv"]?lre(n[".sv"],t):void(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},are=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,N.hu)(!1,"Unexpected server value: "+n)},lre=function(n,t,e){n.hasOwnProperty("increment")||(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,N.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,N.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},O3=function(n,t,e,i){return uL(t,new lL(e,n),i)},cL=function(n,t,e){return uL(n,new aL(t),e)};function uL(n,t,e){const i=n.getPriority().val(),r=R3(i,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const c=n,d=R3(c.getValue(),t,e);return d!==c.getValue()||r!==c.getPriority().val()?new hw(d,er(r)):n}{const c=n;return s=c,r!==c.getPriority().val()&&(s=s.updatePriority(new hw(r))),c.forEachChild(Ci,(d,p)=>{const y=uL(p,t.getImmediateChild(d),e);y!==p&&(s=s.updateImmediateChild(d,y))}),s}}class dL{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function Pk(n,t){let e=t instanceof Yn?t:new Yn(t),i=n,r=hn(e);for(;null!==r;){const s=(0,N.DV)(i.node.children,r)||{children:{},childCount:0};i=new dL(r,i,s),e=mi(e),r=hn(e)}return i}function Z_(n){return n.node.value}function hL(n,t){n.node.value=t,fL(n)}function F3(n){return n.node.childCount>0}function Nk(n,t){cs(n.node.children,(e,i)=>{t(new dL(e,n,i))})}function P3(n,t,e,i){e&&!i&&t(n),Nk(n,r=>{P3(r,t,!0,i)}),e&&i&&t(n)}function DE(n){return new Yn(null===n.parent?n.name:DE(n.parent)+"/"+n.name)}function fL(n){null!==n.parent&&function dre(n,t,e){const i=function cre(n){return void 0===Z_(n)&&!F3(n)}(e),r=(0,N.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,fL(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,fL(n))}(n.parent,n.name,n)}const hre=/[\[\].#$\/\u0000-\u001F\u007F]/,fre=/[\[\].#$\u0000-\u001F\u007F]/,pL=10485760,Lk=function(n){return"string"==typeof n&&0!==n.length&&!hre.test(n)},N3=function(n){return"string"==typeof n&&0!==n.length&&!fre.test(n)},EE=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!uk(n)||n&&"object"==typeof n&&(0,N.r3)(n,".sv")},qu=function(n,t,e,i){i&&void 0===t||SE((0,N.gK)(n,"value"),t,e)},SE=function(n,t,e){const i=e instanceof Yn?new Tne(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+j_(i));if("function"==typeof t)throw new Error(n+"contains a function "+j_(i)+" with contents = "+t.toString());if(uk(t))throw new Error(n+"contains "+t.toString()+" "+j_(i));if("string"==typeof t&&t.length>pL/3&&(0,N.ug)(t)>pL)throw new Error(n+"contains a string greater than "+pL+" utf8 bytes "+j_(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if(cs(t,(c,d)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(s=!0,!Lk(c)))throw new Error(n+" contains an invalid key ("+c+") "+j_(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function kne(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,N.ug)(t),$j(n)})(i,c),SE(n,d,i),function Rne(n){const t=n.parts_.pop();n.byteLength_-=(0,N.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+j_(i)+" in addition to actual children.")}},L3=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,N.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];cs(t,(c,d)=>{const p=new Yn(c);if(SE(r,d,zi(e,p)),".priority"===TN(p)&&!EE(d))throw new Error(r+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(p)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const s=uE(i);for(let c=0;c<s.length;c++)if((".priority"!==s[c]||c!==s.length-1)&&!Lk(s[c]))throw new Error(n+"contains an invalid key ("+s[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Mne);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&pl(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},mL=function(n,t,e){if(!e||void 0!==t){if(uk(t))throw new Error((0,N.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!EE(t))throw new Error((0,N.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},AE=function(n,t,e,i){if(!(i&&void 0===e||Lk(e)))throw new Error((0,N.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},IE=function(n,t,e,i){if(!(i&&void 0===e||N3(e)))throw new Error((0,N.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},gre=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),IE(n,t,e,i)},ml=function(n,t){if(".info"===hn(t))throw new Error(n+" failed = Can't modify data under /.info/")},B3=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Lk(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),N3(n)}(e))throw new Error((0,N.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class _re{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Bk(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null!==e&&!kN(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&n.eventLists_.push(e)}function V3(n,t,e){Bk(n,e),U3(n,i=>kN(i,t))}function Ia(n,t,e){Bk(n,e),U3(n,i=>pl(i,t)||pl(t,i))}function U3(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(yre(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function yre(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();z_&&ls("event: "+e.toString()),uw(i)}}}const H3="repo_interrupt",vre=25;class bre{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new _re,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=wk(),this.transactionQueueTree_=new dL,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function z3(n){const e=n.infoData_.getNode(new Yn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function ME(n){return ore({timestamp:z3(n)})}function G3(n,t,e,i,r){n.dataUpdateCount++;const s=new Yn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let c=[];if(r)if(i){const p=(0,N.UI)(e,y=>er(y));c=function ere(n,t,e,i){const r=rL(n,i);if(r){const s=sL(r),c=s.path,d=s.queryId,p=To(c,t),y=xi.fromObject(e);return oL(n,c,new gw($N(d),p,y))}return[]}(n.serverSyncTree_,s,p,r)}else{const p=er(e);c=I3(n.serverSyncTree_,s,p,r)}else if(i){const p=(0,N.UI)(e,y=>er(y));c=function Qie(n,t,e){const i=xi.fromObject(e);return yw(n,new gw({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,s,p)}else{const p=er(e);c=wE(n.serverSyncTree_,s,p)}let d=s;c.length>0&&(d=bw(n,s)),Ia(n.eventQueue_,d,c)}function j3(n,t){gL(n,"connected",t),!1===t&&function Ere(n){vw(n,"onDisconnectEvents");const t=ME(n),e=wk();zN(n.onDisconnect_,On(),(r,s)=>{const c=O3(r,s,n.serverSyncTree_,t);mw(e,r,c)});let i=[];zN(e,On(),(r,s)=>{i=i.concat(wE(n.serverSyncTree_,r,s));const c=bL(n,r);bw(n,c)}),n.onDisconnect_=wk(),Ia(n.eventQueue_,On(),i)}(n)}function gL(n,t,e){const i=new Yn("/.info/"+t),r=er(e);n.infoData_.updateSnapshot(i,r);const s=wE(n.infoSyncTree_,i,r);Ia(n.eventQueue_,i,s)}function Vk(n){return n.nextWriteId_++}function _L(n,t,e,i,r){vw(n,"set",{path:t.toString(),value:e,priority:i});const s=ME(n),c=er(e,i),d=Ok(n.serverSyncTree_,t),p=cL(c,d,s),y=Vk(n),w=nL(n.serverSyncTree_,t,p,y,!0);Bk(n.eventQueue_,w),n.server_.put(t.toString(),c.val(!0),(T,F)=>{const B="ok"===T;B||Js("set at "+t+" failed: "+T);const $=em(n.serverSyncTree_,y,!B);Ia(n.eventQueue_,t,$),tm(0,r,T,F)});const E=bL(n,t);bw(n,E),Ia(n.eventQueue_,E,[])}function Sre(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&HN(n.onDisconnect_,t),tm(0,e,i,r)})}function $3(n,t,e,i){const r=er(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(s,c)=>{"ok"===s&&mw(n.onDisconnect_,t,r),tm(0,i,s,c)})}function yL(n,t,e){let i;i=".info"===hn(t._path)?Rk(n.infoSyncTree_,t,e):Rk(n.serverSyncTree_,t,e),V3(n.eventQueue_,t._path,i)}function q3(n){n.persistentConnection_&&n.persistentConnection_.interrupt(H3)}function vw(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),ls(e,...t)}function tm(n,t,e,i){t&&uw(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let s=r;i&&(s+=": "+i);const c=new Error(s);c.code=r,t(c)}})}function vL(n,t,e){return Ok(n.serverSyncTree_,t,e)||tn.EMPTY_NODE}function Uk(n,t=n.transactionQueueTree_){if(t||Hk(n,t),Z_(t)){const e=W3(n,t);(0,N.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function Rre(n,t,e){const i=e.map(y=>y.currentWriteId),r=vL(n,t,i);let s=r;const c=r.hash();for(let y=0;y<e.length;y++){const w=e[y];(0,N.hu)(0===w.status,"tryToSendTransactionQueue_: items in queue should all be run."),w.status=1,w.retryCount++;const E=To(t,w.path);s=s.updateChild(E,w.currentOutputSnapshotRaw)}const d=s.val(!0),p=t;n.server_.put(p.toString(),d,y=>{vw(n,"transaction put response",{path:p.toString(),status:y});let w=[];if("ok"===y){const E=[];for(let T=0;T<e.length;T++)e[T].status=2,w=w.concat(em(n.serverSyncTree_,e[T].currentWriteId)),e[T].onComplete&&E.push(()=>e[T].onComplete(null,!0,e[T].currentOutputSnapshotResolved)),e[T].unwatcher();Hk(n,Pk(n.transactionQueueTree_,t)),Uk(n,n.transactionQueueTree_),Ia(n.eventQueue_,t,w);for(let T=0;T<E.length;T++)uw(E[T])}else{if("datastale"===y)for(let E=0;E<e.length;E++)e[E].status=3===e[E].status?4:0;else{Js("transaction at "+p.toString()+" failed: "+y);for(let E=0;E<e.length;E++)e[E].status=4,e[E].abortReason=y}bw(n,t)}},c)}(n,DE(t),e)}else F3(t)&&Nk(t,e=>{Uk(n,e)})}function bw(n,t){const e=Y3(n,t),i=DE(e);return function Ore(n,t,e){if(0===t.length)return;const i=[];let r=[];const c=t.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<t.length;d++){const p=t[d],y=To(e,p.path);let E,w=!1;if((0,N.hu)(null!==y,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)w=!0,E=p.abortReason,r=r.concat(em(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=vre)w=!0,E="maxretry",r=r.concat(em(n.serverSyncTree_,p.currentWriteId,!0));else{const T=vL(n,p.path,c);p.currentInputSnapshot=T;const F=t[d].update(T.val());if(void 0!==F){SE("transaction failed: Data returned ",F,p.path);let B=er(F);"object"==typeof F&&null!=F&&(0,N.r3)(F,".priority")||(B=B.updatePriority(T.getPriority()));const K=p.currentWriteId,De=ME(n),ze=cL(B,T,De);p.currentOutputSnapshotRaw=B,p.currentOutputSnapshotResolved=ze,p.currentWriteId=Vk(n),c.splice(c.indexOf(K),1),r=r.concat(nL(n.serverSyncTree_,p.path,ze,p.currentWriteId,p.applyLocally)),r=r.concat(em(n.serverSyncTree_,K,!0))}else w=!0,E="nodata",r=r.concat(em(n.serverSyncTree_,p.currentWriteId,!0))}Ia(n.eventQueue_,e,r),r=[],w&&(t[d].status=2,setTimeout(t[d].unwatcher,Math.floor(0)),t[d].onComplete&&i.push("nodata"===E?()=>t[d].onComplete(null,!1,t[d].currentInputSnapshot):()=>t[d].onComplete(new Error(E),!1,null)))}Hk(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)uw(i[d]);Uk(n,n.transactionQueueTree_)}(n,W3(n,e),i),i}function Y3(n,t){let e,i=n.transactionQueueTree_;for(e=hn(t);null!==e&&void 0===Z_(i);)i=Pk(i,e),e=hn(t=mi(t));return i}function W3(n,t){const e=[];return Z3(n,t,e),e.sort((i,r)=>i.order-r.order),e}function Z3(n,t,e){const i=Z_(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);Nk(t,r=>{Z3(n,r,e)})}function Hk(n,t){const e=Z_(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,hL(t,e.length>0?e:void 0)}Nk(t,i=>{Hk(n,i)})}function bL(n,t){const e=DE(Y3(n,t)),i=Pk(n.transactionQueueTree_,t);return function ure(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{wL(n,r)}),wL(n,i),P3(i,r=>{wL(n,r)}),e}function wL(n,t){const e=Z_(t);if(e){const i=[];let r=[],s=-1;for(let c=0;c<e.length;c++)3===e[c].status||(1===e[c].status?((0,N.hu)(s===c-1,"All SENT items should be at beginning of queue."),s=c,e[c].status=3,e[c].abortReason="set"):((0,N.hu)(0===e[c].status,"Unexpected transaction status in abort"),e[c].unwatcher(),r=r.concat(em(n.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&i.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));-1===s?hL(t,void 0):e.length=s+1,Ia(n.eventQueue_,DE(t),r);for(let c=0;c<i.length;c++)uw(i[c])}}const CL=function(n,t){const e=Nre(n),i=e.namespace;return"firebase.com"===e.domain&&Gu(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Gu("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Js("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new DN(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Yn(e.pathString)}},Nre=function(n){let t="",e="",i="",r="",s="",c=!0,d="https",p=443;if("string"==typeof n){let y=n.indexOf("//");y>=0&&(d=n.substring(0,y-1),n=n.substring(y+2));let w=n.indexOf("/");-1===w&&(w=n.length);let E=n.indexOf("?");-1===E&&(E=n.length),t=n.substring(0,Math.min(w,E)),w<E&&(r=function Fre(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(w,E)));const T=function Pre(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Js(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,E)));y=t.indexOf(":"),y>=0?(c="https"===d||"wss"===d,p=parseInt(t.substring(y+1),10)):y=t.length;const F=t.slice(0,y);if("localhost"===F.toLowerCase())e="localhost";else if(F.split(".").length<=2)e=F;else{const B=t.indexOf(".");i=t.substring(0,B).toLowerCase(),e=t.substring(B+1),s=i}"ns"in T&&(s=T.ns)}return{host:t,port:p,domain:e,subdomain:i,secure:c,scheme:d,pathString:r,namespace:s}},K3="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Lre=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const s=new Array(8);for(r=7;r>=0;r--)s[r]=K3.charAt(e%64),e=Math.floor(e/64);(0,N.hu)(0===e,"Cannot push at time == 0");let c=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=K3.charAt(t[r]);return(0,N.hu)(20===c.length,"nextPushId: Length should be 20."),c}}();class Q3{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,N.Wl)(this.snapshot.exportVal())}}class X3{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class xL{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,N.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class J3{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new N.BH;return Sre(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){ml("OnDisconnect.remove",this._path);const t=new N.BH;return $3(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){ml("OnDisconnect.set",this._path),qu("OnDisconnect.set",t,this._path,!1);const e=new N.BH;return $3(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){ml("OnDisconnect.setWithPriority",this._path),qu("OnDisconnect.setWithPriority",t,this._path,!1),mL("OnDisconnect.setWithPriority",e,!1);const i=new N.BH;return function Are(n,t,e,i,r){const s=er(e,i);n.server_.onDisconnectPut(t.toString(),s.val(!0),(c,d)=>{"ok"===c&&mw(n.onDisconnect_,t,s),tm(0,r,c,d)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){ml("OnDisconnect.update",this._path),L3("OnDisconnect.update",t,this._path,!1);const e=new N.BH;return function Ire(n,t,e,i){if((0,N.xb)(e))return ls("onDisconnect().update() called with empty data.  Don't do anything."),void tm(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,s)=>{"ok"===r&&cs(e,(c,d)=>{const p=er(d);mw(n.onDisconnect_,zi(t,c),p)}),tm(0,i,r,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Jo{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return fn(this._path)?null:TN(this._path)}get ref(){return new gl(this._repo,this._path)}get _queryIdentifier(){const t=n3(this._queryParams),e=CN(t);return"{}"===e?"default":e}get _queryObject(){return n3(this._queryParams)}isEqual(t){if(!((t=(0,N.m9)(t))instanceof Jo))return!1;const e=this._repo===t._repo,i=kN(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Ine(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function zk(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function nm(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===ju){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Yp)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Sh)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===Ci){if(null!=t&&!EE(t)||null!=e&&!EE(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,N.hu)(n.getIndex()instanceof NN||n.getIndex()===LN,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Gk(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class gl extends Jo{constructor(t,e){super(t,e,new yk,!1)}get parent(){const t=jj(this._path);return null===t?null:new gl(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class K_{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Yn(t),i=Q_(this.ref,t);return new K_(this._node.getChild(e),i,Ci)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new K_(r,Q_(this.ref,i),Ci)))}hasChild(t){const e=new Yn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function e$(n,t){return(n=(0,N.m9)(n))._checkNotDeleted("ref"),void 0!==t?Q_(n._root,t):n._root}function t$(n,t){(n=(0,N.m9)(n))._checkNotDeleted("refFromURL");const e=CL(t,n._repo.repoInfo_.nodeAdmin);B3("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Gu("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),e$(n,e.path.toString())}function Q_(n,t){return null===hn((n=(0,N.m9)(n))._path)?gre("child","path",t,!1):IE("child","path",t,!1),new gl(n._repo,zi(n._path,t))}function DL(n,t){n=(0,N.m9)(n),ml("set",n._path),qu("set",t,n._path,!1);const e=new N.BH;return _L(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function zre(n,t){L3("update",t,n._path,!1);const e=new N.BH;return function Dre(n,t,e,i){vw(n,"update",{path:t.toString(),value:e});let r=!0;const s=ME(n),c={};if(cs(e,(d,p)=>{r=!1,c[d]=O3(zi(t,d),er(p),n.serverSyncTree_,s)}),r)ls("update() called with empty data.  Don't do anything."),tm(0,i,"ok",void 0);else{const d=Vk(n),p=function Kie(n,t,e,i){!function fie(n,t,e,i){(0,N.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=YN(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=xi.fromObject(e);return yw(n,new gw({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,c,d);Bk(n.eventQueue_,p),n.server_.merge(t.toString(),e,(y,w)=>{const E="ok"===y;E||Js("update at "+t+" failed: "+y);const T=em(n.serverSyncTree_,d,!E),F=T.length>0?bw(n,t):t;Ia(n.eventQueue_,F,T),tm(0,i,y,w)}),cs(e,y=>{const w=bL(n,zi(t,y));bw(n,w)}),Ia(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function Gre(n){n=(0,N.m9)(n);const t=new xL(()=>{}),e=new TE(t);return function xre(n,t,e){const i=function tre(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(y,w)=>{const E=To(y,e);i=i||Xp(w,E)});let r=n.syncPointTree_.get(e);r?i=i||Xp(r,On()):(r=new C3,n.syncPointTree_=n.syncPointTree_.set(e,r));const s=null!=i,c=s?new Kp(i,!0,!1):null;return function Bie(n){return Dk(n.viewCache_)}(x3(r,t,Ek(n.pendingWriteTree_,t._path),s?c.getNode():tn.EMPTY_NODE,s))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const s=er(r).withIndex(t._queryParams.getIndex());let c;if(iL(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())c=wE(n.serverSyncTree_,t._path,s);else{const d=CE(n.serverSyncTree_,t);c=I3(n.serverSyncTree_,t._path,s,d)}return Ia(n.eventQueue_,t._path,c),Rk(n.serverSyncTree_,t,e,null,!0),s},r=>(vw(n,"get for query "+(0,N.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new K_(i,new gl(n._repo,n._path),n._queryParams.getIndex()))}class TE{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new Q3("value",this,new K_(t.snapshotNode,new gl(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new X3(this,t,e):null}matches(t){return t instanceof TE&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class jk{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new X3(this,t,e):null}createEvent(t,e){(0,N.hu)(null!=t.childName,"Child events should have a childName.");const i=Q_(new gl(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new Q3(t.type,this,new K_(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof jk&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function kE(n,t,e,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const p=e,y=(w,E)=>{yL(n._repo,n,d),p(w,E)};y.userCallback=e.userCallback,y.context=e.context,e=y}const c=new xL(e,s||void 0),d="value"===t?new TE(c):new jk(t,c);return function Mre(n,t,e){let i;i=".info"===hn(t._path)?iL(n.infoSyncTree_,t,e):iL(n.serverSyncTree_,t,e),V3(n.eventQueue_,t._path,i)}(n._repo,n,d),()=>yL(n._repo,n,d)}function EL(n,t,e,i){return kE(n,"value",t,e,i)}function n$(n,t,e,i){return kE(n,"child_added",t,e,i)}function i$(n,t,e,i){return kE(n,"child_changed",t,e,i)}function r$(n,t,e,i){return kE(n,"child_moved",t,e,i)}function s$(n,t,e,i){return kE(n,"child_removed",t,e,i)}function o$(n,t,e){let i=null;const r=e?new xL(e):null;"value"===t?i=new TE(r):t&&(i=new jk(t,r)),yL(n._repo,n,i)}class bc{}class a$ extends bc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){qu("endAt",this._value,t._path,!0);const e=UN(t._queryParams,this._value,this._key);if(Gk(e),nm(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Jo(t._repo,t._path,e,t._orderByCalled)}}class $re extends bc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){qu("endBefore",this._value,t._path,!1);const e=function eie(n,t,e){let i;return i=UN(n,t,n.index_===ju||e?e:Yp),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(Gk(e),nm(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Jo(t._repo,t._path,e,t._orderByCalled)}}class l$ extends bc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){qu("startAt",this._value,t._path,!0);const e=VN(t._queryParams,this._value,this._key);if(Gk(e),nm(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Jo(t._repo,t._path,e,t._orderByCalled)}}class Wre extends bc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){qu("startAfter",this._value,t._path,!1);const e=function Jne(n,t,e){let i;return i=VN(n,t,n.index_===ju||e?e:Sh),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(Gk(e),nm(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Jo(t._repo,t._path,e,t._orderByCalled)}}class Kre extends bc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Jo(t._repo,t._path,function Qne(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class Xre extends bc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Jo(t._repo,t._path,function Xne(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class ese extends bc{constructor(t){super(),this._path=t}_apply(t){zk(t,"orderByChild");const e=new Yn(this._path);if(fn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new NN(e),r=vk(t._queryParams,i);return nm(r),new Jo(t._repo,t._path,r,!0)}}class nse extends bc{_apply(t){zk(t,"orderByKey");const e=vk(t._queryParams,ju);return nm(e),new Jo(t._repo,t._path,e,!0)}}class rse extends bc{_apply(t){zk(t,"orderByPriority");const e=vk(t._queryParams,Ci);return nm(e),new Jo(t._repo,t._path,e,!0)}}class ose extends bc{_apply(t){zk(t,"orderByValue");const e=vk(t._queryParams,LN);return nm(e),new Jo(t._repo,t._path,e,!0)}}class lse extends bc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(qu("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new a$(this._value,this._key)._apply(new l$(this._value,this._key)._apply(t))}}function wc(n,...t){let e=(0,N.m9)(n);for(const i of t)e=i._apply(e);return e}(function zie(n){(0,N.hu)(!Mk,"__referenceConstructor has already been defined"),Mk=n})(gl),function Yie(n){(0,N.hu)(!kk,"__referenceConstructor has already been defined"),kk=n}(gl);const SL={};function u$(n,t,e,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||Gu("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ls("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,y,c=CL(s,r),d=c.repoInfo;typeof process<"u"&&process.env&&(y=process.env.FIREBASE_DATABASE_EMULATOR_HOST),y?(p=!0,s=`http://${y}?ns=${d.namespace}`,c=CL(s,r),d=c.repoInfo):p=!c.repoInfo.secure;const w=r&&p?new cE(cE.OWNER):new ine(n.name,n.options,t);B3("Invalid Firebase Database URL",c),fn(c.path)||Gu("Database URL must point to the root of a Firebase Database (not including a child path).");const E=function fse(n,t,e,i){let r=SL[t.name];r||(r={},SL[t.name]=r);let s=r[n.toURLString()];return s&&Gu("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new bre(n,false,e,i),r[n.toURLString()]=s,s}(d,n,w,new nne(n.name,e));return new mse(E,n)}class mse{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function wre(n,t,e){if(n.stats_=AN(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new bk(n.repoInfo_,(i,r,s,c)=>{G3(n,i,r,s,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>j3(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,N.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new $_(n.repoInfo_,t,(i,r,s,c)=>{G3(n,i,r,s,c)},i=>{j3(n,i)},i=>{!function Cre(n,t){cs(t,(e,i)=>{gL(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function one(n,t){const e=n.toString();return SN[e]||(SN[e]=t()),SN[e]}(n.repoInfo_,()=>new oie(n.stats_,n.server_)),n.infoData_=new tie,n.infoSyncTree_=new A3({startListening:(i,r,s,c)=>{let d=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(d=wE(n.infoSyncTree_,i._path,p),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),gL(n,"connected",!1),n.serverSyncTree_=new A3({startListening:(i,r,s,c)=>(n.server_.listen(i,s,r,(d,p)=>{const y=c(d,p);Ia(n.eventQueue_,i._path,y)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new gl(this._repo,On())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function hse(n,t){const e=SL[t];(!e||e[n.key]!==n)&&Gu(`Database ${t}(${n.repoInfo_}) has already been deleted.`),q3(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Gu("Cannot call "+t+" on a deleted database.")}}function d$(){Rj.IS_TRANSPORT_INITIALIZED&&Js("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function gse(){d$(),Wp.forceDisallow()}function _se(){d$(),dw.forceDisallow(),Wp.forceAllow()}function bse(n,t){hj(n,t)}const Cse={".sv":"timestamp"};class Ese{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}$_.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},$_.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function wse(n){aj(Ur.SDK_VERSION),(0,Ur._registerComponent)(new ws.wA("database",(t,{instanceIdentifier:e})=>u$(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Ur.registerVersion)(sj,"0.14.1",n),(0,Ur.registerVersion)(sj,"0.14.1","esm2017")}();const Mse=new $s.Yd("@firebase/database-compat"),f$=function(n){Mse.warn("FIREBASE WARNING: "+n)};class Rse{constructor(t){this._delegate=t}cancel(t){(0,N.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,N.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,N.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,N.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,N.Dv)("OnDisconnect.set",1,2,arguments.length),(0,N.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,N.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,N.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),s=>i(s)),r}update(t,e){if((0,N.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,f$("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,N.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class Ose{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,N.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class im{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,N.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,N.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,N.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,N.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,N.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),IE("DataSnapshot.child","path",t,!1),new im(this._database,this._delegate.child(t))}hasChild(t){return(0,N.Dv)("DataSnapshot.hasChild",1,1,arguments.length),IE("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,N.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,N.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,N.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new im(this._database,e)))}hasChildren(){return(0,N.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,N.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,N.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ma(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ts{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var s;(0,N.Dv)("Query.on",2,4,arguments.length),(0,N.Wj)("Query.on","callback",e,!1);const c=Ts.getCancelAndContextArgs_("Query.on",i,r),d=(y,w)=>{e.call(c.context,new im(this.database,y),w)};d.userCallback=e,d.context=c.context;const p=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(t){case"value":return EL(this._delegate,d,p),e;case"child_added":return n$(this._delegate,d,p),e;case"child_removed":return s$(this._delegate,d,p),e;case"child_changed":return i$(this._delegate,d,p),e;case"child_moved":return r$(this._delegate,d,p),e;default:throw new Error((0,N.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,N.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,N.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,N.Wj)("Query.off","callback",e,!0),(0,N.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,o$(this._delegate,t,r)}else o$(this._delegate,t)}get(){return Gre(this._delegate).then(t=>new im(this.database,t))}once(t,e,i,r){(0,N.Dv)("Query.once",1,4,arguments.length),(0,N.Wj)("Query.once","callback",e,!0);const s=Ts.getCancelAndContextArgs_("Query.once",i,r),c=new N.BH,d=(y,w)=>{const E=new im(this.database,y);e&&e.call(s.context,E,w),c.resolve(E)};d.userCallback=e,d.context=s.context;const p=y=>{s.cancel&&s.cancel.call(s.context,y),c.reject(y)};switch(t){case"value":EL(this._delegate,d,p,{onlyOnce:!0});break;case"child_added":n$(this._delegate,d,p,{onlyOnce:!0});break;case"child_removed":s$(this._delegate,d,p,{onlyOnce:!0});break;case"child_changed":i$(this._delegate,d,p,{onlyOnce:!0});break;case"child_moved":r$(this._delegate,d,p,{onlyOnce:!0});break;default:throw new Error((0,N.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(t){return(0,N.Dv)("Query.limitToFirst",1,1,arguments.length),new Ts(this.database,wc(this._delegate,function Qre(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Kre(n)}(t)))}limitToLast(t){return(0,N.Dv)("Query.limitToLast",1,1,arguments.length),new Ts(this.database,wc(this._delegate,function Jre(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Xre(n)}(t)))}orderByChild(t){return(0,N.Dv)("Query.orderByChild",1,1,arguments.length),new Ts(this.database,wc(this._delegate,function tse(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return IE("orderByChild","path",n,!1),new ese(n)}(t)))}orderByKey(){return(0,N.Dv)("Query.orderByKey",0,0,arguments.length),new Ts(this.database,wc(this._delegate,function ise(){return new nse}()))}orderByPriority(){return(0,N.Dv)("Query.orderByPriority",0,0,arguments.length),new Ts(this.database,wc(this._delegate,function sse(){return new rse}()))}orderByValue(){return(0,N.Dv)("Query.orderByValue",0,0,arguments.length),new Ts(this.database,wc(this._delegate,function ase(){return new ose}()))}startAt(t=null,e){return(0,N.Dv)("Query.startAt",0,2,arguments.length),new Ts(this.database,wc(this._delegate,function Yre(n=null,t){return AE("startAt","key",t,!0),new l$(n,t)}(t,e)))}startAfter(t=null,e){return(0,N.Dv)("Query.startAfter",0,2,arguments.length),new Ts(this.database,wc(this._delegate,function Zre(n,t){return AE("startAfter","key",t,!0),new Wre(n,t)}(t,e)))}endAt(t=null,e){return(0,N.Dv)("Query.endAt",0,2,arguments.length),new Ts(this.database,wc(this._delegate,function jre(n,t){return AE("endAt","key",t,!0),new a$(n,t)}(t,e)))}endBefore(t=null,e){return(0,N.Dv)("Query.endBefore",0,2,arguments.length),new Ts(this.database,wc(this._delegate,function qre(n,t){return AE("endBefore","key",t,!0),new $re(n,t)}(t,e)))}equalTo(t,e){return(0,N.Dv)("Query.equalTo",1,2,arguments.length),new Ts(this.database,wc(this._delegate,function cse(n,t){return AE("equalTo","key",t,!0),new lse(n,t)}(t,e)))}toString(){return(0,N.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,N.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,N.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Ts))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,N.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,N.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,N.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new Ma(this.database,new gl(this._delegate._repo,this._delegate._path))}}class Ma extends Ts{constructor(t,e){super(t,new Jo(e._repo,e._path,new yk,!1)),this.database=t,this._delegate=e}getKey(){return(0,N.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,N.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Ma(this.database,Q_(this._delegate,t))}getParent(){(0,N.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Ma(this.database,t):null}getRoot(){return(0,N.Dv)("Reference.root",0,0,arguments.length),new Ma(this.database,this._delegate.root)}set(t,e){(0,N.Dv)("Reference.set",1,2,arguments.length),(0,N.Wj)("Reference.set","onComplete",e,!0);const i=DL(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,N.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,f$("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ml("Reference.update",this._delegate._path),(0,N.Wj)("Reference.update","onComplete",e,!0);const i=zre(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,N.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,N.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function Hre(n,t,e){if(ml("setWithPriority",n._path),qu("setWithPriority",t,n._path,!1),mL("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new N.BH;return _L(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),s=>i(s)),r}remove(t){(0,N.Dv)("Reference.remove",0,1,arguments.length),(0,N.Wj)("Reference.remove","onComplete",t,!0);const e=function Vre(n){return ml("remove",n._path),DL(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,N.Dv)("Reference.transaction",1,3,arguments.length),(0,N.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,N.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,N.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function Sse(n,t,e){var i;if(n=(0,N.m9)(n),ml("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,s=new N.BH,d=EL(n,()=>{});return function kre(n,t,e,i,r,s){vw(n,"transaction on "+t);const c={path:t,update:e,onComplete:i,status:null,order:cj(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=vL(n,t,void 0);c.currentInputSnapshot=d;const p=c.update(d.val());if(void 0===p)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{SE("transaction failed: Data returned ",p,c.path),c.status=0;const y=Pk(n.transactionQueueTree_,t),w=Z_(y)||[];let E;w.push(c),hL(y,w),"object"==typeof p&&null!==p&&(0,N.r3)(p,".priority")?(E=(0,N.DV)(p,".priority"),(0,N.hu)(EE(E),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):E=(Ok(n.serverSyncTree_,t)||tn.EMPTY_NODE).getPriority().val();const T=ME(n),F=er(p,E),B=cL(F,d,T);c.currentOutputSnapshotRaw=F,c.currentOutputSnapshotResolved=B,c.currentWriteId=Vk(n);const $=nL(n.serverSyncTree_,t,B,c.currentWriteId,c.applyLocally);Ia(n.eventQueue_,t,$),Uk(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(p,y,w)=>{let E=null;p?s.reject(p):(E=new K_(w,new gl(n._repo,n._path),Ci),s.resolve(new Ese(y,E)))},d,r),s.promise}(this._delegate,t,{applyLocally:i}).then(s=>new Ose(s.committed,new im(this.database,s.snapshot)));return e&&r.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),r}setPriority(t,e){(0,N.Dv)("Reference.setPriority",1,2,arguments.length),(0,N.Wj)("Reference.setPriority","onComplete",e,!0);const i=function Ure(n,t){n=(0,N.m9)(n),ml("setPriority",n._path),mL("setPriority",t,!1);const e=new N.BH;return _L(n._repo,zi(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,N.Dv)("Reference.push",0,2,arguments.length),(0,N.Wj)("Reference.push","onComplete",e,!0);const i=function Bre(n,t){n=(0,N.m9)(n),ml("push",n._path),qu("push",t,n._path,!0);const e=z3(n._repo),i=Lre(e),r=Q_(n,i),s=Q_(n,i);let c;return c=null!=t?DL(s,t).then(()=>s):Promise.resolve(s),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,t),r=i.then(c=>new Ma(this.database,c));e&&r.then(()=>e(null),c=>e(c));const s=new Ma(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return ml("Reference.onDisconnect",this._delegate._path),new Rse(new J3(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class RE{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:gse,forceLongPolling:_se}}useEmulator(t,e,i={}){!function h$(n,t,e,i={}){(n=(0,N.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Gu("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Gu('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new cE(cE.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,N.Sg)(i.mockUserToken,n.app.options.projectId);s=new cE(c)}!function dse(n,t,e,i){n.repoInfo_=new DN(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,s)}(this._delegate,t,e,i)}ref(t){if((0,N.Dv)("database.ref",0,1,arguments.length),t instanceof Ma){const e=t$(this._delegate,t.toString());return new Ma(this,e)}{const e=e$(this._delegate,t);return new Ma(this,e)}}refFromURL(t){(0,N.Dv)("database.refFromURL",1,1,arguments.length);const i=t$(this._delegate,t);return new Ma(this,i)}goOffline(){return(0,N.Dv)("database.goOffline",0,0,arguments.length),function yse(n){(n=(0,N.m9)(n))._checkNotDeleted("goOffline"),q3(n._repo)}(this._delegate)}goOnline(){return(0,N.Dv)("database.goOnline",0,0,arguments.length),function vse(n){(n=(0,N.m9)(n))._checkNotDeleted("goOnline"),function Tre(n){n.persistentConnection_&&n.persistentConnection_.resume(H3)}(n._repo)}(this._delegate)}}RE.ServerValue={TIMESTAMP:function xse(){return Cse}(),increment:n=>function Dse(n){return{".sv":{increment:n}}}(n)};var Pse=Object.freeze({__proto__:null,initStandalone:function Fse({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){aj(e);const c=new ws.zt("auth-internal",new ws.H0("database-standalone"));return c.setComponent(new ws.wA("auth-internal",()=>i,"PRIVATE")),{instance:new RE(u$(n,c,void 0,t,s),n),namespace:r}}});const Nse=RE.ServerValue;function p$(n){return null==n}function m$(n){return"function"==typeof n.set}function g$(n,t){return m$(t)?t:n.ref(t)}function _$(n,t){if(function Bse(n){return"string"==typeof n}(n))return t.stringCase();if(m$(n))return t.firebaseCase();if(function Vse(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function OE(n,t,e="on",i=Jy.z){return new En.y(r=>{let s=null;return s=n[e](t,(c,d)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:d})}),"once"===e&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===e?{unsubscribe(){null!=s&&n.off(t,s)}}:{unsubscribe(){}}}).pipe((0,We.U)(r=>{const{snapshot:s,prevKey:c}=r;let d=null;return s.exists()&&(d=s.key),{type:t,payload:s,prevKey:c,key:d}}),(0,QF.B)())}function y$(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function zse(n,t){const{payload:e,prevKey:i,key:r}=t,s=y$(n,r),c=function Hse(n,t){if(p$(t))return 0;{const e=y$(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let d=null;t.payload.forEach(p=>{const y={payload:p,type:"value",prevKey:d,key:p.key};return d=p.key,n=[...n,y],!1})}return n;case"child_added":if(s>-1){const d=n[s-1];(d&&d.key||null)!==i&&(n=n.filter(p=>p.payload.key!==e.key)).splice(c,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(c,0,t)}return n;case"child_removed":return n.filter(d=>d.payload.key!==e.key);case"child_changed":return n.map(d=>d.payload.key===r?t:d);case"child_moved":if(s>-1){const d=n.splice(s,1)[0];return(n=n.slice()).splice(c,0,d),n}return n;default:return n}}function v$(n){return(p$(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function b$(n,t,e){return function Use(n,t,e){return OE(n,"value","once",e).pipe((0,xn.w)(i=>{const r=[(0,it.of)(i)];return t.forEach(s=>r.push(OE(n,s,"on",e))),(0,Ks.T)(...r).pipe(bd(zse,[]))}),(0,ev.x)())}(n,t=v$(t),e)}function w$(n,t,e){const i=(t=v$(t)).map(r=>OE(n,r,"on",e));return(0,Ks.T)(...i)}function C$(n,t){return function(i,r){return _$(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function qse(n){return function(e){return e?_$(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function x$(n,t){return function(){return OE(n,"value","on",t)}}!function Lse(n){n.INTERNAL.registerComponent(new ws.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new RE(r,i)},"PUBLIC").setServiceProps({Reference:Ma,Query:Ts,Database:RE,DataSnapshot:im,enableLogging:bse,INTERNAL:Pse,ServerValue:Nse}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.1")}(su.Z);const Zse=new o.OlP("angularfire2.realtimeDatabaseURL"),Kse=new o.OlP("angularfire2.database.use-emulator");let Qse=(()=>{class n{constructor(e,i,r,s,c,d,p,y,w,E,T,F,B,$,K){this.schedulers=d;const De=p,ze=(0,Wi.on)(e,c,i);y&&EP(ze,c,w,T,F,B,E,$),this.database=(0,Wi.cc)(`${ze.name}.database.${r}`,"AngularFireDatabase",ze.name,()=>{const Ge=c.runOutsideAngular(()=>ze.database(r||void 0));return De&&Ge.useEmulator(...De),Ge},[De])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>g$(this.database,e));let s=r;return i&&(s=i(r)),function Yse(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:C$(i,"update"),set:C$(i,"set"),push:r=>i.push(r),remove:qse(i),snapshotChanges:r=>b$(n,r,e).pipe(Mn.iC),stateChanges:r=>w$(n,r,e).pipe(Mn.iC),auditTrail:r=>function Gse(n,t,e){return function $se(n,t,e){return function jse(n,t){return OE(n,"value","on",t).pipe((0,We.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function zte(...n){const t=(0,zo.jO)(n);return(0,ii.e)((e,i)=>{const r=n.length,s=new Array(r);let c=n.map(()=>!1),d=!1;for(let p=0;p<r;p++)(0,pt.Xf)(n[p]).subscribe((0,Sn.x)(i,y=>{s[p]=y,!d&&!c[p]&&(c[p]=!0,(d=c.every(Vs.y))&&(c=null))},QV.Z));e.subscribe((0,Sn.x)(i,p=>{if(d){const y=[p,...s];i.next(t?t(...y):y)}}))})}(t),(0,We.U)(([r,s])=>{const c=r.lastKeyToLoad,d=s.map(p=>p.key);return{actions:s,lastKeyToLoad:c,loadedKeys:d}}),function Gte(n){return(0,ii.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,Sn.x)(e,s=>(i||(i=!n(s,r++)))&&e.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,We.U)(r=>r.actions))}(n,w$(n,t).pipe(bd((r,s)=>[...r,s],[])),e)}(n,r,e).pipe(Mn.iC),valueChanges:(r,s)=>b$(n,r,e).pipe((0,We.U)(d=>d.map(p=>s&&s.idField?Object.assign(Object.assign({},p.payload.val()),{[s.idField]:p.key}):p.payload.val())),Mn.iC)}}(s,this)}object(e){return function Wse(n,t){return{query:n,snapshotChanges:()=>x$(n,t.schedulers.outsideAngular)().pipe(Mn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>x$(n,t.schedulers.outsideAngular)().pipe(Mn.iC,(0,We.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>g$(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Wi.Dh),o.LFG(Wi.xv,8),o.LFG(Zse,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Mn.HU),o.LFG(Kse,8),o.LFG(_D,8),o.LFG(vP,8),o.LFG(bP,8),o.LFG(wP,8),o.LFG(CP,8),o.LFG(xP,8),o.LFG(DP,8),o.LFG(gD,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Xse=(()=>{class n{constructor(){Vb.Z.registerVersion("angularfire",Mn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Qse]}),n})();const D$_firebaseConfig={apiKey:"AIzaSyBw0mL251DHl7hOdXyO_lwqysueiHKO5AE",authDomain:"task-app-3a874.firebaseapp.com",projectId:"task-app-3a874",storageBucket:"task-app-3a874.appspot.com",messagingSenderId:"387262776023",appId:"1:387262776023:web:7bb6ba2248a3b66b14e692"};function E$(n){return new o.vHH(3e3,!1)}function rm(n){switch(n.length){case 0:return new SD;case 1:return n[0];default:return new U2(n)}}function S$(n,t,e=new Map,i=new Map){const r=[],s=[];let c=-1,d=null;if(t.forEach(p=>{const y=p.get("offset"),w=y==c,E=w&&d||new Map;p.forEach((T,F)=>{let B=F,$=T;if("offset"!==F)switch(B=n.normalizePropertyName(B,r),$){case"!":$=e.get(F);break;case yh:$=i.get(F);break;default:$=n.normalizeStyleValue(F,B,$,r)}E.set(B,$)}),w||s.push(E),d=E,c=y}),r.length)throw function woe(n){return new o.vHH(3502,!1)}();return s}function AL(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&IL(e,"start",n)));break;case"done":n.onDone(()=>i(e&&IL(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&IL(e,"destroy",n)))}}function IL(n,t,e){const s=ML(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),c=n._data;return null!=c&&(s._data=c),s}function ML(n,t,e,i,r="",s=0,c){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!c}}function Ta(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function A$(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const Ooe=(()=>typeof document>"u"?null:document.documentElement)();function TL(n){const t=n.parentNode||n.host||null;return t===Ooe?null:t}let X_=null,I$=!1;function M$(n,t){for(;t;){if(t===n)return!0;t=TL(t)}return!1}function T$(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let k$=(()=>{class n{validateStyleProperty(e){return function Poe(n){X_||(X_=function Noe(){return typeof document<"u"?document.body:null}()||{},I$=!!X_.style&&"WebkitAppearance"in X_.style);let t=!0;return X_.style&&!function Foe(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in X_.style,!t&&I$&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in X_.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return M$(e,i)}getParentElement(e){return TL(e)}query(e,i,r){return T$(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,c,d=[],p){return new SD(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),kL=(()=>{class n{}return n.NOOP=new k$,n})();const Loe=1e3,RL="ng-enter",$k="ng-leave",qk="ng-trigger",Yk=".ng-trigger",O$="ng-animating",OL=".ng-animating";function Ih(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:FL(parseFloat(t[1]),t[2])}function FL(n,t){return"s"===t?n*Loe:n}function Wk(n,t,e){return n.hasOwnProperty("duration")?n:function Voe(n,t,e){let r,s=0,c="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return t.push(E$()),{duration:0,delay:0,easing:""};r=FL(parseFloat(d[1]),d[2]);const p=d[3];null!=p&&(s=FL(parseFloat(p),d[4]));const y=d[5];y&&(c=y)}else r=n;if(!e){let d=!1,p=t.length;r<0&&(t.push(function Jse(){return new o.vHH(3100,!1)}()),d=!0),s<0&&(t.push(function eoe(){return new o.vHH(3101,!1)}()),d=!0),d&&t.splice(p,0,E$())}return{duration:r,delay:s,easing:c}}(n,t,e)}function FE(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function F$(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function sm(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function Yu(n,t,e){t.forEach((i,r)=>{const s=NL(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i})}function J_(n,t){t.forEach((e,i)=>{const r=NL(i);n.style[r]=""})}function PE(n){return Array.isArray(n)?1==n.length?n[0]:V2(n):n}const PL=new RegExp("{{\\s*(.+?)\\s*}}","g");function N$(n){let t=[];if("string"==typeof n){let e;for(;e=PL.exec(n);)t.push(e[1]);PL.lastIndex=0}return t}function NE(n,t,e){const i=n.toString(),r=i.replace(PL,(s,c)=>{let d=t[c];return null==d&&(e.push(function noe(n){return new o.vHH(3003,!1)}()),d=""),d.toString()});return r==i?n:r}function Zk(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const zoe=/-+([a-z0-9])/g;function NL(n){return n.replace(zoe,(...t)=>t[1].toUpperCase())}function ka(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function ioe(n){return new o.vHH(3004,!1)}()}}function L$(n,t){return window.getComputedStyle(n)[t]}const Kk="*";function $oe(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function qoe(n,t,e){if(":"==n[0]){const p=function Yoe(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function _oe(n){return new o.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof p)return void t.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function goe(n){return new o.vHH(3015,!1)}()),t;const r=i[1],s=i[2],c=i[3];t.push(B$(r,c));"<"==s[0]&&!(r==Kk&&c==Kk)&&t.push(B$(c,r))}(i,e,t)):e.push(n),e}const Qk=new Set(["true","1"]),Xk=new Set(["false","0"]);function B$(n,t){const e=Qk.has(n)||Xk.has(n),i=Qk.has(t)||Xk.has(t);return(r,s)=>{let c=n==Kk||n==r,d=t==Kk||t==s;return!c&&e&&"boolean"==typeof r&&(c=r?Qk.has(n):Xk.has(n)),!d&&i&&"boolean"==typeof s&&(d=s?Qk.has(t):Xk.has(t)),c&&d}}const Woe=new RegExp("s*:selfs*,?","g");function LL(n,t,e,i){return new Zoe(n).build(t,e,i)}class Zoe{constructor(t){this._driver=t}build(t,e,i){const r=new Xoe(e);return this._resetContextStyleTimingState(r),ka(this,PE(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],c=[];return"@"==t.name.charAt(0)&&e.errors.push(function soe(){return new o.vHH(3006,!1)}()),t.definitions.forEach(d=>{if(this._resetContextStyleTimingState(e),0==d.type){const p=d,y=p.name;y.toString().split(/\s*,\s*/).forEach(w=>{p.name=w,s.push(this.visitState(p,e))}),p.name=y}else if(1==d.type){const p=this.visitTransition(d,e);i+=p.queryCount,r+=p.depCount,c.push(p)}else e.errors.push(function ooe(){return new o.vHH(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:c,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,c=r||{};i.styles.forEach(d=>{d instanceof Map&&d.forEach(p=>{N$(p).forEach(y=>{c.hasOwnProperty(y)||s.add(y)})})}),s.size&&(Zk(s.values()),e.errors.push(function aoe(n,t){return new o.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=ka(this,PE(t.animation),e);return{type:1,matchers:$oe(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:ey(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>ka(this,i,e)),options:ey(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(c=>{e.currentTime=i;const d=ka(this,c,e);return r=Math.max(r,e.currentTime),d});return e.currentTime=r,{type:3,steps:s,options:ey(t.options)}}visitAnimate(t,e){const i=function eae(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return BL(Wk(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=BL(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=Wk(e,t);return BL(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:on({});if(5==s.type)r=this.visitKeyframes(s,e);else{let c=t.styles,d=!1;if(!c){d=!0;const y={};i.easing&&(y.easing=i.easing),c=on(y)}e.currentTime+=i.duration+i.delay;const p=this.visitStyle(c,e);p.isEmptyStep=d,r=p}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let d of r)"string"==typeof d?d===yh?i.push(d):e.errors.push(new o.vHH(3002,!1)):i.push(F$(d));let s=!1,c=null;return i.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(c=d.get("easing"),d.delete("easing")),!s))for(let p of d.values())if(p.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:c,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(c=>{"string"!=typeof c&&c.forEach((d,p)=>{const y=e.collectedStyles.get(e.currentQuerySelector),w=y.get(p);let E=!0;w&&(s!=r&&s>=w.startTime&&r<=w.endTime&&(e.errors.push(function coe(n,t,e,i,r){return new o.vHH(3010,!1)}()),E=!1),s=w.startTime),E&&y.set(p,{startTime:s,endTime:r}),e.options&&function Hoe(n,t,e){const i=t.params||{},r=N$(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function toe(n){return new o.vHH(3001,!1)}())})}(d,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function uoe(){return new o.vHH(3011,!1)}()),i;let s=0;const c=[];let d=!1,p=!1,y=0;const w=t.steps.map(De=>{const ze=this._makeStyleAst(De,e);let Ge=null!=ze.offset?ze.offset:function Joe(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(ze.styles),$e=0;return null!=Ge&&(s++,$e=ze.offset=Ge),p=p||$e<0||$e>1,d=d||$e<y,y=$e,c.push($e),ze});p&&e.errors.push(function doe(){return new o.vHH(3012,!1)}()),d&&e.errors.push(function hoe(){return new o.vHH(3200,!1)}());const E=t.steps.length;let T=0;s>0&&s<E?e.errors.push(function foe(){return new o.vHH(3202,!1)}()):0==s&&(T=1/(E-1));const F=E-1,B=e.currentTime,$=e.currentAnimateTimings,K=$.duration;return w.forEach((De,ze)=>{const Ge=T>0?ze==F?1:T*ze:c[ze],$e=Ge*K;e.currentTime=B+$.delay+$e,$.duration=$e,this._validateStyleAst(De,e),De.offset=Ge,i.styles.push(De)}),i}visitReference(t,e){return{type:8,animation:ka(this,PE(t.animation),e),options:ey(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:ey(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:ey(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,c]=function Koe(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(Woe,"")),n=n.replace(/@\*/g,Yk).replace(/@\w+/g,e=>Yk+"-"+e.slice(1)).replace(/:animating/g,OL),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Ta(e.collectedStyles,e.currentQuerySelector,new Map);const d=ka(this,PE(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:d,originalSelector:t.selector,options:ey(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function poe(){return new o.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Wk(t.timings,e.errors,!0);return{type:12,animation:ka(this,PE(t.animation),e),timings:i,options:null}}}class Xoe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ey(n){return n?(n=FE(n)).params&&(n.params=function Qoe(n){return n?FE(n):null}(n.params)):n={},n}function BL(n,t,e){return{duration:n,delay:t,easing:e}}function VL(n,t,e,i,r,s,c=null,d=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:c,subTimeline:d}}class Jk{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const iae=new RegExp(":enter","g"),sae=new RegExp(":leave","g");function UL(n,t,e,i,r,s=new Map,c=new Map,d,p,y=[]){return(new oae).buildKeyframes(n,t,e,i,r,s,c,d,p,y)}class oae{buildKeyframes(t,e,i,r,s,c,d,p,y,w=[]){y=y||new Jk;const E=new HL(t,e,y,r,s,w,[]);E.options=p;const T=p.delay?Ih(p.delay):0;E.currentTimeline.delayNextStep(T),E.currentTimeline.setStyles([c],null,E.errors,p),ka(this,i,E);const F=E.timelines.filter(B=>B.containsAnimation());if(F.length&&d.size){let B;for(let $=F.length-1;$>=0;$--){const K=F[$];if(K.element===e){B=K;break}}B&&!B.allowOnlyTimelineStyles()&&B.setStyles([d],null,E.errors,p)}return F.length?F.map(B=>B.buildKeyframes()):[VL(e,[],[],[],0,T,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);s!=c&&e.transformIntoNewTimeline(c)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const c="number"==typeof s?s:Ih(NE(s,r?.params??{},e.errors));i.delayNextStep(c)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const c=null!=i.duration?Ih(i.duration):null,d=null!=i.delay?Ih(i.delay):null;return 0!==c&&t.forEach(p=>{const y=e.appendInstructionToTimeline(p,c,d);s=Math.max(s,y.duration+y.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),ka(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=eR);const c=Ih(s.delay);r.delayNextStep(c)}t.steps.length&&(t.steps.forEach(c=>ka(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Ih(t.options.delay):0;t.steps.forEach(c=>{const d=e.createSubContext(t.options);s&&d.delayNextStep(s),ka(this,c,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(c=>e.currentTimeline.mergeTimelineCollectedStyles(c)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Wk(e.params?NE(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,d=e.createSubContext().currentTimeline;d.easing=i.easing,t.styles.forEach(p=>{d.forwardTime((p.offset||0)*s),d.setStyles(p.styles,p.easing,e.errors,e.options),d.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(d),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?Ih(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=eR);let c=i;const d=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=d.length;let p=null;d.forEach((y,w)=>{e.currentQueryIndex=w;const E=e.createSubContext(t.options,y);s&&E.delayNextStep(s),y===e.element&&(p=E.currentTimeline),ka(this,t.animation,E),E.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,E.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(c),p&&(e.currentTimeline.mergeTimelineCollectedStyles(p),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,c=Math.abs(s.duration),d=c*(e.currentQueryTotal-1);let p=c*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=d-p;break;case"full":p=i.currentStaggerTime}const w=e.currentTimeline;p&&w.delayNextStep(p);const E=w.currentTime;ka(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-E+(r.startTime-i.currentTimeline.startTime)}}const eR={};class HL{constructor(t,e,i,r,s,c,d,p){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=c,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=eR,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new tR(this._driver,e,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Ih(i.duration)),null!=i.delay&&(r.delay=Ih(i.delay));const s=i.params;if(s){let c=r.params;c||(c=this.options.params={}),Object.keys(s).forEach(d=>{(!e||!c.hasOwnProperty(d))&&(c[d]=NE(s[d],c,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new HL(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=eR,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new aae(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,c){let d=[];if(r&&d.push(this.element),t.length>0){t=(t=t.replace(iae,"."+this._enterClassName)).replace(sae,"."+this._leaveClassName);let y=this._driver.query(this.element,t,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),d.push(...y)}return!s&&0==d.length&&c.push(function moe(n){return new o.vHH(3014,!1)}()),d}}class tR{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new tR(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||yh),this._currentKeyframe.set(e,yh);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},c=function lae(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,yh)}else sm(r,e)}),e}(t,this._globalTimelineStyles);for(let[d,p]of c){const y=NE(p,s,i);this._pendingStyles.set(d,y),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??yh),this._updateStyle(d,y)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,p)=>{const y=sm(d,new Map,this._backFill);y.forEach((w,E)=>{"!"===w?t.add(E):w===yh&&e.add(E)}),i||y.set("offset",p/this.duration),r.push(y)});const s=t.size?Zk(t.values()):[],c=e.size?Zk(e.values()):[];if(i){const d=r[0],p=new Map(d);d.set("offset",0),p.set("offset",1),r=[d,p]}return VL(this.element,r,s,c,this.duration,this.startTime,this.easing,!1)}}class aae extends tR{constructor(t,e,i,r,s,c,d=!1){super(t,e,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=d,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],c=i+e,d=e/c,p=sm(t[0]);p.set("offset",0),s.push(p);const y=sm(t[0]);y.set("offset",H$(d)),s.push(y);const w=t.length-1;for(let E=1;E<=w;E++){let T=sm(t[E]);const F=T.get("offset");T.set("offset",H$((e+F*i)/c)),s.push(T)}i=c,e=0,r="",t=s}return VL(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function H$(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class zL{}const cae=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class uae extends zL{normalizePropertyName(t,e){return NL(t)}normalizeStyleValue(t,e,i,r){let s="";const c=i.toString().trim();if(cae.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(function roe(n,t){return new o.vHH(3005,!1)}())}return c+s}}function z$(n,t,e,i,r,s,c,d,p,y,w,E,T){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:c,timelines:d,queriedElements:p,preStyleProps:y,postStyleProps:w,totalTime:E,errors:T}}const GL={};class G${constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function dae(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,c,d,p,y,w){const E=[],T=this.ast.options&&this.ast.options.params||GL,B=this.buildStyles(i,d&&d.params||GL,E),$=p&&p.params||GL,K=this.buildStyles(r,$,E),De=new Set,ze=new Map,Ge=new Map,$e="void"===r,gt={params:hae($,T),delay:this.ast.options?.delay},Ct=w?[]:UL(t,e,this.ast.animation,s,c,B,K,gt,y,E);let ln=0;if(Ct.forEach(Ra=>{ln=Math.max(Ra.duration+Ra.delay,ln)}),E.length)return z$(e,this._triggerName,i,r,$e,B,K,[],[],ze,Ge,ln,E);Ct.forEach(Ra=>{const Mh=Ra.element,r6=Ta(ze,Mh,new Set);Ra.preStyleProps.forEach(ty=>r6.add(ty));const BE=Ta(Ge,Mh,new Set);Ra.postStyleProps.forEach(ty=>BE.add(ty)),Mh!==e&&De.add(Mh)});const hr=Zk(De.values());return z$(e,this._triggerName,i,r,$e,B,K,Ct,hr,ze,Ge,ln)}}function hae(n,t){const e=FE(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class fae{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=FE(this.defaultParams);return Object.keys(t).forEach(s=>{const c=t[s];null!==c&&(r[s]=c)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((c,d)=>{c&&(c=NE(c,r,e));const p=this.normalizer.normalizePropertyName(d,e);c=this.normalizer.normalizeStyleValue(d,p,c,e),i.set(d,c)})}),i}}class mae{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new fae(r.style,r.options&&r.options.params||{},i))}),j$(this.states,"true","1"),j$(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new G$(t,r,this.states))}),this.fallbackTransition=function gae(n,t,e){return new G$(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,d)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(c=>c.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function j$(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const _ae=new Jk;class yae{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=LL(this._driver,e,i,[]);if(i.length)throw function Coe(n){return new o.vHH(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=S$(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let c;const d=new Map;if(s?(c=UL(this._driver,e,s,RL,$k,new Map,new Map,i,_ae,r),c.forEach(w=>{const E=Ta(d,w.element,new Map);w.postStyleProps.forEach(T=>E.set(T,null))})):(r.push(function xoe(){return new o.vHH(3300,!1)}()),c=[]),r.length)throw function Doe(n){return new o.vHH(3504,!1)}();d.forEach((w,E)=>{w.forEach((T,F)=>{w.set(F,this._driver.computeStyle(E,F,yh))})});const y=rm(c.map(w=>{const E=d.get(w.element);return this._buildPlayer(w,new Map,E)}));return this._playersById.set(t,y),y.onDestroy(()=>this.destroy(t)),this.players.push(y),y}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function Eoe(n){return new o.vHH(3301,!1)}();return e}listen(t,e,i,r){const s=ML(e,"","","");return AL(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const $$="ng-animate-queued",jL="ng-animate-disabled",xae=[],q$={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Dae={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Cc="__ng_removed";class $L{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function Iae(n){return n??null}(i?t.value:t),i){const s=FE(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const LE="void",qL=new $L(LE);class Eae{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,_l(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function Soe(n,t){return new o.vHH(3302,!1)}();if(null==i||0==i.length)throw function Aoe(n){return new o.vHH(3303,!1)}();if(!function Mae(n){return"start"==n||"done"==n}(i))throw function Ioe(n,t){return new o.vHH(3400,!1)}();const s=Ta(this._elementListeners,t,[]),c={name:e,phase:i,callback:r};s.push(c);const d=Ta(this._engine.statesByElement,t,new Map);return d.has(e)||(_l(t,qk),_l(t,qk+"-"+e),d.set(e,qL)),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(c);p>=0&&s.splice(p,1),this._triggers.has(e)||d.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function Moe(n){return new o.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),c=new YL(this.id,e,t);let d=this._engine.statesByElement.get(t);d||(_l(t,qk),_l(t,qk+"-"+e),this._engine.statesByElement.set(t,d=new Map));let p=d.get(e);const y=new $L(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&y.absorbOptions(p.options),d.set(e,y),p||(p=qL),y.value!==LE&&p.value===y.value){if(!function Rae(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(p.params,y.params)){const $=[],K=s.matchStyles(p.value,p.params,$),De=s.matchStyles(y.value,y.params,$);$.length?this._engine.reportError($):this._engine.afterFlush(()=>{J_(t,K),Yu(t,De)})}return}const T=Ta(this._engine.playersByElement,t,[]);T.forEach($=>{$.namespaceId==this.id&&$.triggerName==e&&$.queued&&$.destroy()});let F=s.matchTransition(p.value,y.value,t,y.params),B=!1;if(!F){if(!r)return;F=s.fallbackTransition,B=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:F,fromState:p,toState:y,player:c,isFallbackTransition:B}),B||(_l(t,$$),c.onStart(()=>{ww(t,$$)})),c.onDone(()=>{let $=this.players.indexOf(c);$>=0&&this.players.splice($,1);const K=this._engine.playersByElement.get(t);if(K){let De=K.indexOf(c);De>=0&&K.splice(De,1)}}),this.players.push(c),T.push(c),c}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Yk,!0);i.forEach(r=>{if(r[Cc])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(c=>c.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),c=new Map;if(s){const d=[];if(s.forEach((p,y)=>{if(c.set(y,p.value),this._triggers.has(y)){const w=this.trigger(t,y,LE,r);w&&d.push(w)}}),d.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,c),i&&rm(d).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const c=s.name;if(r.has(c))return;r.add(c);const p=this._triggers.get(c).fallbackTransition,y=i.get(c)||qL,w=new $L(LE),E=new YL(this.id,c,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:c,transition:p,fromState:y,toState:w,player:E,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let c=t;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[Cc];(!s||s===q$)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){_l(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,c=this._elementListeners.get(s);c&&c.forEach(d=>{if(d.name==i.triggerName){const p=ML(s,i.triggerName,i.fromState.value,i.toState.value);p._data=t,AL(i.player,d.phase,p,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class Sae{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Eae(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let c=!1,d=this.driver.getParentElement(e);for(;d;){const p=r.get(d);if(p){const y=i.indexOf(p);i.splice(y+1,0,t),c=!0;break}d=this.driver.getParentElement(d)}c||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(nR(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!nR(e))return;const s=e[Cc];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(e);c>=0&&this.collectedLeaveElements.splice(c,1)}if(t){const c=this._fetchNamespace(t);c&&c.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),_l(t,jL)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ww(t,jL))}removeNode(t,e,i){if(nR(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[Cc]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return nR(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,Yk,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,OL,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return rm(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Cc];if(e&&e.setForRemoval){if(t[Cc]=q$,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(jL)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)_l(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?rm(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function Toe(n){return new o.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new Jk,r=[],s=new Map,c=[],d=new Map,p=new Map,y=new Map,w=new Set;this.disabledNodes.forEach(wt=>{w.add(wt);const kt=this.driver.query(wt,".ng-animate-queued",!0);for(let Ut=0;Ut<kt.length;Ut++)w.add(kt[Ut])});const E=this.bodyNode,T=Array.from(this.statesByElement.keys()),F=Z$(T,this.collectedEnterElements),B=new Map;let $=0;F.forEach((wt,kt)=>{const Ut=RL+$++;B.set(kt,Ut),wt.forEach(Tn=>_l(Tn,Ut))});const K=[],De=new Set,ze=new Set;for(let wt=0;wt<this.collectedLeaveElements.length;wt++){const kt=this.collectedLeaveElements[wt],Ut=kt[Cc];Ut&&Ut.setForRemoval&&(K.push(kt),De.add(kt),Ut.hasAnimation?this.driver.query(kt,".ng-star-inserted",!0).forEach(Tn=>De.add(Tn)):ze.add(kt))}const Ge=new Map,$e=Z$(T,Array.from(De));$e.forEach((wt,kt)=>{const Ut=$k+$++;Ge.set(kt,Ut),wt.forEach(Tn=>_l(Tn,Ut))}),t.push(()=>{F.forEach((wt,kt)=>{const Ut=B.get(kt);wt.forEach(Tn=>ww(Tn,Ut))}),$e.forEach((wt,kt)=>{const Ut=Ge.get(kt);wt.forEach(Tn=>ww(Tn,Ut))}),K.forEach(wt=>{this.processLeaveNode(wt)})});const gt=[],Ct=[];for(let wt=this._namespaceList.length-1;wt>=0;wt--)this._namespaceList[wt].drainQueuedTransitions(e).forEach(Ut=>{const Tn=Ut.player,us=Ut.element;if(gt.push(Tn),this.collectedEnterElements.length){const eo=us[Cc];if(eo&&eo.setForMove){if(eo.previousTriggersValues&&eo.previousTriggersValues.has(Ut.triggerName)){const ny=eo.previousTriggersValues.get(Ut.triggerName),yl=this.statesByElement.get(Ut.element);if(yl&&yl.has(Ut.triggerName)){const sR=yl.get(Ut.triggerName);sR.value=ny,yl.set(Ut.triggerName,sR)}}return void Tn.destroy()}}const Wu=!E||!this.driver.containsElement(E,us),Oa=Ge.get(us),om=B.get(us),tr=this._buildInstruction(Ut,i,om,Oa,Wu);if(tr.errors&&tr.errors.length)return void Ct.push(tr);if(Wu)return Tn.onStart(()=>J_(us,tr.fromStyles)),Tn.onDestroy(()=>Yu(us,tr.toStyles)),void r.push(Tn);if(Ut.isFallbackTransition)return Tn.onStart(()=>J_(us,tr.fromStyles)),Tn.onDestroy(()=>Yu(us,tr.toStyles)),void r.push(Tn);const a6=[];tr.timelines.forEach(eo=>{eo.stretchStartingKeyframe=!0,this.disabledNodes.has(eo.element)||a6.push(eo)}),tr.timelines=a6,i.append(us,tr.timelines),c.push({instruction:tr,player:Tn,element:us}),tr.queriedElements.forEach(eo=>Ta(d,eo,[]).push(Tn)),tr.preStyleProps.forEach((eo,ny)=>{if(eo.size){let yl=p.get(ny);yl||p.set(ny,yl=new Set),eo.forEach((sR,KL)=>yl.add(KL))}}),tr.postStyleProps.forEach((eo,ny)=>{let yl=y.get(ny);yl||y.set(ny,yl=new Set),eo.forEach((sR,KL)=>yl.add(KL))})});if(Ct.length){const wt=[];Ct.forEach(kt=>{wt.push(function koe(n,t){return new o.vHH(3505,!1)}())}),gt.forEach(kt=>kt.destroy()),this.reportError(wt)}const ln=new Map,hr=new Map;c.forEach(wt=>{const kt=wt.element;i.has(kt)&&(hr.set(kt,kt),this._beforeAnimationBuild(wt.player.namespaceId,wt.instruction,ln))}),r.forEach(wt=>{const kt=wt.element;this._getPreviousPlayers(kt,!1,wt.namespaceId,wt.triggerName,null).forEach(Tn=>{Ta(ln,kt,[]).push(Tn),Tn.destroy()})});const Ra=K.filter(wt=>Q$(wt,p,y)),Mh=new Map;W$(Mh,this.driver,ze,y,yh).forEach(wt=>{Q$(wt,p,y)&&Ra.push(wt)});const BE=new Map;F.forEach((wt,kt)=>{W$(BE,this.driver,new Set(wt),p,"!")}),Ra.forEach(wt=>{const kt=Mh.get(wt),Ut=BE.get(wt);Mh.set(wt,new Map([...kt?.entries()??[],...Ut?.entries()??[]]))});const ty=[],s6=[],o6={};c.forEach(wt=>{const{element:kt,player:Ut,instruction:Tn}=wt;if(i.has(kt)){if(w.has(kt))return Ut.onDestroy(()=>Yu(kt,Tn.toStyles)),Ut.disabled=!0,Ut.overrideTotalTime(Tn.totalTime),void r.push(Ut);let us=o6;if(hr.size>1){let Oa=kt;const om=[];for(;Oa=Oa.parentNode;){const tr=hr.get(Oa);if(tr){us=tr;break}om.push(Oa)}om.forEach(tr=>hr.set(tr,us))}const Wu=this._buildAnimation(Ut.namespaceId,Tn,ln,s,BE,Mh);if(Ut.setRealPlayer(Wu),us===o6)ty.push(Ut);else{const Oa=this.playersByElement.get(us);Oa&&Oa.length&&(Ut.parentPlayer=rm(Oa)),r.push(Ut)}}else J_(kt,Tn.fromStyles),Ut.onDestroy(()=>Yu(kt,Tn.toStyles)),s6.push(Ut),w.has(kt)&&r.push(Ut)}),s6.forEach(wt=>{const kt=s.get(wt.element);if(kt&&kt.length){const Ut=rm(kt);wt.setRealPlayer(Ut)}}),r.forEach(wt=>{wt.parentPlayer?wt.syncPlayerEvents(wt.parentPlayer):wt.destroy()});for(let wt=0;wt<K.length;wt++){const kt=K[wt],Ut=kt[Cc];if(ww(kt,$k),Ut&&Ut.hasAnimation)continue;let Tn=[];if(d.size){let Wu=d.get(kt);Wu&&Wu.length&&Tn.push(...Wu);let Oa=this.driver.query(kt,OL,!0);for(let om=0;om<Oa.length;om++){let tr=d.get(Oa[om]);tr&&tr.length&&Tn.push(...tr)}}const us=Tn.filter(Wu=>!Wu.destroyed);us.length?Tae(this,kt,us):this.processLeaveNode(kt)}return K.length=0,ty.forEach(wt=>{this.players.push(wt),wt.onDone(()=>{wt.destroy();const kt=this.players.indexOf(wt);this.players.splice(kt,1)}),wt.play()}),ty}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let c=[];if(e){const d=this.playersByQueriedElement.get(t);d&&(c=d)}else{const d=this.playersByElement.get(t);if(d){const p=!s||s==LE;d.forEach(y=>{y.queued||!p&&y.triggerName!=r||c.push(y)})}}return(i||r)&&(c=c.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),c}_beforeAnimationBuild(t,e,i){const s=e.element,c=e.isRemovalTransition?void 0:t,d=e.isRemovalTransition?void 0:e.triggerName;for(const p of e.timelines){const y=p.element,w=y!==s,E=Ta(i,y,[]);this._getPreviousPlayers(y,w,c,d,e.toState).forEach(F=>{const B=F.getRealPlayer();B.beforeDestroy&&B.beforeDestroy(),F.destroy(),E.push(F)})}J_(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,c){const d=e.triggerName,p=e.element,y=[],w=new Set,E=new Set,T=e.timelines.map(B=>{const $=B.element;w.add($);const K=$[Cc];if(K&&K.removedBeforeQueried)return new SD(B.duration,B.delay);const De=$!==p,ze=function kae(n){const t=[];return K$(n,t),t}((i.get($)||xae).map(ln=>ln.getRealPlayer())).filter(ln=>!!ln.element&&ln.element===$),Ge=s.get($),$e=c.get($),gt=S$(this._normalizer,B.keyframes,Ge,$e),Ct=this._buildPlayer(B,gt,ze);if(B.subTimeline&&r&&E.add($),De){const ln=new YL(t,d,$);ln.setRealPlayer(Ct),y.push(ln)}return Ct});y.forEach(B=>{Ta(this.playersByQueriedElement,B.element,[]).push(B),B.onDone(()=>function Aae(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,B.element,B))}),w.forEach(B=>_l(B,O$));const F=rm(T);return F.onDestroy(()=>{w.forEach(B=>ww(B,O$)),Yu(p,e.toStyles)}),E.forEach(B=>{Ta(r,B,[]).push(F)}),F}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new SD(t.duration,t.delay)}}class YL{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new SD,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>AL(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ta(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function nR(n){return n&&1===n.nodeType}function Y$(n,t){const e=n.style.display;return n.style.display=t??"none",e}function W$(n,t,e,i,r){const s=[];e.forEach(p=>s.push(Y$(p)));const c=[];i.forEach((p,y)=>{const w=new Map;p.forEach(E=>{const T=t.computeStyle(y,E,r);w.set(E,T),(!T||0==T.length)&&(y[Cc]=Dae,c.push(y))}),n.set(y,w)});let d=0;return e.forEach(p=>Y$(p,s[d++])),c}function Z$(n,t){const e=new Map;if(n.forEach(d=>e.set(d,[])),0==t.length)return e;const r=new Set(t),s=new Map;function c(d){if(!d)return 1;let p=s.get(d);if(p)return p;const y=d.parentNode;return p=e.has(y)?y:r.has(y)?1:c(y),s.set(d,p),p}return t.forEach(d=>{const p=c(d);1!==p&&e.get(p).push(d)}),e}function _l(n,t){n.classList?.add(t)}function ww(n,t){n.classList?.remove(t)}function Tae(n,t,e){rm(e).onDone(()=>n.processLeaveNode(t))}function K$(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof U2?K$(i.players,t):t.push(i)}}function Q$(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class iR{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Sae(t,e,i),this._timelineEngine=new yae(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const c=t+"-"+r;let d=this._triggerCache[c];if(!d){const p=[],w=LL(this._driver,s,p,[]);if(p.length)throw function boe(n,t){return new o.vHH(3404,!1)}();d=function pae(n,t,e){return new mae(n,t,e)}(r,w,this._normalizer),this._triggerCache[c]=d}this._transitionEngine.registerTrigger(e,r,d)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,c]=A$(i);this._timelineEngine.command(s,e,c,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[c,d]=A$(i);return this._timelineEngine.listen(c,e,d,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let Fae=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Yu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Yu(this._element,this._initialStyles),this._endStyles&&(Yu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(J_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(J_(this._element,this._endStyles),this._endStyles=null),Yu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function WL(n){let t=null;return n.forEach((e,i)=>{(function Pae(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class X${constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:L$(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Nae{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return M$(t,e)}getParentElement(t){return TL(t)}query(t,e,i){return T$(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,c=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(p.easing=s);const y=new Map,w=c.filter(F=>F instanceof X$);(function Goe(n,t){return 0===n||0===t})(i,r)&&w.forEach(F=>{F.currentSnapshot.forEach((B,$)=>y.set($,B))});let E=function Uoe(n){return n.length?n[0]instanceof Map?n:n.map(t=>F$(t)):[]}(e).map(F=>sm(F));E=function joe(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,c)=>{i.has(c)||r.push(c),i.set(c,s)}),r.length)for(let s=1;s<t.length;s++){let c=t[s];r.forEach(d=>c.set(d,L$(n,d)))}}return t}(t,E,y);const T=function Oae(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=WL(t[0]),t.length>1&&(i=WL(t[t.length-1]))):t instanceof Map&&(e=WL(t)),e||i?new Fae(n,e,i):null}(t,E);return new X$(t,E,p,T)}}let Lae=(()=>{class n extends L2{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?V2(e):e;return J$(this._renderer,null,i,"register",[r]),new Bae(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(ee))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Bae extends B4{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Vae(this._id,t,e||{},this._renderer)}}class Vae{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return J$(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function J$(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const e6="@.disabled";let Uae=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(s,c)=>{const d=c?.parentNode(s);d&&c.removeChild(d,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let w=this._rendererCache.get(s);return w||(w=new t6("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,w)),w}const c=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,e);const p=w=>{Array.isArray(w)?w.forEach(p):this.engine.registerTrigger(c,d,e,w.name,w)};return i.data.animation.forEach(p),new Hae(this,d,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,d]=s;c(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(iR),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class t6{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==e6?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Hae extends t6{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==e6?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function zae(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),c="";return"@"!=s.charAt(0)&&([s,c]=function Gae(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,c,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(t,e,i)}}let jae=(()=>{class n extends iR{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ee),o.LFG(kL),o.LFG(zL),o.LFG(o.z2F))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const n6=[{provide:L2,useClass:Lae},{provide:zL,useFactory:function $ae(){return new uae}},{provide:iR,useClass:jae},{provide:o.FYo,useFactory:function qae(n,t,e){return new Uae(n,t,e)},deps:[Uo,iR,o.R0b]}],ZL=[{provide:kL,useFactory:()=>new Nae},{provide:o.QbO,useValue:"BrowserAnimations"},...n6],i6=[{provide:kL,useClass:k$},{provide:o.QbO,useValue:"NoopAnimations"},...n6];let Yae=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?i6:ZL}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:ZL,imports:[Ll]}),n})(),Wae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Ii,Ii]}),n})(),Zae=(()=>{class n{}return Ae(n,"\u0275fac",function(e){return new(e||n)}),Ae(n,"\u0275mod",o.oAB({type:n,bootstrap:[L9]})),Ae(n,"\u0275inj",o.cJS({imports:[Yae,dK,XJ,QW,hK,b7,zP,kT,y8,b9,g4,TK,_W,Ll,N9,qV,Wi.hO.initializeApp(D$_firebaseConfig),Wq,qV,Hte,Xse,YK,rU,HW,Wae]})),n})();(0,o.G48)(),Ls().bootstrapModule(Zae).catch(n=>console.error(n))},5619:(ht,we,P)=>{P.d(we,{X:()=>X});var o=P(8645);class X extends o.x{constructor(ie){super(),this._value=ie}get value(){return this.getValue()}_subscribe(ie){const re=super._subscribe(ie);return!re.closed&&ie.next(this._value),re}getValue(){const{hasError:ie,thrownError:re,_value:ee}=this;if(ie)throw re;return this._throwIfClosed(),ee}next(ie){super.next(this._value=ie)}}},5592:(ht,we,P)=>{P.d(we,{y:()=>Ee});var o=P(305),X=P(7394),L=P(4850),ie=P(8407),re=P(2653),ee=P(4674),ge=P(1441);let Ee=(()=>{class te{constructor(Me){Me&&(this._subscribe=Me)}lift(Me){const Ze=new te;return Ze.source=this,Ze.operator=Me,Ze}subscribe(Me,Ze,Fe){const Ye=function q(te){return te&&te instanceof o.Lv||function H(te){return te&&(0,ee.m)(te.next)&&(0,ee.m)(te.error)&&(0,ee.m)(te.complete)}(te)&&(0,X.Nn)(te)}(Me)?Me:new o.Hp(Me,Ze,Fe);return(0,ge.x)(()=>{const{operator:Re,source:lt}=this;Ye.add(Re?Re.call(Ye,lt):lt?this._subscribe(Ye):this._trySubscribe(Ye))}),Ye}_trySubscribe(Me){try{return this._subscribe(Me)}catch(Ze){Me.error(Ze)}}forEach(Me,Ze){return new(Ze=de(Ze))((Fe,Ye)=>{const Re=new o.Hp({next:lt=>{try{Me(lt)}catch(ct){Ye(ct),Re.unsubscribe()}},error:Ye,complete:Fe});this.subscribe(Re)})}_subscribe(Me){var Ze;return null===(Ze=this.source)||void 0===Ze?void 0:Ze.subscribe(Me)}[L.L](){return this}pipe(...Me){return(0,ie.U)(Me)(this)}toPromise(Me){return new(Me=de(Me))((Ze,Fe)=>{let Ye;this.subscribe(Re=>Ye=Re,Re=>Fe(Re),()=>Ze(Ye))})}}return te.create=Ne=>new te(Ne),te})();function de(te){var Ne;return null!==(Ne=te??re.config.Promise)&&void 0!==Ne?Ne:Promise}},8645:(ht,we,P)=>{P.d(we,{x:()=>ge});var o=P(5592),X=P(7394);const ie=(0,P(2306).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=P(9039),ee=P(1441);let ge=(()=>{class de extends o.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const te=new Ee(this,this);return te.operator=q,te}_throwIfClosed(){if(this.closed)throw new ie}next(q){(0,ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(q)}})}error(q){(0,ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:te}=this;for(;te.length;)te.shift().error(q)}})}complete(){(0,ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:te,isStopped:Ne,observers:Me}=this;return te||Ne?X.Lc:(this.currentObservers=null,Me.push(q),new X.w0(()=>{this.currentObservers=null,(0,re.P)(Me,q)}))}_checkFinalizedStatuses(q){const{hasError:te,thrownError:Ne,isStopped:Me}=this;te?q.error(Ne):Me&&q.complete()}asObservable(){const q=new o.y;return q.source=this,q}}return de.create=(H,q)=>new Ee(H,q),de})();class Ee extends ge{constructor(H,q){super(),this.destination=H,this.source=q}next(H){var q,te;null===(te=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===te||te.call(q,H)}error(H){var q,te;null===(te=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===te||te.call(q,H)}complete(){var H,q;null===(q=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===q||q.call(H)}_subscribe(H){var q,te;return null!==(te=null===(q=this.source)||void 0===q?void 0:q.subscribe(H))&&void 0!==te?te:X.Lc}}},305:(ht,we,P)=>{P.d(we,{Hp:()=>Fe,Lv:()=>te});var o=P(4674),X=P(7394),L=P(2653),ie=P(3894),re=P(2420);const ee=de("C",void 0,void 0);function de(ne,ye,oe){return{kind:ne,value:ye,error:oe}}var H=P(7599),q=P(1441);class te extends X.w0{constructor(ye){super(),this.isStopped=!1,ye?(this.destination=ye,(0,X.Nn)(ye)&&ye.add(this)):this.destination=ct}static create(ye,oe,ve){return new Fe(ye,oe,ve)}next(ye){this.isStopped?lt(function Ee(ne){return de("N",ne,void 0)}(ye),this):this._next(ye)}error(ye){this.isStopped?lt(function ge(ne){return de("E",void 0,ne)}(ye),this):(this.isStopped=!0,this._error(ye))}complete(){this.isStopped?lt(ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ye){this.destination.next(ye)}_error(ye){try{this.destination.error(ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ne=Function.prototype.bind;function Me(ne,ye){return Ne.call(ne,ye)}class Ze{constructor(ye){this.partialObserver=ye}next(ye){const{partialObserver:oe}=this;if(oe.next)try{oe.next(ye)}catch(ve){Ye(ve)}}error(ye){const{partialObserver:oe}=this;if(oe.error)try{oe.error(ye)}catch(ve){Ye(ve)}else Ye(ye)}complete(){const{partialObserver:ye}=this;if(ye.complete)try{ye.complete()}catch(oe){Ye(oe)}}}class Fe extends te{constructor(ye,oe,ve){let Ve;if(super(),(0,o.m)(ye)||!ye)Ve={next:ye??void 0,error:oe??void 0,complete:ve??void 0};else{let j;this&&L.config.useDeprecatedNextContext?(j=Object.create(ye),j.unsubscribe=()=>this.unsubscribe(),Ve={next:ye.next&&Me(ye.next,j),error:ye.error&&Me(ye.error,j),complete:ye.complete&&Me(ye.complete,j)}):Ve=ye}this.destination=new Ze(Ve)}}function Ye(ne){L.config.useDeprecatedSynchronousErrorHandling?(0,q.O)(ne):(0,ie.h)(ne)}function lt(ne,ye){const{onStoppedNotification:oe}=L.config;oe&&H.z.setTimeout(()=>oe(ne,ye))}const ct={closed:!0,next:re.Z,error:function Re(ne){throw ne},complete:re.Z}},7394:(ht,we,P)=>{P.d(we,{Lc:()=>ee,w0:()=>re,Nn:()=>ge});var o=P(4674);const L=(0,P(2306).d)(de=>function(q){de(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((te,Ne)=>`${Ne+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var ie=P(9039);class re{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const Me of q)Me.remove(this);else q.remove(this);const{initialTeardown:te}=this;if((0,o.m)(te))try{te()}catch(Me){H=Me instanceof L?Me.errors:[Me]}const{_finalizers:Ne}=this;if(Ne){this._finalizers=null;for(const Me of Ne)try{Ee(Me)}catch(Ze){H=H??[],Ze instanceof L?H=[...H,...Ze.errors]:H.push(Ze)}}if(H)throw new L(H)}}add(H){var q;if(H&&H!==this)if(this.closed)Ee(H);else{if(H instanceof re){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(H)}}_hasParent(H){const{_parentage:q}=this;return q===H||Array.isArray(q)&&q.includes(H)}_addParent(H){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(H),q):q?[q,H]:H}_removeParent(H){const{_parentage:q}=this;q===H?this._parentage=null:Array.isArray(q)&&(0,ie.P)(q,H)}remove(H){const{_finalizers:q}=this;q&&(0,ie.P)(q,H),H instanceof re&&H._removeParent(this)}}re.EMPTY=(()=>{const de=new re;return de.closed=!0,de})();const ee=re.EMPTY;function ge(de){return de instanceof re||de&&"closed"in de&&(0,o.m)(de.remove)&&(0,o.m)(de.add)&&(0,o.m)(de.unsubscribe)}function Ee(de){(0,o.m)(de)?de():de.unsubscribe()}},2653:(ht,we,P)=>{P.d(we,{config:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(ht,we,P)=>{P.d(we,{E:()=>X});const X=new(P(5592).y)(re=>re.complete())},2459:(ht,we,P)=>{P.d(we,{D:()=>ye});var o=P(4829),X=P(3093),L=P(5137),ee=P(5592),Ee=P(4971),de=P(4674),H=P(7103);function te(oe,ve){if(!oe)throw new Error("Iterable cannot be null");return new ee.y(Ve=>{(0,H.f)(Ve,ve,()=>{const j=oe[Symbol.asyncIterator]();(0,H.f)(Ve,ve,()=>{j.next().then(Se=>{Se.done?Ve.complete():Ve.next(Se.value)})},0,!0)})})}var Ne=P(8382),Me=P(4026),Ze=P(4266),Fe=P(3664),Ye=P(5726),Re=P(9853),lt=P(541);function ye(oe,ve){return ve?function ne(oe,ve){if(null!=oe){if((0,Ne.c)(oe))return function ie(oe,ve){return(0,o.Xf)(oe).pipe((0,L.R)(ve),(0,X.Q)(ve))}(oe,ve);if((0,Ze.z)(oe))return function ge(oe,ve){return new ee.y(Ve=>{let j=0;return ve.schedule(function(){j===oe.length?Ve.complete():(Ve.next(oe[j++]),Ve.closed||this.schedule())})})}(oe,ve);if((0,Me.t)(oe))return function re(oe,ve){return(0,o.Xf)(oe).pipe((0,L.R)(ve),(0,X.Q)(ve))}(oe,ve);if((0,Ye.D)(oe))return te(oe,ve);if((0,Fe.T)(oe))return function q(oe,ve){return new ee.y(Ve=>{let j;return(0,H.f)(Ve,ve,()=>{j=oe[Ee.h](),(0,H.f)(Ve,ve,()=>{let Se,Ue;try{({value:Se,done:Ue}=j.next())}catch(Ft){return void Ve.error(Ft)}Ue?Ve.complete():Ve.next(Se)},0,!0)}),()=>(0,de.m)(j?.return)&&j.return()})}(oe,ve);if((0,lt.L)(oe))return function ct(oe,ve){return te((0,lt.Q)(oe),ve)}(oe,ve)}throw(0,Re.z)(oe)}(oe,ve):(0,o.Xf)(oe)}},4829:(ht,we,P)=>{P.d(we,{Xf:()=>Ne});var o=P(7582),X=P(4266),L=P(4026),ie=P(5592),re=P(8382),ee=P(5726),ge=P(9853),Ee=P(3664),de=P(541),H=P(4674),q=P(3894),te=P(4850);function Ne(ne){if(ne instanceof ie.y)return ne;if(null!=ne){if((0,re.c)(ne))return function Me(ne){return new ie.y(ye=>{const oe=ne[te.L]();if((0,H.m)(oe.subscribe))return oe.subscribe(ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ne);if((0,X.z)(ne))return function Ze(ne){return new ie.y(ye=>{for(let oe=0;oe<ne.length&&!ye.closed;oe++)ye.next(ne[oe]);ye.complete()})}(ne);if((0,L.t)(ne))return function Fe(ne){return new ie.y(ye=>{ne.then(oe=>{ye.closed||(ye.next(oe),ye.complete())},oe=>ye.error(oe)).then(null,q.h)})}(ne);if((0,ee.D)(ne))return Re(ne);if((0,Ee.T)(ne))return function Ye(ne){return new ie.y(ye=>{for(const oe of ne)if(ye.next(oe),ye.closed)return;ye.complete()})}(ne);if((0,de.L)(ne))return function lt(ne){return Re((0,de.Q)(ne))}(ne)}throw(0,ge.z)(ne)}function Re(ne){return new ie.y(ye=>{(function ct(ne,ye){var oe,ve,Ve,j;return(0,o.mG)(this,void 0,void 0,function*(){try{for(oe=(0,o.KL)(ne);!(ve=yield oe.next()).done;)if(ye.next(ve.value),ye.closed)return}catch(Se){Ve={error:Se}}finally{try{ve&&!ve.done&&(j=oe.return)&&(yield j.call(oe))}finally{if(Ve)throw Ve.error}}ye.complete()})})(ne,ye).catch(oe=>ye.error(oe))})}},3019:(ht,we,P)=>{P.d(we,{T:()=>ee});var o=P(7537),X=P(4829),L=P(6232),ie=P(9940),re=P(2459);function ee(...ge){const Ee=(0,ie.yG)(ge),de=(0,ie._6)(ge,1/0),H=ge;return H.length?1===H.length?(0,X.Xf)(H[0]):(0,o.J)(de)((0,re.D)(H,Ee)):L.E}},2096:(ht,we,P)=>{P.d(we,{of:()=>L});var o=P(9940),X=P(2459);function L(...ie){const re=(0,o.yG)(ie);return(0,X.D)(ie,re)}},8251:(ht,we,P)=>{P.d(we,{x:()=>X});var o=P(305);function X(ie,re,ee,ge,Ee){return new L(ie,re,ee,ge,Ee)}class L extends o.Lv{constructor(re,ee,ge,Ee,de,H){super(re),this.onFinalize=de,this.shouldUnsubscribe=H,this._next=ee?function(q){try{ee(q)}catch(te){re.error(te)}}:super._next,this._error=Ee?function(q){try{Ee(q)}catch(te){re.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch(q){re.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ee}=this;super.unsubscribe(),!ee&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},3997:(ht,we,P)=>{P.d(we,{x:()=>ie});var o=P(2737),X=P(9360),L=P(8251);function ie(ee,ge=o.y){return ee=ee??re,(0,X.e)((Ee,de)=>{let H,q=!0;Ee.subscribe((0,L.x)(de,te=>{const Ne=ge(te);(q||!ee(H,Ne))&&(q=!1,H=Ne,de.next(te))}))})}function re(ee,ge){return ee===ge}},7398:(ht,we,P)=>{P.d(we,{U:()=>L});var o=P(9360),X=P(8251);function L(ie,re){return(0,o.e)((ee,ge)=>{let Ee=0;ee.subscribe((0,X.x)(ge,de=>{ge.next(ie.call(re,de,Ee++))}))})}},7537:(ht,we,P)=>{P.d(we,{J:()=>L});var o=P(1631),X=P(2737);function L(ie=1/0){return(0,o.z)(X.y,ie)}},1631:(ht,we,P)=>{P.d(we,{z:()=>Ee});var o=P(7398),X=P(4829),L=P(9360),ie=P(7103),re=P(8251),ge=P(4674);function Ee(de,H,q=1/0){return(0,ge.m)(H)?Ee((te,Ne)=>(0,o.U)((Me,Ze)=>H(te,Me,Ne,Ze))((0,X.Xf)(de(te,Ne))),q):("number"==typeof H&&(q=H),(0,L.e)((te,Ne)=>function ee(de,H,q,te,Ne,Me,Ze,Fe){const Ye=[];let Re=0,lt=0,ct=!1;const ne=()=>{ct&&!Ye.length&&!Re&&H.complete()},ye=ve=>Re<te?oe(ve):Ye.push(ve),oe=ve=>{Me&&H.next(ve),Re++;let Ve=!1;(0,X.Xf)(q(ve,lt++)).subscribe((0,re.x)(H,j=>{Ne?.(j),Me?ye(j):H.next(j)},()=>{Ve=!0},void 0,()=>{if(Ve)try{for(Re--;Ye.length&&Re<te;){const j=Ye.shift();Ze?(0,ie.f)(H,Ze,()=>oe(j)):oe(j)}ne()}catch(j){H.error(j)}}))};return de.subscribe((0,re.x)(H,ye,()=>{ct=!0,ne()})),()=>{Fe?.()}}(te,Ne,de,q)))}},3093:(ht,we,P)=>{P.d(we,{Q:()=>ie});var o=P(7103),X=P(9360),L=P(8251);function ie(re,ee=0){return(0,X.e)((ge,Ee)=>{ge.subscribe((0,L.x)(Ee,de=>(0,o.f)(Ee,re,()=>Ee.next(de),ee),()=>(0,o.f)(Ee,re,()=>Ee.complete(),ee),de=>(0,o.f)(Ee,re,()=>Ee.error(de),ee)))})}},3020:(ht,we,P)=>{P.d(we,{B:()=>re});var o=P(4829),X=P(8645),L=P(305),ie=P(9360);function re(ge={}){const{connector:Ee=(()=>new X.x),resetOnError:de=!0,resetOnComplete:H=!0,resetOnRefCountZero:q=!0}=ge;return te=>{let Ne,Me,Ze,Fe=0,Ye=!1,Re=!1;const lt=()=>{Me?.unsubscribe(),Me=void 0},ct=()=>{lt(),Ne=Ze=void 0,Ye=Re=!1},ne=()=>{const ye=Ne;ct(),ye?.unsubscribe()};return(0,ie.e)((ye,oe)=>{Fe++,!Re&&!Ye&&lt();const ve=Ze=Ze??Ee();oe.add(()=>{Fe--,0===Fe&&!Re&&!Ye&&(Me=ee(ne,q))}),ve.subscribe(oe),!Ne&&Fe>0&&(Ne=new L.Hp({next:Ve=>ve.next(Ve),error:Ve=>{Re=!0,lt(),Me=ee(ct,de,Ve),ve.error(Ve)},complete:()=>{Ye=!0,lt(),Me=ee(ct,H),ve.complete()}}),(0,o.Xf)(ye).subscribe(Ne))})(te)}}function ee(ge,Ee,...de){if(!0===Ee)return void ge();if(!1===Ee)return;const H=new L.Hp({next:()=>{H.unsubscribe(),ge()}});return(0,o.Xf)(Ee(...de)).subscribe(H)}},5137:(ht,we,P)=>{P.d(we,{R:()=>X});var o=P(9360);function X(L,ie=0){return(0,o.e)((re,ee)=>{ee.add(L.schedule(()=>re.subscribe(ee),ie))})}},4664:(ht,we,P)=>{P.d(we,{w:()=>ie});var o=P(4829),X=P(9360),L=P(8251);function ie(re,ee){return(0,X.e)((ge,Ee)=>{let de=null,H=0,q=!1;const te=()=>q&&!de&&Ee.complete();ge.subscribe((0,L.x)(Ee,Ne=>{de?.unsubscribe();let Me=0;const Ze=H++;(0,o.Xf)(re(Ne,Ze)).subscribe(de=(0,L.x)(Ee,Fe=>Ee.next(ee?ee(Ne,Fe,Ze,Me++):Fe),()=>{de=null,te()}))},()=>{q=!0,te()}))})}},9397:(ht,we,P)=>{P.d(we,{b:()=>re});var o=P(4674),X=P(9360),L=P(8251),ie=P(2737);function re(ee,ge,Ee){const de=(0,o.m)(ee)||ge||Ee?{next:ee,error:ge,complete:Ee}:ee;return de?(0,X.e)((H,q)=>{var te;null===(te=de.subscribe)||void 0===te||te.call(de);let Ne=!0;H.subscribe((0,L.x)(q,Me=>{var Ze;null===(Ze=de.next)||void 0===Ze||Ze.call(de,Me),q.next(Me)},()=>{var Me;Ne=!1,null===(Me=de.complete)||void 0===Me||Me.call(de),q.complete()},Me=>{var Ze;Ne=!1,null===(Ze=de.error)||void 0===Ze||Ze.call(de,Me),q.error(Me)},()=>{var Me,Ze;Ne&&(null===(Me=de.unsubscribe)||void 0===Me||Me.call(de)),null===(Ze=de.finalize)||void 0===Ze||Ze.call(de)}))}):ie.y}},1954:(ht,we,P)=>{P.d(we,{o:()=>re});var o=P(7394);class X extends o.w0{constructor(ge,Ee){super()}schedule(ge,Ee=0){return this}}const L={setInterval(ee,ge,...Ee){const{delegate:de}=L;return de?.setInterval?de.setInterval(ee,ge,...Ee):setInterval(ee,ge,...Ee)},clearInterval(ee){const{delegate:ge}=L;return(ge?.clearInterval||clearInterval)(ee)},delegate:void 0};var ie=P(9039);class re extends X{constructor(ge,Ee){super(ge,Ee),this.scheduler=ge,this.work=Ee,this.pending=!1}schedule(ge,Ee=0){var de;if(this.closed)return this;this.state=ge;const H=this.id,q=this.scheduler;return null!=H&&(this.id=this.recycleAsyncId(q,H,Ee)),this.pending=!0,this.delay=Ee,this.id=null!==(de=this.id)&&void 0!==de?de:this.requestAsyncId(q,this.id,Ee),this}requestAsyncId(ge,Ee,de=0){return L.setInterval(ge.flush.bind(ge,this),de)}recycleAsyncId(ge,Ee,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return Ee;null!=Ee&&L.clearInterval(Ee)}execute(ge,Ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(ge,Ee);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ge,Ee){let H,de=!1;try{this.work(ge)}catch(q){de=!0,H=q||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:ge,scheduler:Ee}=this,{actions:de}=Ee;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.P)(de,this),null!=ge&&(this.id=this.recycleAsyncId(Ee,ge,null)),this.delay=null,super.unsubscribe()}}}},2631:(ht,we,P)=>{P.d(we,{v:()=>L});var o=P(4552);class X{constructor(re,ee=X.now){this.schedulerActionCtor=re,this.now=ee}schedule(re,ee=0,ge){return new this.schedulerActionCtor(this,re).schedule(ge,ee)}}X.now=o.l.now;class L extends X{constructor(re,ee=X.now){super(re,ee),this.actions=[],this._active=!1}flush(re){const{actions:ee}=this;if(this._active)return void ee.push(re);let ge;this._active=!0;do{if(ge=re.execute(re.state,re.delay))break}while(re=ee.shift());if(this._active=!1,ge){for(;re=ee.shift();)re.unsubscribe();throw ge}}}},6321:(ht,we,P)=>{P.d(we,{P:()=>ie,z:()=>L});var o=P(1954);const L=new(P(2631).v)(o.o),ie=L},4552:(ht,we,P)=>{P.d(we,{l:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},7599:(ht,we,P)=>{P.d(we,{z:()=>o});const o={setTimeout(X,L,...ie){const{delegate:re}=o;return re?.setTimeout?re.setTimeout(X,L,...ie):setTimeout(X,L,...ie)},clearTimeout(X){const{delegate:L}=o;return(L?.clearTimeout||clearTimeout)(X)},delegate:void 0}},4971:(ht,we,P)=>{P.d(we,{h:()=>X});const X=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(ht,we,P)=>{P.d(we,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(ht,we,P)=>{P.d(we,{_6:()=>ee,jO:()=>ie,yG:()=>re});var o=P(4674),X=P(671);function L(ge){return ge[ge.length-1]}function ie(ge){return(0,o.m)(L(ge))?ge.pop():void 0}function re(ge){return(0,X.K)(L(ge))?ge.pop():void 0}function ee(ge,Ee){return"number"==typeof L(ge)?ge.pop():Ee}},9039:(ht,we,P)=>{function o(X,L){if(X){const ie=X.indexOf(L);0<=ie&&X.splice(ie,1)}}P.d(we,{P:()=>o})},2306:(ht,we,P)=>{function o(X){const ie=X(re=>{Error.call(re),re.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}P.d(we,{d:()=>o})},1441:(ht,we,P)=>{P.d(we,{O:()=>ie,x:()=>L});var o=P(2653);let X=null;function L(re){if(o.config.useDeprecatedSynchronousErrorHandling){const ee=!X;if(ee&&(X={errorThrown:!1,error:null}),re(),ee){const{errorThrown:ge,error:Ee}=X;if(X=null,ge)throw Ee}}else re()}function ie(re){o.config.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=re)}},7103:(ht,we,P)=>{function o(X,L,ie,re=0,ee=!1){const ge=L.schedule(function(){ie(),ee?X.add(this.schedule(null,re)):this.unsubscribe()},re);if(X.add(ge),!ee)return ge}P.d(we,{f:()=>o})},2737:(ht,we,P)=>{function o(X){return X}P.d(we,{y:()=>o})},4266:(ht,we,P)=>{P.d(we,{z:()=>o});const o=X=>X&&"number"==typeof X.length&&"function"!=typeof X},5726:(ht,we,P)=>{P.d(we,{D:()=>X});var o=P(4674);function X(L){return Symbol.asyncIterator&&(0,o.m)(L?.[Symbol.asyncIterator])}},4674:(ht,we,P)=>{function o(X){return"function"==typeof X}P.d(we,{m:()=>o})},8382:(ht,we,P)=>{P.d(we,{c:()=>L});var o=P(4850),X=P(4674);function L(ie){return(0,X.m)(ie[o.L])}},3664:(ht,we,P)=>{P.d(we,{T:()=>L});var o=P(4971),X=P(4674);function L(ie){return(0,X.m)(ie?.[o.h])}},4026:(ht,we,P)=>{P.d(we,{t:()=>X});var o=P(4674);function X(L){return(0,o.m)(L?.then)}},541:(ht,we,P)=>{P.d(we,{L:()=>ie,Q:()=>L});var o=P(7582),X=P(4674);function L(re){return(0,o.FC)(this,arguments,function*(){const ge=re.getReader();try{for(;;){const{value:Ee,done:de}=yield(0,o.qq)(ge.read());if(de)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(Ee)}}finally{ge.releaseLock()}})}function ie(re){return(0,X.m)(re?.getReader)}},671:(ht,we,P)=>{P.d(we,{K:()=>X});var o=P(4674);function X(L){return L&&(0,o.m)(L.schedule)}},9360:(ht,we,P)=>{P.d(we,{A:()=>X,e:()=>L});var o=P(4674);function X(ie){return(0,o.m)(ie?.lift)}function L(ie){return re=>{if(X(re))return re.lift(function(ee){try{return ie(ee,this)}catch(ge){this.error(ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(ht,we,P)=>{function o(){}P.d(we,{Z:()=>o})},8407:(ht,we,P)=>{P.d(we,{U:()=>L,z:()=>X});var o=P(2737);function X(...ie){return L(ie)}function L(ie){return 0===ie.length?o.y:1===ie.length?ie[0]:function(ee){return ie.reduce((ge,Ee)=>Ee(ge),ee)}}},3894:(ht,we,P)=>{P.d(we,{h:()=>L});var o=P(2653),X=P(7599);function L(ie){X.z.setTimeout(()=>{const{onUnhandledError:re}=o.config;if(!re)throw ie;re(ie)})}},9853:(ht,we,P)=>{function o(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(we,{z:()=>o})},5879:(ht,we,P)=>{P.d(we,{$8M:()=>Li,$WT:()=>Po,$Z:()=>pg,AFp:()=>r0,ALo:()=>i_,AaK:()=>te,BQk:()=>qf,CHM:()=>Bc,CRH:()=>vp,EJc:()=>Dp,EiD:()=>cS,EpF:()=>ce,F$t:()=>vA,F4k:()=>Wo,FYo:()=>l0,FiY:()=>Wl,G48:()=>pM,Gf:()=>eb,GfV:()=>u0,GkF:()=>Tv,Gpc:()=>Ze,Gre:()=>wC,HDt:()=>Cx,Hsn:()=>Ws,Ikx:()=>ac,JOm:()=>pf,JVY:()=>yR,JZr:()=>ct,KtG:()=>Pl,L6k:()=>Gy,LAX:()=>bR,LFG:()=>vt,Lbi:()=>CS,Lck:()=>Ar,MAs:()=>Ai,MMx:()=>hI,NdJ:()=>aC,O4$:()=>Sm,Ojb:()=>lB,OlP:()=>Rn,Oqu:()=>yr,P3R:()=>tg,PXZ:()=>vF,Q6J:()=>Qe,QGY:()=>Yf,QbO:()=>aB,Qsj:()=>c0,R0b:()=>jr,RDi:()=>QE,Rgc:()=>mp,SBq:()=>og,Sil:()=>mF,Suo:()=>tb,TTD:()=>Wh,TgZ:()=>il,Udp:()=>Ov,VKq:()=>yI,VuI:()=>sD,W1O:()=>dx,WFA:()=>Qd,X6Q:()=>Ap,XFs:()=>xt,Xpm:()=>io,Xq5:()=>W0,Xts:()=>qy,Y36:()=>kf,YKP:()=>Yv,YNc:()=>iC,Yjl:()=>hm,Yz7:()=>Mt,Z0I:()=>yn,ZZ4:()=>kb,_Bn:()=>WC,_UZ:()=>$f,_Vd:()=>qs,_c5:()=>MF,_uU:()=>Un,aQg:()=>Rb,c2e:()=>f_,cJS:()=>oi,cg1:()=>sh,d8E:()=>Uv,dDg:()=>Mx,dqk:()=>un,eBb:()=>vR,eFA:()=>bb,eJc:()=>ku,ekj:()=>Fv,eoX:()=>iM,f3M:()=>G,g9A:()=>LR,h0i:()=>dp,hGG:()=>Ob,hij:()=>Lg,iGM:()=>ux,ifc:()=>Dn,ip1:()=>QI,jDz:()=>e_,kL8:()=>LA,kcU:()=>Bl,lG2:()=>El,lcZ:()=>CI,lqb:()=>Vd,lri:()=>_b,mCW:()=>Qm,n5z:()=>xn,n_E:()=>uh,oAB:()=>Ju,oxw:()=>kv,pB0:()=>wR,q3G:()=>Ld,q4F:()=>ag,qFp:()=>PF,qLn:()=>ou,qOj:()=>Gd,qZA:()=>Mv,qzn:()=>Cf,rWj:()=>yb,rg0:()=>vm,sBO:()=>hc,s_b:()=>a_,soG:()=>p_,tb:()=>Tx,tp0:()=>Kc,uIk:()=>Ig,vHH:()=>ne,vpe:()=>Ca,wAp:()=>lc,xi3:()=>ix,xp6:()=>lv,ynx:()=>rs,z2F:()=>Pu,z3N:()=>Jl,zSh:()=>Ky,zs3:()=>ec});var o=P(8645),X=P(7394),L=P(5619),ie=P(5592),re=P(3019),ee=P(2096),ge=P(3020),Ee=P(4664),de=P(3997);function H(a){for(let l in a)if(a[l]===H)return l;throw Error("Could not find renamed property on target object.")}function q(a,l){for(const u in l)l.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=l[u])}function te(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(te).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function Ne(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const Me=H({__forward_ref__:H});function Ze(a){return a.__forward_ref__=Ze,a.toString=function(){return te(this())},a}function Fe(a){return Ye(a)?a():a}function Ye(a){return"function"==typeof a&&a.hasOwnProperty(Me)&&a.__forward_ref__===Ze}function Re(a){return a&&!!a.\u0275providers}const ct="https://g.co/ng/security#xss";class ne extends Error{constructor(l,u){super(function ye(a,l){return`NG0${Math.abs(a)}${l?": "+l:""}`}(l,u)),this.code=l}}function oe(a){return"string"==typeof a?a:null==a?"":String(a)}function Ue(a,l){throw new ne(-201,!1)}function ut(a,l){null==a&&function qe(a,l,u,h){throw new Error(`ASSERTION ERROR: ${a}`+(null==h?"":` [Expected=> ${u} ${h} ${l} <=Actual]`))}(l,a,null,"!=")}function Mt(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function oi(a){return{providers:a.providers||[],imports:a.imports||[]}}function ki(a){return Xn(a,wr)||Xn(a,qr)}function yn(a){return null!==ki(a)}function Xn(a,l){return a.hasOwnProperty(l)?a[l]:null}function br(a){return a&&(a.hasOwnProperty(ks)||a.hasOwnProperty(ds))?a[ks]:null}const wr=H({\u0275prov:H}),ks=H({\u0275inj:H}),qr=H({ngInjectableDef:H}),ds=H({ngInjectorDef:H});var xt=function(a){return a[a.Default=0]="Default",a[a.Host=1]="Host",a[a.Self=2]="Self",a[a.SkipSelf=4]="SkipSelf",a[a.Optional=8]="Optional",a}(xt||{});let Ht;function ai(a){const l=Ht;return Ht=a,l}function Rs(a,l,u){const h=ki(a);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&xt.Optional?null:void 0!==l?l:void Ue(te(a))}const un=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Os={},dn="__NG_DI_FLAG__",Rr="ngTempTokenPath",xc=/\n/gm,Ro="__source";let nt;function Xe(a){const l=nt;return nt=a,l}function Rt(a,l=xt.Default){if(void 0===nt)throw new ne(-203,!1);return null===nt?Rs(a,void 0,l):nt.get(a,l&xt.Optional?null:void 0,l)}function vt(a,l=xt.Default){return(function Wt(){return Ht}()||Rt)(Fe(a),l)}function G(a,l=xt.Default){return vt(a,z(l))}function z(a){return typeof a>"u"||"number"==typeof a?a:0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)}function Z(a){const l=[];for(let u=0;u<a.length;u++){const h=Fe(a[u]);if(Array.isArray(h)){if(0===h.length)throw new ne(900,!1);let f,g=xt.Default;for(let v=0;v<h.length;v++){const x=h[v],D=le(x);"number"==typeof D?-1===D?f=x.token:g|=D:f=x}l.push(vt(f,g))}else l.push(vt(h))}return l}function be(a,l){return a[dn]=l,a.prototype[dn]=l,a}function le(a){return a[dn]}function Qt(a){return{toString:a}.toString()}var li=function(a){return a[a.OnPush=0]="OnPush",a[a.Default=1]="Default",a}(li||{}),Dn=function(a){return a[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",a}(Dn||{});const gi={},st=[],_i=H({\u0275cmp:H}),ea=H({\u0275dir:H}),to=H({\u0275pipe:H}),am=H({\u0275mod:H}),no=H({\u0275fac:H}),vl=H({__NG_ELEMENT_ID__:H}),ta=H({__NG_ENV_ID__:H});function Zu(a,l,u){let h=a.length;for(;;){const f=a.indexOf(l,u);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const g=l.length;if(f+g===h||a.charCodeAt(f+g)<=32)return f}u=f+1}}function Ku(a,l,u){let h=0;for(;h<u.length;){const f=u[h];if("number"==typeof f){if(0!==f)break;h++;const g=u[h++],v=u[h++],x=u[h++];a.setAttribute(l,v,x,g)}else{const g=f,v=u[++h];bl(g)?a.setProperty(l,g,v):a.setAttribute(l,g,v),h++}}return h}function Di(a){return 3===a||4===a||6===a}function bl(a){return 64===a.charCodeAt(0)}function Oo(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let u=-1;for(let h=0;h<l.length;h++){const f=l[h];"number"==typeof f?u=f:0===u||Fa(a,u,f,null,-1===u||2===u?l[++h]:null)}}return a}function Fa(a,l,u,h,f){let g=0,v=a.length;if(-1===l)v=-1;else for(;g<a.length;){const x=a[g++];if("number"==typeof x){if(x===l){v=-1;break}if(x>l){v=g-1;break}}}for(;g<a.length;){const x=a[g];if("number"==typeof x)break;if(x===u){if(null===h)return void(null!==f&&(a[g+1]=f));if(h===a[g+1])return void(a[g+2]=f)}g++,null!==h&&g++,null!==f&&g++}-1!==v&&(a.splice(v,0,l),g=v+1),a.splice(g++,0,u),null!==h&&a.splice(g++,0,h),null!==f&&a.splice(g++,0,f)}const Qu="ng-template";function lm(a,l,u){let h=0,f=!0;for(;h<a.length;){let g=a[h++];if("string"==typeof g&&f){const v=a[h++];if(u&&"class"===g&&-1!==Zu(v.toLowerCase(),l,0))return!0}else{if(1===g){for(;h<a.length&&"string"==typeof(g=a[h++]);)if(g.toLowerCase()===l)return!0;return!1}"number"==typeof g&&(f=!1)}}return!1}function Xu(a){return 4===a.type&&a.value!==Qu}function Fo(a,l,u){return l===(4!==a.type||u?a.value:Qu)}function nr(a,l,u){let h=4;const f=a.attrs||[],g=function Pa(a){for(let l=0;l<a.length;l++)if(Di(a[l]))return l;return a.length}(f);let v=!1;for(let x=0;x<l.length;x++){const D=l[x];if("number"!=typeof D){if(!v)if(4&h){if(h=2|1&h,""!==D&&!Fo(a,D,u)||""===D&&1===l.length){if(Ri(h))return!1;v=!0}}else{const I=8&h?D:l[++x];if(8&h&&null!==a.attrs){if(!lm(a.attrs,I,u)){if(Ri(h))return!1;v=!0}continue}const V=Th(8&h?"class":D,f,Xu(a),u);if(-1===V){if(Ri(h))return!1;v=!0;continue}if(""!==I){let W;W=V>g?"":f[V+1].toLowerCase();const J=8&h?W:null;if(J&&-1!==Zu(J,I,0)||2&h&&I!==W){if(Ri(h))return!1;v=!0}}}}else{if(!v&&!Ri(h)&&!Ri(D))return!1;if(v&&Ri(D))continue;v=!1,h=D|1&h}}return Ri(h)||v}function Ri(a){return 0==(1&a)}function Th(a,l,u,h){if(null===l)return-1;let f=0;if(h||!u){let g=!1;for(;f<l.length;){const v=l[f];if(v===a)return f;if(3===v||6===v)g=!0;else{if(1===v||2===v){let x=l[++f];for(;"string"==typeof x;)x=l[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=g?1:2}return-1}return function Dc(a,l){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const h=a[u];if("number"==typeof h)return-1;if(h===l)return u;u++}return-1}(l,a)}function wl(a,l,u=!1){for(let h=0;h<l.length;h++)if(nr(a,l[h],u))return!0;return!1}function cm(a,l){e:for(let u=0;u<l.length;u++){const h=l[u];if(a.length===h.length){for(let f=0;f<a.length;f++)if(a[f]!==h[f])continue e;return!0}}return!1}function Oi(a,l){return a?":not("+l.trim()+")":l}function Cl(a){let l=a[0],u=1,h=2,f="",g=!1;for(;u<a.length;){let v=a[u];if("string"==typeof v)if(2&h){const x=a[++u];f+="["+v+(x.length>0?'="'+x+'"':"")+"]"}else 8&h?f+="."+v:4&h&&(f+=" "+v);else""!==f&&!Ri(v)&&(l+=Oi(g,f),f=""),h=v,g=g||!Ri(h);u++}return""!==f&&(l+=Oi(g,f)),l}function io(a){return Qt(()=>{const l=hs(a),u={...l,decls:a.decls,vars:a.vars,template:a.template,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,onPush:a.changeDetection===li.OnPush,directiveDefs:null,pipeDefs:null,dependencies:l.standalone&&a.dependencies||null,getStandaloneInjector:null,signals:a.signals??!1,data:a.data||{},encapsulation:a.encapsulation||Dn.Emulated,styles:a.styles||st,_:null,schemas:a.schemas||null,tView:null,id:""};Oh(u);const h=a.dependencies;return u.directiveDefs=La(h,!1),u.pipeDefs=La(h,!0),u.id=function ro(a){let l=0;const u=[a.selectors,a.ngContentSelectors,a.hostVars,a.hostAttrs,a.consts,a.vars,a.decls,a.encapsulation,a.standalone,a.signals,a.exportAs,JSON.stringify(a.inputs),JSON.stringify(a.outputs),Object.getOwnPropertyNames(a.type.prototype),!!a.contentQueries,!!a.viewQuery].join("|");for(const f of u)l=Math.imul(31,l)+f.charCodeAt(0)<<0;return l+=2147483648,"c"+l}(u),u})}function um(a){return Lt(a)||yi(a)}function dm(a){return null!==a}function Ju(a){return Qt(()=>({type:a.type,bootstrap:a.bootstrap||st,declarations:a.declarations||st,imports:a.imports||st,exports:a.exports||st,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function ed(a,l){if(null==a)return gi;const u={};for(const h in a)if(a.hasOwnProperty(h)){let f=a[h],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),u[f]=h,l&&(l[f]=g)}return u}function El(a){return Qt(()=>{const l=hs(a);return Oh(l),l})}function hm(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function Lt(a){return a[_i]||null}function yi(a){return a[ea]||null}function Jn(a){return a[to]||null}function Po(a){const l=Lt(a)||yi(a)||Jn(a);return null!==l&&l.standalone}function Fr(a,l){const u=a[am]||null;if(!u&&!0===l)throw new Error(`Type ${te(a)} does not have '\u0275mod' property.`);return u}function hs(a){const l={};return{type:a.type,providersResolver:null,factory:null,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:l,inputTransforms:null,inputConfig:a.inputs||gi,exportAs:a.exportAs||null,standalone:!0===a.standalone,signals:!0===a.signals,selectors:a.selectors||st,viewQuery:a.viewQuery||null,features:a.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ed(a.inputs,l),outputs:ed(a.outputs)}}function Oh(a){a.features?.forEach(l=>l(a))}function La(a,l){if(!a)return null;const u=l?Jn:um;return()=>("function"==typeof a?a():a).map(h=>u(h)).filter(dm)}const Ei=0,tt=1,Pt=2,Gn=3,Pr=4,fs=5,fr=6,No=7,Fn=8,na=9,Fs=10,At=11,ps=12,ia=13,Ps=14,jn=15,Sl=16,Al=17,ci=18,so=19,Nr=20,oo=21,Zr=22,Lr=23,Pn=24,Xt=25,Sc=1,Il=2,ms=7,Lo=9,Si=11;function vi(a){return Array.isArray(a)&&"object"==typeof a[Sc]}function ji(a){return Array.isArray(a)&&!0===a[Sc]}function Ac(a){return 0!=(4&a.flags)}function gs(a){return a.componentOffset>-1}function ra(a){return 1==(1&a.flags)}function ir(a){return!!a.template}function ei(a){return 0!=(512&a[Pt])}function sa(a,l){return a.hasOwnProperty(no)?a[no]:null}let iy=un.WeakRef??class jh{constructor(l){this.ref=l}deref(){return this.ref}},Tl=0,Qr=null,Ba=!1;function ni(a){const l=Qr;return Qr=a,l}class Vo{constructor(){this.id=Tl++,this.ref=function kc(a){return new iy(a)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[l,u]of this.producers){const h=u.producerNode.deref();if(null!=h&&u.atTrackingVersion===this.trackingVersion){if(h.producerPollStatus(u.seenValueVersion))return!0}else this.producers.delete(l),h?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const l=Ba;Ba=!0;try{for(const[u,h]of this.consumers){const f=h.consumerNode.deref();null!=f&&f.trackingVersion===h.atTrackingVersion?f.onConsumerDependencyMayHaveChanged():(this.consumers.delete(u),f?.producers.delete(this.id))}}finally{Ba=l}}producerAccessed(){if(Ba)throw new Error("");if(null===Qr)return;let l=Qr.producers.get(this.id);void 0===l?(l={consumerNode:Qr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Qr.trackingVersion},Qr.producers.set(this.id,l),this.consumers.set(Qr.id,l)):(l.seenValueVersion=this.valueVersion,l.atTrackingVersion=Qr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Qr?.consumerAllowSignalWrites}producerPollStatus(l){return this.valueVersion!==l||(this.onProducerUpdateValueVersion(),this.valueVersion!==l)}}let qh=null;function vm(a){const l=ni(null);try{return a()}finally{ni(l)}}const cd=()=>{};class oy extends Vo{constructor(l,u,h){super(),this.watch=l,this.schedule=u,this.dirty=!1,this.cleanupFn=cd,this.registerOnCleanup=f=>{this.cleanupFn=f},this.consumerAllowSignalWrites=h}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const l=ni(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=cd,this.watch(this.registerOnCleanup)}finally{ni(l)}}cleanup(){this.cleanupFn()}}class ud{constructor(l,u,h){this.previousValue=l,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function Wh(){return ay}function ay(a){return a.type.prototype.ngOnChanges&&(a.setInput=Zh),ly}function ly(){const a=Ew(this),l=a?.current;if(l){const u=a.previous;if(u===gi)a.previous=l;else for(let h in l)u[h]=l[h];a.current=null,this.ngOnChanges(l)}}function Zh(a,l,u,h){const f=this.declaredInputs[u],g=Ew(a)||function Kh(a,l){return a[Dw]=l}(a,{previous:gi,current:null}),v=g.current||(g.current={}),x=g.previous,D=x[f];v[f]=new ud(D&&D.currentValue,l,x===gi),a[h]=l}Wh.ngInherit=!0;const Dw="__ngSimpleChanges__";function Ew(a){return a[Dw]||null}const _s=function(a,l,u){},aa="svg";function Zt(a){for(;Array.isArray(a);)a=a[Ei];return a}function Fc(a,l){return Zt(l[a])}function rr(a,l){return Zt(l[a.index])}function za(a,l){return a.data[l]}function ao(a,l){return a[l]}function Fi(a,l){const u=l[a];return vi(u)?u:u[Ei]}function lo(a,l){return null==l?null:a[l]}function Cr(a){a[Al]=0}function Ga(a){1024&a[Pt]||(a[Pt]|=1024,ys(a,1))}function Xh(a){1024&a[Pt]&&(a[Pt]&=-1025,ys(a,-1))}function ys(a,l){let u=a[Gn];if(null===u)return;u[fs]+=l;let h=u;for(u=u[Gn];null!==u&&(1===l&&1===h[fs]||-1===l&&0===h[fs]);)u[fs]+=l,h=u,u=u[Gn]}const It={lFrame:rf(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Fl(){return It.bindingsEnabled}function Uo(){return null!==It.skipHydrationRootTNode}function xe(){return It.lFrame.lView}function Kt(){return It.lFrame.tView}function Bc(a){return It.lFrame.contextLView=a,a[Fn]}function Pl(a){return It.lFrame.contextLView=null,a}function bi(){let a=Vc();for(;null!==a&&64===a.type;)a=a.parent;return a}function Vc(){return It.lFrame.currentTNode}function Br(a,l){const u=It.lFrame;u.currentTNode=a,u.isParent=l}function Uc(){return It.lFrame.isParent}function Nl(){It.lFrame.isParent=!1}function $i(){const a=It.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function co(){return It.lFrame.bindingIndex++}function vs(a){const l=It.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,u}function xm(a,l){const u=It.lFrame;u.bindingIndex=u.bindingRootIndex=a,ha(l)}function ha(a){It.lFrame.currentDirectiveIndex=a}function tf(a){const l=It.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function md(){return It.lFrame.currentQueryIndex}function Hc(a){It.lFrame.currentQueryIndex=a}function ho(a){const l=a[tt];return 2===l.type?l.declTNode:1===l.type?a[fr]:null}function nf(a,l,u){if(u&xt.SkipSelf){let f=l,g=a;for(;!(f=f.parent,null!==f||u&xt.Host||(f=ho(g),null===f||(g=g[Ps],10&f.type))););if(null===f)return!1;l=f,a=g}const h=It.lFrame=$a();return h.currentTNode=l,h.lView=a,!0}function gd(a){const l=$a(),u=a[tt];It.lFrame=l,l.currentTNode=u.firstChild,l.lView=a,l.tView=u,l.contextLView=a,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function $a(){const a=It.lFrame,l=null===a?null:a.child;return null===l?rf(a):l}function rf(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function dy(){const a=It.lFrame;return It.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Dm=dy;function Em(){const a=dy();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function pr(){return It.lFrame.selectedIndex}function fa(a){It.lFrame.selectedIndex=a}function Nn(){const a=It.lFrame;return za(a.tView,a.selectedIndex)}function Sm(){It.lFrame.currentNamespace=aa}function Bl(){!function _d(){It.lFrame.currentNamespace=null}()}let Vl=!0;function af(){return Vl}function fo(a){Vl=a}function Bs(a,l){for(let u=l.directiveStart,h=l.directiveEnd;u<h;u++){const g=a.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:x,ngAfterViewInit:D,ngAfterViewChecked:I,ngOnDestroy:R}=g;v&&(a.contentHooks??=[]).push(-u,v),x&&((a.contentHooks??=[]).push(u,x),(a.contentCheckHooks??=[]).push(u,x)),D&&(a.viewHooks??=[]).push(-u,D),I&&((a.viewHooks??=[]).push(u,I),(a.viewCheckHooks??=[]).push(u,I)),null!=R&&(a.destroyHooks??=[]).push(u,R)}}function Ul(a,l,u){Ho(a,l,3,u)}function yd(a,l,u,h){(3&a[Pt])===u&&Ho(a,l,u,h)}function Gc(a,l){let u=a[Pt];(3&u)===l&&(u&=8191,u+=1,a[Pt]=u)}function Ho(a,l,u,h){const g=h??-1,v=l.length-1;let x=0;for(let D=void 0!==h?65535&a[Al]:0;D<v;D++)if("number"==typeof l[D+1]){if(x=l[D],null!=h&&x>=h)break}else l[D]<0&&(a[Al]+=65536),(x<g||-1==g)&&(jc(a,u,l,D),a[Al]=(4294901760&a[Al])+D+2),D++}function Ya(a,l){_s(4,a,l);const u=ni(null);try{l.call(a)}finally{ni(u),_s(5,a,l)}}function jc(a,l,u,h){const f=u[h]<0,g=u[h+1],x=a[f?-u[h]:u[h]];f?a[Pt]>>13<a[Al]>>16&&(3&a[Pt])===l&&(a[Pt]+=8192,Ya(x,g)):Ya(x,g)}const Ae=-1;class En{constructor(l,u,h){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function lf(a){return a!==Ae}function Gl(a){return 32767&a}function Vs(a,l){let u=function po(a){return a>>16}(a),h=l;for(;u>0;)h=h[Ps],u--;return h}let We=!0;function $c(a){const l=We;return We=a,l}const Wa=255,zo=5;let cf=0;const Sn={};function A(a,l){const u=U(a,l);if(-1!==u)return u;const h=l[tt];h.firstCreatePass&&(a.injectorIndex=l.length,k(h.data,a),k(l,null),k(h.blueprint,null));const f=Q(a,l),g=a.injectorIndex;if(lf(f)){const v=Gl(f),x=Vs(f,l),D=x[tt].data;for(let I=0;I<8;I++)l[g+I]=x[v+I]|D[v+I]}return l[g+8]=f,g}function k(a,l){a.push(0,0,0,0,0,0,0,0,l)}function U(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function Q(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,h=null,f=l;for(;null!==f;){if(h=kn(f),null===h)return Ae;if(u++,f=f[Ps],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return Ae}function se(a,l,u){!function S(a,l,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(vl)&&(h=u[vl]),null==h&&(h=u[vl]=cf++);const f=h&Wa;l.data[a+(f>>zo)]|=1<<f}(a,l,u)}function ot(a,l,u){if(u&xt.Optional||void 0!==a)return a;Ue()}function ft(a,l,u,h){if(u&xt.Optional&&void 0===h&&(h=null),!(u&(xt.Self|xt.Host))){const f=a[na],g=ai(void 0);try{return f?f.get(l,h,u&xt.Optional):Rs(l,h,u&xt.Optional)}finally{ai(g)}}return ot(h,0,u)}function pt(a,l,u,h=xt.Default,f){if(null!==a){if(2048&l[Pt]&&!(h&xt.Self)){const v=function Us(a,l,u,h,f){let g=a,v=l;for(;null!==g&&null!==v&&2048&v[Pt]&&!(512&v[Pt]);){const x=Bt(g,v,u,h|xt.Self,Sn);if(x!==Sn)return x;let D=g.parent;if(!D){const I=v[Nr];if(I){const R=I.get(u,Sn,h);if(R!==Sn)return R}D=kn(v),v=v[Ps]}g=D}return f}(a,l,u,h,Sn);if(v!==Sn)return v}const g=Bt(a,l,u,h,Sn);if(g!==Sn)return g}return ft(l,u,h,f)}function Bt(a,l,u,h,f){const g=function Ln(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(vl)?a[vl]:void 0;return"number"==typeof l?l>=0?l&Wa:Ke:l}(u);if("function"==typeof g){if(!nf(l,a,h))return h&xt.Host?ot(f,0,h):ft(l,u,h,f);try{const v=g(h);if(null!=v||h&xt.Optional)return v;Ue()}finally{Dm()}}else if("number"==typeof g){let v=null,x=U(a,l),D=Ae,I=h&xt.Host?l[jn][fr]:null;for((-1===x||h&xt.SkipSelf)&&(D=-1===x?Q(a,l):l[x+8],D!==Ae&&mo(h,!1)?(v=l[tt],x=Gl(D),l=Vs(D,l)):x=-1);-1!==x;){const R=l[tt];if(ii(g,x,R.data)){const V=Ot(x,l,u,v,h,I);if(V!==Sn)return V}D=l[x+8],D!==Ae&&mo(h,l[tt].data[x+8]===I)&&ii(g,x,l)?(v=R,x=Gl(D),l=Vs(D,l)):x=-1}}return f}function Ot(a,l,u,h,f,g){const v=l[tt],x=v.data[a+8],R=$n(x,v,u,null==h?gs(x)&&We:h!=v&&0!=(3&x.type),f&xt.Host&&g===x);return null!==R?vn(l,v,R,x):Sn}function $n(a,l,u,h,f){const g=a.providerIndexes,v=l.data,x=1048575&g,D=a.directiveStart,R=g>>20,W=f?x+R:a.directiveEnd;for(let J=h?x:x+R;J<W;J++){const Ce=v[J];if(J<D&&u===Ce||J>=D&&Ce.type===u)return J}if(f){const J=v[D];if(J&&ir(J)&&J.type===u)return D}return null}function vn(a,l,u,h){let f=a[u];const g=l.data;if(function sr(a){return a instanceof En}(f)){const v=f;v.resolving&&function Ve(a,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new ne(-200,`Circular dependency in DI detected for ${a}${u}`)}(function ve(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():oe(a)}(g[u]));const x=$c(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?ai(v.injectImpl):null;nf(a,h,xt.Default);try{f=a[u]=v.factory(void 0,g,a,h),l.firstCreatePass&&u>=h.directiveStart&&function zc(a,l,u){const{ngOnChanges:h,ngOnInit:f,ngDoCheck:g}=l.type.prototype;if(h){const v=ay(l);(u.preOrderHooks??=[]).push(a,v),(u.preOrderCheckHooks??=[]).push(a,v)}f&&(u.preOrderHooks??=[]).push(0-a,f),g&&((u.preOrderHooks??=[]).push(a,g),(u.preOrderCheckHooks??=[]).push(a,g))}(u,g[u],l)}finally{null!==D&&ai(D),$c(x),v.resolving=!1,Dm()}}return f}function ii(a,l,u){return!!(u[l+(a>>zo)]&1<<a)}function mo(a,l){return!(a&xt.Self||a&xt.Host&&l)}class Ni{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,h){return pt(this._tNode,this._lView,l,z(h),u)}}function Ke(){return new Ni(bi(),xe())}function xn(a){return Qt(()=>{const l=a.prototype.constructor,u=l[no]||An(l),h=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==h;){const g=f[no]||An(f);if(g&&g!==u)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function An(a){return Ye(a)?()=>{const l=An(Fe(a));return l&&l()}:sa(a)}function kn(a){const l=a[tt],u=l.type;return 2===u?l.declTNode:1===u?a[fr]:null}function Li(a){return function ke(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const u=a.attrs;if(u){const h=u.length;let f=0;for(;f<h;){const g=u[f];if(Di(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<h&&"string"==typeof u[f];)f++;else{if(g===l)return u[f+1];f+=2}}}return null}(bi(),a)}const jl="__parameters__";function Kn(a,l,u){return Qt(()=>{const h=function go(a){return function(...u){if(a){const h=a(...u);for(const f in h)this[f]=h[f]}}}(l);function f(...g){if(this instanceof f)return h.apply(this,g),this;const v=new f(...g);return x.annotation=v,x;function x(D,I,R){const V=D.hasOwnProperty(jl)?D[jl]:Object.defineProperty(D,jl,{value:[]})[jl];for(;V.length<=R;)V.push(null);return(V[R]=V[R]||[]).push(v),D}}return u&&(f.prototype=Object.create(u.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}function Hs(a,l){a.forEach(u=>Array.isArray(u)?Hs(u,l):l(u))}function _y(a,l,u){l>=a.length?a.push(u):a.splice(l,0,u)}function ql(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function Yc(a,l){const u=[];for(let h=0;h<a;h++)u.push(l);return u}function xr(a,l,u){let h=zs(a,l);return h>=0?a[1|h]=u:(h=~h,function yy(a,l,u,h){let f=a.length;if(f==l)a.push(u,h);else if(1===f)a.push(h,a[0]),a[0]=u;else{for(f--,a.push(a[f-1],a[f]);f>l;)a[f]=a[f-2],f--;a[l]=u,a[l+1]=h}}(a,h,l,u)),h}function Wc(a,l){const u=zs(a,l);if(u>=0)return a[1|u]}function zs(a,l){return function Zc(a,l,u){let h=0,f=a.length>>u;for(;f!==h;){const g=h+(f-h>>1),v=a[g<<u];if(l===v)return g<<u;v>l?f=g:h=g+1}return~(f<<u)}(a,l,1)}const Wl=be(Kn("Optional"),8),Kc=be(Kn("SkipSelf"),4);function jo(a){return 128==(128&a.flags)}var pf=function(a){return a[a.Important=1]="Important",a[a.DashCase=2]="DashCase",a}(pf||{});const Lm=/^>|^->|<!--|-->|--!>|<!-$/g,Bm=/(<|>)/,Bw="\u200b$1\u200b";const Um=new Map;let Ka=0;const Id="__ngContext__";function qn(a,l){vi(l)?(a[Id]=l[so],function Vw(a){Um.set(a[so],a)}(l)):a[Id]=l}let _;function C(a,l){return _(a,l)}function O(a){const l=a[Gn];return ji(l)?l[Gn]:l}function je(a){return Dt(a[ps])}function rt(a){return Dt(a[Pr])}function Dt(a){for(;null!==a&&!ji(a);)a=a[Pr];return a}function yt(a,l,u,h,f){if(null!=h){let g,v=!1;ji(h)?g=h:vi(h)&&(v=!0,h=h[Ei]);const x=Zt(h);0===a&&null!==u?null==f?vf(l,u,x):Td(l,u,x,f||null,!0):1===a&&null!==u?Td(l,u,x,f||null,!0):2===a?function Vy(a,l,u){const h=Wm(a,l);h&&function lR(a,l,u,h){a.removeChild(l,u,h)}(a,h,l,u)}(l,x,v):3===a&&l.destroyNode(x),null!=g&&function dR(a,l,u,h,f){const g=u[ms];g!==Zt(u)&&yt(l,a,h,g,f);for(let x=Si;x<u.length;x++){const D=u[x];Zm(D[tt],D,a,l,h,g)}}(l,a,g,u,f)}}function Ql(a,l){return a.createComment(function Vm(a){return a.replace(Lm,l=>l.replace(Bm,Bw))}(l))}function iu(a,l,u){return a.createElement(l,u)}function $m(a,l){const u=a[Lo],h=u.indexOf(l);Xh(l),u.splice(h,1)}function qm(a,l){if(a.length<=Si)return;const u=Si+l,h=a[u];if(h){const f=h[Sl];null!==f&&f!==a&&$m(f,h),l>0&&(a[u-1][Pr]=h[Pr]);const g=ql(a,Si+l);!function _f(a,l){Zm(a,l,l[At],2,null,null),l[Ei]=null,l[fr]=null}(h[tt],h);const v=g[ci];null!==v&&v.detachView(g[tt]),h[Gn]=null,h[Pr]=null,h[Pt]&=-129}return h}function Ny(a,l){if(!(256&l[Pt])){const u=l[At];l[Lr]?.destroy(),l[Pn]?.destroy(),u.destroyNode&&Zm(a,l,u,3,null,null),function jm(a){let l=a[ps];if(!l)return yf(a[tt],a);for(;l;){let u=null;if(vi(l))u=l[ps];else{const h=l[Si];h&&(u=h)}if(!u){for(;l&&!l[Pr]&&l!==a;)vi(l)&&yf(l[tt],l),l=l[Gn];null===l&&(l=a),vi(l)&&yf(l[tt],l),u=l&&l[Pr]}l=u}}(l)}}function yf(a,l){if(!(256&l[Pt])){l[Pt]&=-129,l[Pt]|=256,function oR(a,l){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let h=0;h<u.length;h+=2){const f=l[u[h]];if(!(f instanceof En)){const g=u[h+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const x=f[g[v]],D=g[v+1];_s(4,x,D);try{D.call(x)}finally{_s(5,x,D)}}else{_s(4,f,g);try{g.call(f)}finally{_s(5,f,g)}}}}}(a,l),function jw(a,l){const u=a.cleanup,h=l[No];if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const v=u[g+3];v>=0?h[v]():h[-v].unsubscribe(),g+=2}else u[g].call(h[u[g+1]]);null!==h&&(l[No]=null);const f=l[oo];if(null!==f){l[oo]=null;for(let g=0;g<f.length;g++)(0,f[g])()}}(a,l),1===l[tt].type&&l[At].destroy();const u=l[Sl];if(null!==u&&ji(l[Gn])){u!==l[Gn]&&$m(u,l);const h=l[ci];null!==h&&h.detachView(a)}!function Fy(a){Um.delete(a[so])}(l)}}function Ym(a,l,u){return function $o(a,l,u){let h=l;for(;null!==h&&40&h.type;)h=(l=h).parent;if(null===h)return u[Ei];{const{componentOffset:f}=h;if(f>-1){const{encapsulation:g}=a.data[h.directiveStart+f];if(g===Dn.None||g===Dn.Emulated)return null}return rr(h,u)}}(a,l.parent,u)}function Td(a,l,u,h,f){a.insertBefore(l,u,h,f)}function vf(a,l,u){a.appendChild(l,u)}function aR(a,l,u,h,f){null!==h?Td(a,l,u,h,f):vf(a,l,u)}function Wm(a,l){return a.parentNode(l)}function $E(a,l,u){return kd(a,l,u)}let Rd,Hy,Ww,Fd,kd=function qE(a,l,u){return 40&a.type?rr(a,u):null};function By(a,l,u,h){const f=Ym(a,h,l),g=l[At],x=$E(h.parent||l[fr],h,l);if(null!=f)if(Array.isArray(u))for(let D=0;D<u.length;D++)aR(g,f,u[D],x,!1);else aR(g,f,u,x,!1);void 0!==Rd&&Rd(g,h,l,u,f)}function Xl(a,l){if(null!==l){const u=l.type;if(3&u)return rr(l,a);if(4&u)return $w(-1,a[l.index]);if(8&u){const h=l.child;if(null!==h)return Xl(a,h);{const f=a[l.index];return ji(f)?$w(-1,f):Zt(f)}}if(32&u)return C(l,a)()||Zt(a[l.index]);{const h=bf(a,l);return null!==h?Array.isArray(h)?h[0]:Xl(O(a[jn]),h):Xl(a,l.next)}}return null}function bf(a,l){return null!==l?a[jn][fr].projection[l.projection]:null}function $w(a,l){const u=Si+a+1;if(u<l.length){const h=l[u],f=h[tt].firstChild;if(null!==f)return Xl(h,f)}return l[ms]}function qw(a,l,u,h,f,g,v){for(;null!=u;){const x=h[u.index],D=u.type;if(v&&0===l&&(x&&qn(Zt(x),h),u.flags|=2),32!=(32&u.flags))if(8&D)qw(a,l,u.child,h,f,g,!1),yt(l,a,f,x,g);else if(32&D){const I=C(u,h);let R;for(;R=I();)yt(l,a,f,R,g);yt(l,a,f,x,g)}else 16&D?uR(a,l,h,u,f,g):yt(l,a,f,x,g);u=v?u.projectionNext:u.next}}function Zm(a,l,u,h,f,g){qw(u,h,a.firstChild,l,f,g,!1)}function uR(a,l,u,h,f,g){const v=u[jn],D=v[fr].projection[h.projection];if(Array.isArray(D))for(let I=0;I<D.length;I++)yt(l,a,f,D[I],g);else{let I=D;const R=v[Gn];jo(h)&&(I.flags|=128),qw(a,l,I,R,f,g,!0)}}function Od(a,l,u){""===u?a.removeAttribute(l,"class"):a.setAttribute(l,"class",u)}function KE(a,l,u){const{mergedAttrs:h,classes:f,styles:g}=u;null!==h&&Ku(a,l,h),null!==f&&Od(a,l,f),null!==g&&function Uy(a,l,u){a.setAttribute(l,"style",u)}(a,l,g)}function wf(a){return function Yw(){if(void 0===Hy&&(Hy=null,un.trustedTypes))try{Hy=un.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Hy}()?.createHTML(a)||a}function QE(a){Ww=a}function XE(a){return function zy(){if(void 0===Fd&&(Fd=null,un.trustedTypes))try{Fd=un.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Fd}()?.createScriptURL(a)||a}class Nd{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ct})`}}class mR extends Nd{getTypeName(){return"HTML"}}class Kw extends Nd{getTypeName(){return"Style"}}class gR extends Nd{getTypeName(){return"Script"}}class Qw extends Nd{getTypeName(){return"URL"}}class JE extends Nd{getTypeName(){return"ResourceURL"}}function Jl(a){return a instanceof Nd?a.changingThisBreaksApplicationSecurity:a}function Cf(a,l){const u=function _R(a){return a instanceof Nd&&a.getTypeName()||null}(a);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see ${ct})`)}return u===l}function yR(a){return new mR(a)}function Gy(a){return new Kw(a)}function vR(a){return new gR(a)}function bR(a){return new Qw(a)}function wR(a){return new JE(a)}class CR{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(wf(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch{return null}}}class xR{constructor(l){this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(l){const u=this.inertDocument.createElement("template");return u.innerHTML=wf(l),u}}const JL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Qm(a){return(a=String(a)).match(JL)?a:"unsafe:"+a}function Ja(a){const l={};for(const u of a.split(","))l[u]=!0;return l}function Xm(...a){const l={};for(const u of a)for(const h in u)u.hasOwnProperty(h)&&(l[h]=!0);return l}const nS=Ja("area,br,col,hr,img,wbr"),iS=Ja("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rS=Ja("rp,rt"),Jm=Xm(nS,Xm(iS,Ja("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xm(rS,Ja("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xm(rS,iS)),ru=Ja("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Xw=Xm(ru,Ja("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ja("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),jy=Ja("script,style,template");class oS{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let f=this.checkClobberedElement(u,u.nextSibling);if(f){u=f;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!Jm.hasOwnProperty(u))return this.sanitizedSomething=!0,!jy.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=l.attributes;for(let f=0;f<h.length;f++){const g=h.item(f),v=g.name,x=v.toLowerCase();if(!Xw.hasOwnProperty(x)){this.sanitizedSomething=!0;continue}let D=g.value;ru[x]&&(D=Qm(D)),this.buf.push(" ",v,'="',lS(D),'"')}return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();Jm.hasOwnProperty(u)&&!nS.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(lS(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const aS=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ER=/([^\#-~ |!])/g;function lS(a){return a.replace(/&/g,"&amp;").replace(aS,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(ER,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $y;function cS(a,l){let u=null;try{$y=$y||function eS(a){const l=new xR(a);return function tS(){try{return!!(new window.DOMParser).parseFromString(wf(""),"text/html")}catch{return!1}}()?new CR(l):l}(a);let h=l?String(l):"";u=$y.getInertBodyElement(h);let f=5,g=h;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,h=g,g=u.innerHTML,u=$y.getInertBodyElement(h)}while(h!==g);return wf((new oS).sanitizeChildren(xf(u)||u))}finally{if(u){const h=xf(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function xf(a){return"content"in a&&function SR(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Ld=function(a){return a[a.NONE=0]="NONE",a[a.HTML=1]="HTML",a[a.STYLE=2]="STYLE",a[a.SCRIPT=3]="SCRIPT",a[a.URL=4]="URL",a[a.RESOURCE_URL=5]="RESOURCE_URL",a}(Ld||{});function dS(a){const l=Df();return l?l.sanitize(Ld.URL,a)||"":Cf(a,"URL")?Jl(a):Qm(oe(a))}function hS(a){const l=Df();if(l)return XE(l.sanitize(Ld.RESOURCE_URL,a)||"");if(Cf(a,"ResourceURL"))return XE(Jl(a));throw new ne(904,!1)}function tg(a,l,u){return function MR(a,l){return"src"===l&&("embed"===a||"frame"===a||"iframe"===a||"media"===a||"script"===a)||"href"===l&&("base"===a||"link"===a)?hS:dS}(l,u)(a)}function Df(){const a=xe();return a&&a[Fs].sanitizer}class Rn{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Mt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const qy=new Rn("ENVIRONMENT_INITIALIZER"),fS=new Rn("INJECTOR",-1),Yy=new Rn("INJECTOR_DEF_TYPES");class Jw{get(l,u=Os){if(u===Os){const h=new Error(`NullInjectorError: No provider for ${te(l)}!`);throw h.name="NullInjectorError",h}return u}}function pS(...a){return{\u0275providers:el(0,a),\u0275fromNgModule:!0}}function el(a,...l){const u=[],h=new Set;let f;return Hs(l,g=>{const v=g;gS(v,u,[],h)&&(f||=[],f.push(v))}),void 0!==f&&mS(f,u),u}function mS(a,l){for(let u=0;u<a.length;u++){const{providers:f}=a[u];_S(f,g=>{l.push(g)})}}function gS(a,l,u,h){if(!(a=Fe(a)))return!1;let f=null,g=br(a);const v=!g&&Lt(a);if(g||v){if(v&&!v.standalone)return!1;f=a}else{const D=a.ngModule;if(g=br(D),!g)return!1;f=D}const x=h.has(f);if(v){if(x)return!1;if(h.add(f),v.dependencies){const D="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const I of D)gS(I,l,u,h)}}else{if(!g)return!1;{if(null!=g.imports&&!x){let I;h.add(f);try{Hs(g.imports,R=>{gS(R,l,u,h)&&(I||=[],I.push(R))})}finally{}void 0!==I&&mS(I,l)}if(!x){const I=sa(f)||(()=>new f);l.push({provide:f,useFactory:I,deps:st},{provide:Yy,useValue:f,multi:!0},{provide:qy,useValue:()=>vt(f),multi:!0})}const D=g.providers;null==D||x||_S(D,R=>{l.push(R)})}}return f!==a&&void 0!==a.providers}function _S(a,l){for(let u of a)Re(u)&&(u=u.\u0275providers),Array.isArray(u)?_S(u,l):l(u)}const yS=H({provide:String,useValue:H});function Wy(a){return null!==a&&"object"==typeof a&&yS in a}function Bd(a){return"function"==typeof a}const Ky=new Rn("Set Injector scope."),Qy={},oB={};let bS;function e0(){return void 0===bS&&(bS=new Jw),bS}class Vd{}class wS extends Vd{get destroyed(){return this._destroyed}constructor(l,u,h,f){super(),this.parent=u,this.source=h,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,n0(l,v=>this.processProvider(v)),this.records.set(fS,Ef(void 0,this)),f.has("environment")&&this.records.set(Vd,Ef(void 0,this));const g=this.records.get(Ky);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Yy.multi,st,xt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();const l=this._onDestroyHooks;this._onDestroyHooks=[];for(const u of l)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(l){return this.assertNotDestroyed(),this._onDestroyHooks.push(l),()=>this.removeOnDestroy(l)}runInContext(l){this.assertNotDestroyed();const u=Xe(this),h=ai(void 0);try{return l()}finally{Xe(u),ai(h)}}get(l,u=Os,h=xt.Default){if(this.assertNotDestroyed(),l.hasOwnProperty(ta))return l[ta](this);h=z(h);const f=Xe(this),g=ai(void 0);try{if(!(h&xt.SkipSelf)){let x=this.records.get(l);if(void 0===x){const D=function PR(a){return"function"==typeof a||"object"==typeof a&&a instanceof Rn}(l)&&ki(l);x=D&&this.injectableDefInScope(D)?Ef(Xy(l),Qy):null,this.records.set(l,x)}if(null!=x)return this.hydrate(l,x)}return(h&xt.Self?e0():this.parent).get(l,u=h&xt.Optional&&u===Os?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[Rr]=v[Rr]||[]).unshift(te(l)),f)throw v;return function dt(a,l,u,h){const f=a[Rr];throw l[Ro]&&f.unshift(l[Ro]),a.message=function Nt(a,l,u,h=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let f=te(l);if(Array.isArray(l))f=l.map(te).join(" -> ");else if("object"==typeof l){let g=[];for(let v in l)if(l.hasOwnProperty(v)){let x=l[v];g.push(v+":"+("string"==typeof x?JSON.stringify(x):te(x)))}f=`{${g.join(", ")}}`}return`${u}${h?"("+h+")":""}[${f}]: ${a.replace(xc,"\n  ")}`}("\n"+a.message,f,u,h),a.ngTokenPath=f,a[Rr]=null,a}(v,l,"R3InjectorError",this.source)}throw v}finally{ai(g),Xe(f)}}resolveInjectorInitializers(){const l=Xe(this),u=ai(void 0);try{const h=this.get(qy.multi,st,xt.Self);for(const f of h)f()}finally{Xe(l),ai(u)}}toString(){const l=[],u=this.records;for(const h of u.keys())l.push(te(h));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ne(205,!1)}processProvider(l){let u=Bd(l=Fe(l))?l:Fe(l&&l.provide);const h=function RR(a){return Wy(a)?Ef(void 0,a.useValue):Ef(t0(a),Qy)}(l);if(Bd(l)||!0!==l.multi)this.records.get(u);else{let f=this.records.get(u);f||(f=Ef(void 0,Qy,!0),f.factory=()=>Z(f.multi),this.records.set(u,f)),u=l,f.multi.push(l)}this.records.set(u,h)}hydrate(l,u){return u.value===Qy&&(u.value=oB,u.value=u.factory()),"object"==typeof u.value&&u.value&&function FR(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=Fe(l.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}removeOnDestroy(l){const u=this._onDestroyHooks.indexOf(l);-1!==u&&this._onDestroyHooks.splice(u,1)}}function Xy(a){const l=ki(a),u=null!==l?l.factory:sa(a);if(null!==u)return u;if(a instanceof Rn)throw new ne(204,!1);if(a instanceof Function)return function kR(a){const l=a.length;if(l>0)throw Yc(l,"?"),new ne(204,!1);const u=function kr(a){return a&&(a[wr]||a[qr])||null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new ne(204,!1)}function t0(a,l,u){let h;if(Bd(a)){const f=Fe(a);return sa(f)||Xy(f)}if(Wy(a))h=()=>Fe(a.useValue);else if(function vS(a){return!(!a||!a.useFactory)}(a))h=()=>a.useFactory(...Z(a.deps||[]));else if(function Zy(a){return!(!a||!a.useExisting)}(a))h=()=>vt(Fe(a.useExisting));else{const f=Fe(a&&(a.useClass||a.provide));if(!function OR(a){return!!a.deps}(a))return sa(f)||Xy(f);h=()=>new f(...Z(a.deps))}return h}function Ef(a,l,u=!1){return{factory:a,value:l,multi:u?[]:void 0}}function n0(a,l){for(const u of a)Array.isArray(u)?n0(u,l):u&&Re(u)?n0(u.\u0275providers,l):l(u)}const r0=new Rn("AppId",{providedIn:"root",factory:()=>NR}),NR="ng",LR=new Rn("Platform Initializer"),CS=new Rn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),aB=new Rn("AnimationModuleType"),lB=new Rn("CSP nonce",{providedIn:"root",factory:()=>function Km(){if(void 0!==Ww)return Ww;if(typeof document<"u")return document;throw new ne(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ng=(a,l)=>null;function tv(a,l){return ng(a,l)}class ts{}class AS{}class rv{resolveComponentFactory(l){throw function iv(a){const l=Error(`No component factory found for ${te(a)}.`);return l.ngComponent=a,l}(l)}}let qs=(()=>{class a{}return a.NULL=new rv,a})();function a0(){return If(bi(),xe())}function If(a,l){return new og(rr(a,l))}let og=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=a0,a})();function Mf(a){return a instanceof og?a.nativeElement:a}class l0{}let c0=(()=>{class a{constructor(){this.destroyNode=null}}return a.__NG_ELEMENT_ID__=()=>function MS(){const a=xe(),u=Fi(bi().index,a);return(vi(u)?u:a)[At]}(),a})(),zR=(()=>{class a{}return a.\u0275prov=Mt({token:a,providedIn:"root",factory:()=>null}),a})();class u0{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const ag=new u0("16.1.7"),lg={};function Ud(a){for(;a;){a[Pt]|=64;const l=O(a);if(ei(a)&&!l)return a;a=l}return null}function d0(a){return a.ngOriginalError}class ou{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l);this._console.error("ERROR",l),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&d0(l);for(;u&&d0(u);)u=d0(u);return u||null}}const Tf=new Rn("",{providedIn:"root",factory:()=>!1});function nl(a){return a instanceof Function?a():a}class _0 extends Vo{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(l){this._lView=l}onConsumerDependencyMayHaveChanged(){Ud(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(l,u,h){const f=ni(this);this.trackingVersion++;try{l(u,h)}finally{ni(f)}}destroy(){this.trackingVersion++}}let hg=null;function av(){return hg??=new _0,hg}function y0(a,l){return a[l]??av()}function FS(a,l){const u=av();u.hasReadASignal&&(a[l]=hg,u.lView=a,hg=new _0)}const zt={};function lv(a){cv(Kt(),xe(),pr()+a,!1)}function cv(a,l,u,h){if(!h)if(3==(3&l[Pt])){const g=a.preOrderCheckHooks;null!==g&&Ul(l,g,u)}else{const g=a.preOrderHooks;null!==g&&yd(l,g,0,u)}fa(u)}function US(a,l=null,u=null,h){const f=uv(a,l,u,h);return f.resolveInjectorInitializers(),f}function uv(a,l=null,u=null,h,f=new Set){const g=[u||st,pS(a)];return h=h||("object"==typeof a?void 0:te(a)),new wS(g,l||e0(),h||null,f)}let ec=(()=>{class a{static create(u,h){if(Array.isArray(u))return US({name:""},h,u,"");{const f=u.name??"";return US({name:f},u.parent,u.providers,f)}}}return a.THROW_IF_NOT_FOUND=Os,a.NULL=new Jw,a.\u0275prov=Mt({token:a,providedIn:"any",factory:()=>vt(fS)}),a.__NG_ELEMENT_ID__=-1,a})();function kf(a,l=xt.Default){const u=xe();return null===u?vt(a,l):pt(bi(),u,Fe(a),l)}function pg(){throw new Error("invalid")}function Rf(a,l,u,h,f,g,v,x,D,I,R){const V=l.blueprint.slice();return V[Ei]=f,V[Pt]=140|h,(null!==I||a&&2048&a[Pt])&&(V[Pt]|=2048),Cr(V),V[Gn]=V[Ps]=a,V[Fn]=u,V[Fs]=v||a&&a[Fs],V[At]=x||a&&a[At],V[na]=D||a&&a[na]||null,V[fr]=g,V[so]=function Ry(){return Ka++}(),V[Zr]=R,V[Nr]=I,V[jn]=2==l.type?a[jn]:V,V}function zd(a,l,u,h,f){let g=a.data[l];if(null===g)g=function w0(a,l,u,h,f){const g=Vc(),v=Uc(),D=a.data[l]=function mg(a,l,u,h,f,g){let v=l?l.injectorIndex:-1,x=0;return Uo()&&(x|=128),{type:u,index:h,insertBeforeIndex:null,injectorIndex:v,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:x,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,u,l,h,f);return null===a.firstChild&&(a.firstChild=D),null!==g&&(v?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D,D.prev=g)),D}(a,l,u,h,f),function ja(){return It.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=u,g.value=h,g.attrs=f;const v=function ua(){const a=It.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return Br(g,!0),g}function tc(a,l,u,h){if(0===u)return-1;const f=l.length;for(let g=0;g<u;g++)l.push(h),a.blueprint.push(h),a.data.push(null);return f}function C0(a,l,u,h,f){const g=y0(l,Lr),v=pr(),x=2&h;try{if(fa(-1),x&&l.length>Xt&&cv(a,l,Xt,!1),_s(x?2:0,f),x)g.runInContext(u,h,f);else{const I=ni(null);try{u(h,f)}finally{ni(I)}}}finally{x&&null===l[Lr]&&FS(l,Lr),fa(v),_s(x?3:1,f)}}function dv(a,l,u){if(Ac(l)){const h=ni(null);try{const g=l.directiveEnd;for(let v=l.directiveStart;v<g;v++){const x=a.data[v];x.contentQueries&&x.contentQueries(1,u[v],v)}}finally{ni(h)}}}function hv(a,l,u){Fl()&&(function I0(a,l,u,h){const f=u.directiveStart,g=u.directiveEnd;gs(u)&&function WS(a,l,u){const h=rr(l,a),f=HS(u);let v=16;u.signals?v=4096:u.onPush&&(v=64);const x=Lf(a,Rf(a,f,null,v,h,l,null,a[Fs].rendererFactory.createRenderer(h,u),null,null,null));a[l.index]=x}(l,u,a.data[f+u.componentOffset]),a.firstCreatePass||A(u,l),qn(h,l);const v=u.initialInputs;for(let x=f;x<g;x++){const D=a.data[x],I=vn(l,a,x,u);qn(I,l),null!==v&&vg(0,x-f,I,D,0,v),ir(D)&&(Fi(u.index,l)[Fn]=vn(l,a,x,u))}}(a,l,u,rr(u,l)),64==(64&u.flags)&&_g(a,l,u))}function Of(a,l,u=rr){const h=l.localNames;if(null!==h){let f=l.index+1;for(let g=0;g<h.length;g+=2){const v=h[g+1],x=-1===v?u(l,a):a[v];a[f++]=x}}}function HS(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=x0(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts,a.id):l}function x0(a,l,u,h,f,g,v,x,D,I,R){const V=Xt+h,W=V+f,J=function Ff(a,l){const u=[];for(let h=0;h<l;h++)u.push(h<a?null:zt);return u}(V,W),Ce="function"==typeof I?I():I;return J[tt]={type:a,blueprint:J,template:u,queries:null,viewQuery:x,declTNode:l,data:J.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:W,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:Ce,incompleteFirstPass:!1,ssrId:R}}let au=a=>null;function D0(a,l,u,h){for(let f in a)if(a.hasOwnProperty(f)){u=null===u?{}:u;const g=a[f];null===h?ns(u,l,f,g):h.hasOwnProperty(f)&&ns(u,l,h[f],g)}return u}function ns(a,l,u,h){a.hasOwnProperty(u)?a[u].push(l,h):a[u]=[l,h]}function is(a,l,u,h,f,g,v,x){const D=rr(l,u);let R,I=l.inputs;!x&&null!=I&&(R=I[h])?(ba(a,u,R,h,f),gs(l)&&function $S(a,l){const u=Fi(l,a);16&u[Pt]||(u[Pt]|=64)}(u,l.index)):3&l.type&&(h=function gg(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(h),f=null!=v?v(f,l.value||"",h):f,g.setProperty(D,h,f))}function pv(a,l,u,h){if(Fl()){const f=null===h?null:{"":-1},g=function qS(a,l){const u=a.directiveRegistry;let h=null,f=null;if(u)for(let g=0;g<u.length;g++){const v=u[g];if(wl(l,v.selectors,!1))if(h||(h=[]),ir(v))if(null!==v.findHostDirectiveDefs){const x=[];f=f||new Map,v.findHostDirectiveDefs(v,x,f),h.unshift(...x,v),M0(a,l,x.length)}else h.unshift(v),M0(a,l,0);else f=f||new Map,v.findHostDirectiveDefs?.(v,h,f),h.push(v)}return null===h?null:[h,f]}(a,u);let v,x;null===g?v=x=null:[v,x]=g,null!==v&&Pf(a,l,u,v,f,x),f&&function T0(a,l,u){if(l){const h=a.localNames=[];for(let f=0;f<l.length;f+=2){const g=u[l[f+1]];if(null==g)throw new ne(-301,!1);h.push(l[f],g)}}}(u,h,f)}u.mergedAttrs=Oo(u.mergedAttrs,u.attrs)}function Pf(a,l,u,h,f,g){for(let I=0;I<h.length;I++)se(A(u,l),a,h[I].type);!function k0(a,l,u){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+u,a.providerIndexes=l}(u,a.data.length,h.length);for(let I=0;I<h.length;I++){const R=h[I];R.providersResolver&&R.providersResolver(R)}let v=!1,x=!1,D=tc(a,l,h.length,null);for(let I=0;I<h.length;I++){const R=h[I];u.mergedAttrs=Oo(u.mergedAttrs,R.hostAttrs),YS(a,u,l,D,R),mv(D,R,f),null!==R.contentQueries&&(u.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(u.flags|=64);const V=R.type.prototype;!v&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((a.preOrderHooks??=[]).push(u.index),v=!0),!x&&(V.ngOnChanges||V.ngDoCheck)&&((a.preOrderCheckHooks??=[]).push(u.index),x=!0),D++}!function jS(a,l,u){const f=l.directiveEnd,g=a.data,v=l.attrs,x=[];let D=null,I=null;for(let R=l.directiveStart;R<f;R++){const V=g[R],W=u?u.get(V):null,Ce=W?W.outputs:null;D=D0(V.inputs,R,D,W?W.inputs:null),I=D0(V.outputs,R,I,Ce);const Be=null===D||null===v||Xu(l)?null:gv(D,R,v);x.push(Be)}null!==D&&(D.hasOwnProperty("class")&&(l.flags|=8),D.hasOwnProperty("style")&&(l.flags|=16)),l.initialInputs=x,l.inputs=D,l.outputs=I}(a,u,g)}function _g(a,l,u){const h=u.directiveStart,f=u.directiveEnd,g=u.index,v=function uo(){return It.lFrame.currentDirectiveIndex}();try{fa(g);for(let x=h;x<f;x++){const D=a.data[x],I=l[x];ha(x),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&yg(D,I)}}finally{fa(-1),ha(v)}}function yg(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function M0(a,l,u){l.componentOffset=u,(a.components??=[]).push(l.index)}function mv(a,l,u){if(u){if(l.exportAs)for(let h=0;h<l.exportAs.length;h++)u[l.exportAs[h]]=a;ir(l)&&(u[""]=a)}}function YS(a,l,u,h,f){a.data[h]=f;const g=f.factory||(f.factory=sa(f.type)),v=new En(g,ir(f),kf);a.blueprint[h]=v,u[h]=v,function S0(a,l,u,h,f){const g=f.hostBindings;if(g){let v=a.hostBindingOpCodes;null===v&&(v=a.hostBindingOpCodes=[]);const x=~l.index;(function A0(a){let l=a.length;for(;l>0;){const u=a[--l];if("number"==typeof u&&u<0)return u}return 0})(v)!=x&&v.push(x),v.push(u,h,g)}}(a,l,h,tc(a,u,f.hostVars,zt),f)}function va(a,l,u,h,f,g){const v=rr(a,l);!function R0(a,l,u,h,f,g,v){if(null==g)a.removeAttribute(l,f,u);else{const x=null==v?oe(g):v(g,h||"",f);a.setAttribute(l,f,x,u)}}(l[At],v,g,a.value,u,h,f)}function vg(a,l,u,h,f,g){const v=g[l];if(null!==v)for(let x=0;x<v.length;)O0(h,u,v[x++],v[x++],v[x++])}function O0(a,l,u,h,f){const g=ni(null);try{const v=a.inputTransforms;null!==v&&v.hasOwnProperty(h)&&(f=v[h].call(l,f)),null!==a.setInput?a.setInput(l,f,u,h):l[h]=f}finally{ni(g)}}function gv(a,l,u){let h=null,f=0;for(;f<u.length;){const g=u[f];if(0!==g)if(5!==g){if("number"==typeof g)break;if(a.hasOwnProperty(g)){null===h&&(h=[]);const v=a[g];for(let x=0;x<v.length;x+=2)if(v[x]===l){h.push(g,v[x+1],u[f+1]);break}}f+=2}else f+=2;else f+=4}return h}function Nf(a,l,u,h){return[a,!0,!1,l,null,0,h,u,null,null,null]}function lu(a,l){const u=a.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const g=u[h+1];if(-1!==g){const v=a.data[g];Hc(u[h]),v.contentQueries(2,l[g],g)}}}function Lf(a,l){return a[ps]?a[ia][Pr]=l:a[ps]=l,a[ia]=l,l}function F0(a,l,u){Hc(0);const h=ni(null);try{l(a,u)}finally{ni(h)}}function P0(a){return a[No]||(a[No]=[])}function N0(a){return a.cleanup||(a.cleanup=[])}function ZS(a,l,u){return(null===a||ir(a))&&(u=function Rl(a){for(;Array.isArray(a);){if("object"==typeof a[Sc])return a;a=a[Ei]}return null}(u[l.index])),u[At]}function cu(a,l){const u=a[na],h=u?u.get(ou,null):null;h&&h.handleError(l)}function ba(a,l,u,h,f){for(let g=0;g<u.length;){const v=u[g++],x=u[g++];O0(a.data[v],l[v],h,x,f)}}function _v(a,l){const u=Fi(l,a),h=u[tt];!function KS(a,l){for(let u=l.length;u<a.blueprint.length;u++)l.push(a.blueprint[u])}(h,u);const f=u[Ei];null!==f&&null===u[Zr]&&(u[Zr]=tv(f,u[na])),ri(h,u,u[Fn])}function ri(a,l,u){gd(l);try{const h=a.viewQuery;null!==h&&F0(1,h,u);const f=a.template;null!==f&&C0(a,l,f,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&lu(a,l),a.staticViewQueries&&F0(2,a.viewQuery,u);const g=a.components;null!==g&&function yv(a,l){for(let u=0;u<l.length;u++)_v(a,l[u])}(l,g)}catch(h){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),h}finally{l[Pt]&=-5,Em()}}let L0=(()=>{class a{constructor(){this.all=new Set,this.queue=new Map}create(u,h,f){const g=typeof Zone>"u"?null:Zone.current,v=new oy(u,I=>{this.all.has(I)&&this.queue.set(I,g)},f);let x;this.all.add(v),v.notify();const D=()=>{v.cleanup(),x?.(),this.all.delete(v),this.queue.delete(v)};return x=h?.onDestroy(D),{destroy:D}}flush(){if(0!==this.queue.size)for(const[u,h]of this.queue)this.queue.delete(u),h?h.run(()=>u.run()):u.run()}get isQueueEmpty(){return 0===this.queue.size}}return a.\u0275prov=Mt({token:a,providedIn:"root",factory:()=>new a}),a})();function vv(a,l,u){let h=u?a.styles:null,f=u?a.classes:null,g=0;if(null!==l)for(let v=0;v<l.length;v++){const x=l[v];"number"==typeof x?g=x:1==g?f=Ne(f,x):2==g&&(h=Ne(h,x+": "+l[++v]+";"))}u?a.styles=h:a.stylesWithoutHost=h,u?a.classes=f:a.classesWithoutHost=f}function Cg(a,l,u,h,f=!1){for(;null!==u;){const g=l[u.index];if(null!==g&&h.push(Zt(g)),ji(g)){for(let x=Si;x<g.length;x++){const D=g[x],I=D[tt].firstChild;null!==I&&Cg(D[tt],D,I,h)}g[ms]!==g[Ei]&&h.push(g[ms])}const v=u.type;if(8&v)Cg(a,l,u.child,h);else if(32&v){const x=C(u,l);let D;for(;D=x();)h.push(D)}else if(16&v){const x=bf(l,u);if(Array.isArray(x))h.push(...x);else{const D=O(l[jn]);Cg(D[tt],D,x,h,!0)}}u=f?u.projectionNext:u.next}return h}function bv(a,l,u,h=!0){const f=l[Fs].rendererFactory;f.begin&&f.begin();try{B0(a,l,a.template,u)}catch(v){throw h&&cu(l,v),v}finally{f.end&&f.end(),l[Fs].effectManager?.flush()}}function B0(a,l,u,h){const f=l[Pt];if(256!=(256&f)){l[Fs].effectManager?.flush(),gd(l);try{Cr(l),function Ls(a){return It.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&C0(a,l,u,2,h);const v=3==(3&f);if(v){const I=a.preOrderCheckHooks;null!==I&&Ul(l,I,null)}else{const I=a.preOrderHooks;null!==I&&yd(l,I,0,null),Gc(l,0)}if(function QS(a){for(let l=je(a);null!==l;l=rt(l)){if(!l[Il])continue;const u=l[Lo];for(let h=0;h<u.length;h++){Ga(u[h])}}}(l),V0(l,2),null!==a.contentQueries&&lu(a,l),v){const I=a.contentCheckHooks;null!==I&&Ul(l,I)}else{const I=a.contentHooks;null!==I&&yd(l,I,1),Gc(l,1)}!function b0(a,l){const u=a.hostBindingOpCodes;if(null===u)return;const h=y0(l,Pn);try{for(let f=0;f<u.length;f++){const g=u[f];if(g<0)fa(~g);else{const v=g,x=u[++f],D=u[++f];xm(x,v),h.runInContext(D,2,l[v])}}}finally{null===l[Pn]&&FS(l,Pn),fa(-1)}}(a,l);const x=a.components;null!==x&&JS(l,x,0);const D=a.viewQuery;if(null!==D&&F0(2,D,h),v){const I=a.viewCheckHooks;null!==I&&Ul(l,I)}else{const I=a.viewHooks;null!==I&&yd(l,I,2),Gc(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[Pt]&=-73,Xh(l)}finally{Em()}}}function V0(a,l){for(let u=je(a);null!==u;u=rt(u))for(let h=Si;h<u.length;h++)XS(u[h],l)}function Bf(a,l,u){XS(Fi(l,a),u)}function XS(a,l){if(!function wm(a){return 128==(128&a[Pt])}(a))return;const u=a[tt];if(80&a[Pt]&&0===l||1024&a[Pt]||2===l)B0(u,a,u.template,a[Fn]);else if(a[fs]>0){V0(a,1);const f=a[tt].components;null!==f&&JS(a,f,1)}}function JS(a,l,u){for(let h=0;h<l.length;h++)Bf(a,l[h],u)}class Vf{get rootNodes(){const l=this._lView,u=l[tt];return Cg(u,l,u.firstChild,[])}constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Fn]}set context(l){this._lView[Fn]=l}get destroyed(){return 256==(256&this._lView[Pt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[Gn];if(ji(l)){const u=l[8],h=u?u.indexOf(this):-1;h>-1&&(qm(l,h),ql(u,h))}this._attachedToViewContainer=!1}Ny(this._lView[tt],this._lView)}onDestroy(l){!function Ol(a,l){if(256==(256&a[Pt]))throw new ne(911,!1);null===a[oo]&&(a[oo]=[]),a[oo].push(l)}(this._lView,l)}markForCheck(){Ud(this._cdRefInjectingView||this._lView)}detach(){this._lView[Pt]&=-129}reattach(){this._lView[Pt]|=128}detectChanges(){bv(this._lView[tt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ne(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Gm(a,l){Zm(a,l,l[At],2,null,null)}(this._lView[tt],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new ne(902,!1);this._appRef=l}}class XR extends Vf{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;bv(l[tt],l,l[Fn],!1)}checkNoChanges(){}get context(){return null}}class U0 extends qs{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=Lt(l);return new Uf(u,this.ngModule)}}function H0(a){const l=[];for(let u in a)a.hasOwnProperty(u)&&l.push({propName:a[u],templateName:u});return l}class G0{constructor(l,u){this.injector=l,this.parentInjector=u}get(l,u,h){h=z(h);const f=this.injector.get(l,lg,h);return f!==lg||u===lg?f:this.parentInjector.get(l,u,h)}}class Uf extends AS{get inputs(){const l=this.componentDef,u=l.inputTransforms,h=H0(l.inputs);if(null!==u)for(const f of h)u.hasOwnProperty(f.propName)&&(f.transform=u[f.propName]);return h}get outputs(){return H0(this.componentDef.outputs)}constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function Rh(a){return a.map(Cl).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}create(l,u,h,f){let g=(f=f||this.ngModule)instanceof Vd?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new G0(l,g):l,x=v.get(l0,null);if(null===x)throw new ne(407,!1);const R={rendererFactory:x,sanitizer:v.get(zR,null),effectManager:v.get(L0,null)},V=x.createRenderer(null,this.componentDef),W=this.componentDef.selectors[0][0]||"div",J=h?function WR(a,l,u,h){const g=h.get(Tf,!1)||u===Dn.ShadowDom,v=a.selectRootElement(l,g);return function ZR(a){au(a)}(v),v}(V,h,this.componentDef.encapsulation,v):iu(V,W,function z0(a){const l=a.toLowerCase();return"svg"===l?aa:"math"===l?"math":null}(W)),et=this.componentDef.signals?4608:this.componentDef.onPush?576:528,bt=x0(0,null,null,1,0,null,null,null,null,null,null),Ie=Rf(null,bt,null,et,null,null,R,V,v,null,null);let Tt,Yt;gd(Ie);try{const Cn=this.componentDef;let Ui,ph=null;Cn.findHostDirectiveDefs?(Ui=[],ph=new Map,Cn.findHostDirectiveDefs(Cn,Ui,ph),Ui.push(Cn)):Ui=[Cn];const NF=function JR(a,l){const u=a[tt],h=Xt;return a[h]=l,zd(u,h,2,"#host",null)}(Ie,J),LF=function eO(a,l,u,h,f,g,v){const x=f[tt];!function tO(a,l,u,h){for(const f of a)l.mergedAttrs=Oo(l.mergedAttrs,f.hostAttrs);null!==l.mergedAttrs&&(vv(l,l.mergedAttrs,!0),null!==u&&KE(h,u,l))}(h,a,l,v);let D=null;null!==l&&(D=tv(l,f[na]));const I=g.rendererFactory.createRenderer(l,u);let R=16;u.signals?R=4096:u.onPush&&(R=64);const V=Rf(f,HS(u),null,R,f[a.index],a,g,I,null,null,D);return x.firstCreatePass&&M0(x,a,h.length-1),Lf(f,V),f[a.index]=V}(NF,J,Cn,Ui,Ie,R,V);Yt=za(bt,Xt),J&&function xg(a,l,u,h){if(h)Ku(a,u,["ng-version",ag.full]);else{const{attrs:f,classes:g}=function xl(a){const l=[],u=[];let h=1,f=2;for(;h<a.length;){let g=a[h];if("string"==typeof g)2===f?""!==g&&l.push(g,a[++h]):8===f&&u.push(g);else{if(!Ri(f))break;f=g}h++}return{attrs:l,classes:u}}(l.selectors[0]);f&&Ku(a,u,f),g&&g.length>0&&Od(a,u,g.join(" "))}}(V,Cn,J,h),void 0!==u&&function xv(a,l,u){const h=a.projection=[];for(let f=0;f<l.length;f++){const g=u[f];h.push(null!=g?Array.from(g):null)}}(Yt,this.ngContentSelectors,u),Tt=function Cv(a,l,u,h,f,g){const v=bi(),x=f[tt],D=rr(v,f);Pf(x,f,v,u,null,h);for(let R=0;R<u.length;R++)qn(vn(f,x,v.directiveStart+R,v),f);_g(x,f,v),D&&qn(D,f);const I=vn(f,x,v.directiveStart+v.componentOffset,v);if(a[Fn]=f[Fn]=I,null!==g)for(const R of g)R(I,l);return dv(x,v,a),I}(LF,Cn,Ui,ph,Ie,[j0]),ri(bt,Ie,null)}finally{Em()}return new eA(this.componentType,Tt,If(Yt,Ie),Ie,Yt)}}class eA extends ts{constructor(l,u,h,f,g){super(),this.location=h,this._rootLView=f,this._tNode=g,this.previousInputValues=null,this.instance=u,this.hostView=this.changeDetectorRef=new XR(f),this.componentType=l}setInput(l,u){const h=this._tNode.inputs;let f;if(null!==h&&(f=h[l])){if(this.previousInputValues??=new Map,this.previousInputValues.has(l)&&Object.is(this.previousInputValues.get(l),u))return;const g=this._rootLView;ba(g[tt],g,f,l,u),this.previousInputValues.set(l,u),Ud(Fi(this._tNode.index,g))}}get injector(){return new Ni(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function j0(){const a=bi();Bs(xe()[tt],a)}function Gd(a){let l=function $0(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const h=[a];for(;l;){let f;if(ir(a))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new ne(903,!1);f=l.\u0275dir}if(f){if(u){h.push(f);const v=a;v.inputs=Dv(a.inputs),v.inputTransforms=Dv(a.inputTransforms),v.declaredInputs=Dv(a.declaredInputs),v.outputs=Dv(a.outputs);const x=f.hostBindings;x&&nO(a,x);const D=f.viewQuery,I=f.contentQueries;if(D&&Bi(a,D),I&&nA(a,I),q(a.inputs,f.inputs),q(a.declaredInputs,f.declaredInputs),q(a.outputs,f.outputs),null!==f.inputTransforms&&(null===v.inputTransforms&&(v.inputTransforms={}),q(v.inputTransforms,f.inputTransforms)),ir(f)&&f.data.animation){const R=a.data;R.animation=(R.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let v=0;v<g.length;v++){const x=g[v];x&&x.ngInherit&&x(a),x===Gd&&(u=!1)}}l=Object.getPrototypeOf(l)}!function Dg(a){let l=0,u=null;for(let h=a.length-1;h>=0;h--){const f=a[h];f.hostVars=l+=f.hostVars,f.hostAttrs=Oo(f.hostAttrs,u=Oo(u,f.hostAttrs))}}(h)}function Dv(a){return a===gi?{}:a===st?[]:a}function Bi(a,l){const u=a.viewQuery;a.viewQuery=u?(h,f)=>{l(h,f),u(h,f)}:l}function nA(a,l){const u=a.contentQueries;a.contentQueries=u?(h,f,g)=>{l(h,f,g),u(h,f,g)}:l}function nO(a,l){const u=a.hostBindings;a.hostBindings=u?(h,f)=>{l(h,f),u(h,f)}:l}function W0(a){const l=a.inputConfig,u={};for(const h in l)if(l.hasOwnProperty(h)){const f=l[h];Array.isArray(f)&&f[2]&&(u[h]=f[2])}a.inputTransforms=u}function hu(a){return!!Hf(a)&&(Array.isArray(a)||!(a instanceof Map)&&Symbol.iterator in a)}function Hf(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function _o(a,l,u){return a[l]=u}function Gr(a,l,u){return!Object.is(a[l],u)&&(a[l]=u,!0)}function Ig(a,l,u,h){const f=xe();return Gr(f,co(),l)&&(Kt(),va(Nn(),f,a,l,u,h)),Ig}function jd(a,l,u,h){return Gr(a,co(),u)?l+oe(u)+h:zt}function iC(a,l,u,h,f,g,v,x){const D=xe(),I=Kt(),R=a+Xt,V=I.firstCreatePass?function Gf(a,l,u,h,f,g,v,x,D){const I=l.consts,R=zd(l,a,4,v||null,lo(I,x));pv(l,u,R,lo(I,D)),Bs(l,R);const V=R.tView=x0(2,R,h,f,g,l.directiveRegistry,l.pipeRegistry,null,l.schemas,I,null);return null!==l.queries&&(l.queries.template(l,R),V.queries=l.queries.embeddedTView(R)),R}(R,I,D,l,u,h,f,g,v):I.data[R];Br(V,!1);const W=di(I,D,V,a);af()&&By(I,D,W,V),qn(W,D),Lf(D,D[R]=Nf(W,D,W,V)),ra(V)&&hv(I,D,V),null!=v&&Of(D,V,x)}let di=function Et(a,l,u,h){return fo(!0),l[At].createComment("")};function Ai(a){return ao(function uy(){return It.lFrame.contextLView}(),Xt+a)}function Qe(a,l,u){const h=xe();return Gr(h,co(),l)&&is(Kt(),Nn(),h,a,l,h[At],u,!1),Qe}function jf(a,l,u,h,f){const v=f?"class":"style";ba(a,u,l.inputs[v],v,h)}function il(a,l,u,h){const f=xe(),g=Kt(),v=Xt+a,x=f[At],D=g.firstCreatePass?function rC(a,l,u,h,f,g){const v=l.consts,D=zd(l,a,2,h,lo(v,f));return pv(l,u,D,lo(v,g)),null!==D.attrs&&vv(D,D.attrs,!1),null!==D.mergedAttrs&&vv(D,D.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,D),D}(v,g,f,l,u,h):g.data[v],I=mA(g,f,D,x,l,a);f[v]=I;const R=ra(D);return Br(D,!0),KE(x,I,D),32!=(32&D.flags)&&af()&&By(g,f,I,D),0===function hd(){return It.lFrame.elementDepthCount}()&&qn(I,f),function Nc(){It.lFrame.elementDepthCount++}(),R&&(hv(g,f,D),dv(g,D,f)),null!==h&&Of(f,D),il}function Mv(){let a=bi();Uc()?Nl():(a=a.parent,Br(a,!1));const l=a;(function pd(a){return It.skipHydrationRootTNode===a})(l)&&function ef(){It.skipHydrationRootTNode=null}(),function fd(){It.lFrame.elementDepthCount--}();const u=Kt();return u.firstCreatePass&&(Bs(u,a),Ac(a)&&u.queries.elementEnd(a)),null!=l.classesWithoutHost&&function Jt(a){return 0!=(8&a.flags)}(l)&&jf(u,l,xe(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function vd(a){return 0!=(16&a.flags)}(l)&&jf(u,l,xe(),l.stylesWithoutHost,!1),Mv}function $f(a,l,u,h){return il(a,l,u,h),Mv(),$f}let mA=(a,l,u,h,f,g)=>(fo(!0),iu(h,f,function qa(){return It.lFrame.currentNamespace}()));function rs(a,l,u){const h=xe(),f=Kt(),g=a+Xt,v=f.firstCreatePass?function _A(a,l,u,h,f){const g=l.consts,v=lo(g,h),x=zd(l,a,8,"ng-container",v);return null!==v&&vv(x,v,!0),pv(l,u,x,lo(g,f)),null!==l.queries&&l.queries.elementStart(l,x),x}(g,f,h,l,u):f.data[g];Br(v,!0);const x=sC(f,h,v,a);return h[g]=x,af()&&By(f,h,x,v),qn(x,h),ra(v)&&(hv(f,h,v),dv(f,v,h)),null!=u&&Of(h,v),rs}function qf(){let a=bi();const l=Kt();return Uc()?Nl():(a=a.parent,Br(a,!1)),l.firstCreatePass&&(Bs(l,a),Ac(a)&&l.queries.elementEnd(a)),qf}function Tv(a,l,u){return rs(a,l,u),qf(),Tv}let sC=(a,l,u,h)=>(fo(!0),Ql(l[At],""));function ce(){return xe()}function Yf(a){return!!a&&"function"==typeof a.then}function Wo(a){return!!a&&"function"==typeof a.subscribe}function aC(a,l,u,h){const f=xe(),g=Kt(),v=bi();return yA(g,f,f[At],v,a,l,h),aC}function Qd(a,l){const u=bi(),h=xe(),f=Kt();return yA(f,h,ZS(tf(f.data),u,h),u,a,l),Qd}function yA(a,l,u,h,f,g,v){const x=ra(h),I=a.firstCreatePass&&N0(a),R=l[Fn],V=P0(l);let W=!0;if(3&h.type||v){const Be=rr(h,l),et=v?v(Be):Be,bt=V.length,Ie=v?Yt=>v(Zt(Yt[h.index])):h.index;let Tt=null;if(!v&&x&&(Tt=function gu(a,l,u,h){const f=a.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const v=f[g];if(v===u&&f[g+1]===h){const x=l[No],D=f[g+2];return x.length>D?x[D]:null}"string"==typeof v&&(g+=2)}return null}(a,l,f,h.index)),null!==Tt)(Tt.__ngLastListenerFn__||Tt).__ngNextListenerFn__=g,Tt.__ngLastListenerFn__=g,W=!1;else{g=lC(h,l,R,g,!1);const Yt=u.listen(et,f,g);V.push(g,Yt),I&&I.push(f,Ie,bt,bt+1)}}else g=lC(h,l,R,g,!1);const J=h.outputs;let Ce;if(W&&null!==J&&(Ce=J[f])){const Be=Ce.length;if(Be)for(let et=0;et<Be;et+=2){const Cn=l[Ce[et]][Ce[et+1]].subscribe(g),Ui=V.length;V.push(g,Cn),I&&I.push(f,h.index,Ui,-(Ui+1))}}}function _u(a,l,u,h){try{return _s(6,l,u),!1!==u(h)}catch(f){return cu(a,f),!1}finally{_s(7,l,u)}}function lC(a,l,u,h,f){return function g(v){if(v===Function)return h;Ud(a.componentOffset>-1?Fi(a.index,l):l);let D=_u(l,u,h,v),I=g.__ngNextListenerFn__;for(;I;)D=_u(l,u,I,v)&&D,I=I.__ngNextListenerFn__;return f&&!1===D&&v.preventDefault(),D}}function kv(a=1){return function hy(a){return(It.lFrame.contextLView=function fy(a,l){for(;a>0;)l=l[Ps],a--;return l}(a,It.lFrame.contextLView))[Fn]}(a)}function pO(a,l){let u=null;const h=function kh(a){const l=a.attrs;if(null!=l){const u=l.indexOf(5);if(!(1&u))return l[u+1]}return null}(a);for(let f=0;f<l.length;f++){const g=l[f];if("*"!==g){if(null===h?wl(a,g,!0):cm(h,g))return f}else u=f}return u}function vA(a){const l=xe()[jn][fr];if(!l.projection){const h=l.projection=Yc(a?a.length:1,null),f=h.slice();let g=l.child;for(;null!==g;){const v=a?pO(g,a):0;null!==v&&(f[v]?f[v].projectionNext=g:h[v]=g,f[v]=g),g=g.next}}}function Ws(a,l=0,u){const h=xe(),f=Kt(),g=zd(f,Xt+a,16,null,u||null);null===g.projection&&(g.projection=l),Nl(),(!h[Zr]||Uo())&&32!=(32&g.flags)&&function cR(a,l,u){uR(l[At],0,l,u,Ym(a,u,l),$E(u.parent||l[fr],u,l))}(f,h,g)}function Rv(a,l){return a<<17|l<<2}function xs(a){return a>>17&32767}function Og(a){return 2|a}function vu(a){return(131068&a)>>2}function Jd(a,l){return-131069&a|l<<2}function Kf(a){return 1|a}function hC(a,l,u,h,f){const g=a[u+1],v=null===l;let x=h?xs(g):vu(g),D=!1;for(;0!==x&&(!1===D||v);){const R=a[x+1];Xf(a[x],l)&&(D=!0,a[x+1]=h?Kf(R):Og(R)),x=h?xs(R):vu(R)}D&&(a[u+1]=h?Og(g):Kf(g))}function Xf(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&zs(a,l)>=0}const Zi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Cu(a){return a.substring(Zi.key,Zi.keyEnd)}function pC(a,l){const u=Zi.textEnd;return u===l?-1:(l=Zi.keyEnd=function mO(a,l,u){for(;l<u&&a.charCodeAt(l)>32;)l++;return l}(a,Zi.key=l,u),eh(a,l,u))}function eh(a,l,u){for(;l<u&&a.charCodeAt(l)<=32;)l++;return l}function Ov(a,l,u){return vo(a,l,u,!1),Ov}function Fv(a,l){return vo(a,l,null,!0),Fv}function Zo(a,l){for(let u=function Pg(a){return function Jf(a){Zi.key=0,Zi.keyEnd=0,Zi.value=0,Zi.valueEnd=0,Zi.textEnd=a.length}(a),pC(a,eh(a,0,Zi.textEnd))}(l);u>=0;u=pC(l,u))xr(a,Cu(l),!0)}function vo(a,l,u,h){const f=xe(),g=Kt(),v=vs(2);g.firstUpdatePass&&gC(g,a,v,h),l!==zt&&Gr(f,v,l)&&th(g,g.data[pr()],f,f[At],a,f[v+1]=function Nv(a,l){return null==a||""===a||("string"==typeof l?a+=l:"object"==typeof a&&(a=te(Jl(a)))),a}(l,u),h,v)}function Pv(a,l){return l>=a.expandoStartIndex}function gC(a,l,u,h){const f=a.data;if(null===f[u+1]){const g=f[pr()],v=Pv(a,u);Er(g,h)&&null===l&&!v&&(l=!1),l=function DA(a,l,u,h){const f=tf(a);let g=h?l.residualClasses:l.residualStyles;if(null===f)0===(h?l.classBindings:l.styleBindings)&&(u=tp(u=_C(null,a,l,u,h),l.attrs,h),g=null);else{const v=l.directiveStylingLast;if(-1===v||a[v]!==f)if(u=_C(f,a,l,u,h),null===g){let D=function EA(a,l,u){const h=u?l.classBindings:l.styleBindings;if(0!==vu(h))return a[xs(h)]}(a,l,h);void 0!==D&&Array.isArray(D)&&(D=_C(null,a,l,D[1],h),D=tp(D,l.attrs,h),function yO(a,l,u,h){a[xs(u?l.classBindings:l.styleBindings)]=h}(a,l,h,D))}else g=function vO(a,l,u){let h;const f=l.directiveEnd;for(let g=1+l.directiveStylingLast;g<f;g++)h=tp(h,a[g].hostAttrs,u);return tp(h,l.attrs,u)}(a,l,h)}return void 0!==g&&(h?l.residualClasses=g:l.residualStyles=g),u}(f,g,l,h),function Fg(a,l,u,h,f,g){let v=g?l.classBindings:l.styleBindings,x=xs(v),D=vu(v);a[h]=u;let R,I=!1;if(Array.isArray(u)?(R=u[1],(null===R||zs(u,R)>0)&&(I=!0)):R=u,f)if(0!==D){const W=xs(a[x+1]);a[h+1]=Rv(W,x),0!==W&&(a[W+1]=Jd(a[W+1],h)),a[x+1]=function Xd(a,l){return 131071&a|l<<17}(a[x+1],h)}else a[h+1]=Rv(x,0),0!==x&&(a[x+1]=Jd(a[x+1],h)),x=h;else a[h+1]=Rv(D,0),0===x?x=h:a[D+1]=Jd(a[D+1],h),D=h;I&&(a[h+1]=Og(a[h+1])),hC(a,R,h,!0),hC(a,R,h,!1),function wu(a,l,u,h,f){const g=f?a.residualClasses:a.residualStyles;null!=g&&"string"==typeof l&&zs(g,l)>=0&&(u[h+1]=Kf(u[h+1]))}(l,R,a,h,g),v=Rv(x,D),g?l.classBindings=v:l.styleBindings=v}(f,g,l,u,v,h)}}function _C(a,l,u,h,f){let g=null;const v=u.directiveEnd;let x=u.directiveStylingLast;for(-1===x?x=u.directiveStart:x++;x<v&&(g=l[x],h=tp(h,g.hostAttrs,f),g!==a);)x++;return null!==a&&(u.directiveStylingLast=x),h}function tp(a,l,u){const h=u?1:2;let f=-1;if(null!==l)for(let g=0;g<l.length;g++){const v=l[g];"number"==typeof v?f=v:f===h&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),xr(a,v,!!u||l[++g]))}return void 0===a?null:a}function th(a,l,u,h,f,g,v,x){if(!(3&l.type))return;const D=a.data,I=D[x+1],R=function bu(a){return 1==(1&a)}(I)?SA(D,l,u,f,vu(I),v):void 0;hi(R)||(hi(g)||function Vi(a){return 2==(2&a)}(I)&&(g=SA(D,null,u,f,x,v)),function ZE(a,l,u,h,f){if(l)f?a.addClass(u,h):a.removeClass(u,h);else{let g=-1===h.indexOf("-")?void 0:pf.DashCase;null==f?a.removeStyle(u,h,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=pf.Important),a.setStyle(u,h,f,g))}}(h,v,Fc(pr(),u),f,g))}function SA(a,l,u,h,f,g){const v=null===l;let x;for(;f>0;){const D=a[f],I=Array.isArray(D),R=I?D[1]:D,V=null===R;let W=u[f+1];W===zt&&(W=V?st:void 0);let J=V?Wc(W,h):R===h?W:void 0;if(I&&!hi(J)&&(J=Wc(D,h)),hi(J)&&(x=J,v))return x;const Ce=a[f+1];f=v?xs(Ce):vu(Ce)}if(null!==l){let D=g?l.residualClasses:l.residualStyles;null!=D&&(x=Wc(D,h))}return x}function hi(a){return void 0!==a}function Er(a,l){return 0!=(a.flags&(l?8:16))}function Un(a,l=""){const u=xe(),h=Kt(),f=a+Xt,g=h.firstCreatePass?zd(h,f,1,l,null):h.data[f],v=vC(h,u,g,l,a);u[f]=v,af()&&By(h,u,v,g),Br(g,!1)}let vC=(a,l,u,h,f)=>(fo(!0),function wi(a,l){return a.createText(l)}(l[At],h));function yr(a){return Lg("",a,""),yr}function Lg(a,l,u){const h=xe(),f=jd(h,a,l,u);return f!==zt&&function qo(a,l,u){const h=Fc(l,a);!function es(a,l,u){a.setValue(l,u)}(a[At],h,u)}(h,pr(),f),Lg}function wC(a,l,u){!function Ko(a,l,u,h){const f=Kt(),g=vs(2);f.firstUpdatePass&&gC(f,null,g,h);const v=xe();if(u!==zt&&Gr(v,g,u)){const x=f.data[pr()];if(Er(x,h)&&!Pv(f,g)){let D=h?x.classesWithoutHost:x.stylesWithoutHost;null!==D&&(u=Ne(D,u||"")),jf(f,x,v,u,h)}else!function CO(a,l,u,h,f,g,v,x){f===zt&&(f=st);let D=0,I=0,R=0<f.length?f[0]:null,V=0<g.length?g[0]:null;for(;null!==R||null!==V;){const W=D<f.length?f[D+1]:void 0,J=I<g.length?g[I+1]:void 0;let Be,Ce=null;R===V?(D+=2,I+=2,W!==J&&(Ce=V,Be=J)):null===V||null!==R&&R<V?(D+=2,Ce=R):(I+=2,Ce=V,Be=J),null!==Ce&&th(a,l,u,h,Ce,Be,v,x),R=D<f.length?f[D]:null,V=I<g.length?g[I]:null}}(f,x,v,v[At],v[g+1],v[g+1]=function bO(a,l,u){if(null==u||""===u)return st;const h=[],f=Jl(u);if(Array.isArray(f))for(let g=0;g<f.length;g++)a(h,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&a(h,g,f[g]);else"string"==typeof f&&l(h,f);return h}(a,l,u),h,g)}}(xr,Zo,jd(xe(),a,l,u),!0)}function ac(a,l,u){const h=xe();return Gr(h,co(),l)&&is(Kt(),Nn(),h,a,l,h[At],u,!0),ac}function Uv(a,l,u){const h=xe();if(Gr(h,co(),l)){const g=Kt(),v=Nn();is(g,v,h,a,l,ZS(tf(g.data),v,h),u,!0)}return Uv}const bo=void 0;var sp=["en",[["a","p"],["AM","PM"],bo],[["AM","PM"],bo,bo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],bo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],bo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",bo,"{1} 'at' {0}",bo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function NA(a){const u=Math.floor(Math.abs(a)),h=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let rh={};function sh(a){const l=function BA(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=fi(l);if(u)return u;const h=l.split("-")[0];if(u=fi(h),u)return u;if("en"===h)return sp;throw new ne(701,!1)}function LA(a){return sh(a)[lc.PluralCase]}function fi(a){return a in rh||(rh[a]=un.ng&&un.ng.common&&un.ng.common.locales&&un.ng.common.locales[a]),rh[a]}var lc=function(a){return a[a.LocaleId=0]="LocaleId",a[a.DayPeriodsFormat=1]="DayPeriodsFormat",a[a.DayPeriodsStandalone=2]="DayPeriodsStandalone",a[a.DaysFormat=3]="DaysFormat",a[a.DaysStandalone=4]="DaysStandalone",a[a.MonthsFormat=5]="MonthsFormat",a[a.MonthsStandalone=6]="MonthsStandalone",a[a.Eras=7]="Eras",a[a.FirstDayOfWeek=8]="FirstDayOfWeek",a[a.WeekendRange=9]="WeekendRange",a[a.DateFormat=10]="DateFormat",a[a.TimeFormat=11]="TimeFormat",a[a.DateTimeFormat=12]="DateTimeFormat",a[a.NumberSymbols=13]="NumberSymbols",a[a.NumberFormats=14]="NumberFormats",a[a.CurrencyCode=15]="CurrencyCode",a[a.CurrencySymbol=16]="CurrencySymbol",a[a.CurrencyName=17]="CurrencyName",a[a.Currencies=18]="Currencies",a[a.Directionality=19]="Directionality",a[a.PluralCase=20]="PluralCase",a[a.ExtraData=21]="ExtraData",a}(lc||{});const op="en-US";let RC=op;function jC(a,l,u,h,f){if(a=Fe(a),Array.isArray(a))for(let g=0;g<a.length;g++)jC(a[g],l,u,h,f);else{const g=Kt(),v=xe();let x=Bd(a)?a:Fe(a.provide),D=t0(a);const I=bi(),R=1048575&I.providerIndexes,V=I.directiveStart,W=I.providerIndexes>>20;if(Bd(a)||!a.multi){const J=new En(D,f,kf),Ce=qC(x,l,f?R:R+W,V);-1===Ce?(se(A(I,v),g,x),$C(g,a,l.length),l.push(x),I.directiveStart++,I.directiveEnd++,f&&(I.providerIndexes+=1048576),u.push(J),v.push(J)):(u[Ce]=J,v[Ce]=J)}else{const J=qC(x,l,R+W,V),Ce=qC(x,l,R,R+W),et=Ce>=0&&u[Ce];if(f&&!et||!f&&!(J>=0&&u[J])){se(A(I,v),g,x);const bt=function uI(a,l,u,h,f){const g=new En(a,u,kf);return g.multi=[],g.index=l,g.componentProviders=0,lI(g,f,h&&!u),g}(f?cI:HO,u.length,f,h,D);!f&&et&&(u[Ce].providerFactory=bt),$C(g,a,l.length,0),l.push(x),I.directiveStart++,I.directiveEnd++,f&&(I.providerIndexes+=1048576),u.push(bt),v.push(bt)}else $C(g,a,J>-1?J:Ce,lI(u[f?Ce:J],D,!f&&h));!f&&h&&et&&u[Ce].componentProviders++}}}function $C(a,l,u,h){const f=Bd(l),g=function sB(a){return!!a.useClass}(l);if(f||g){const D=(g?Fe(l.useClass):l).prototype.ngOnDestroy;if(D){const I=a.destroyHooks||(a.destroyHooks=[]);if(!f&&l.multi){const R=I.indexOf(u);-1===R?I.push(u,[h,D]):I[R+1].push(h,D)}else I.push(u,D)}}}function lI(a,l,u){return u&&a.componentProviders++,a.multi.push(l)-1}function qC(a,l,u,h){for(let f=u;f<h;f++)if(l[f]===a)return f;return-1}function HO(a,l,u,h){return YC(this.multi,[])}function cI(a,l,u,h){const f=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,x=vn(u,u[tt],this.providerFactory.index,h);g=x.slice(0,v),YC(f,g);for(let D=v;D<x.length;D++)g.push(x[D])}else g=[],YC(f,g);return g}function YC(a,l){for(let u=0;u<a.length;u++)l.push((0,a[u])());return l}function WC(a,l=[]){return u=>{u.providersResolver=(h,f)=>function UO(a,l,u){const h=Kt();if(h.firstCreatePass){const f=ir(a);jC(u,h.data,h.blueprint,f,!0),jC(l,h.data,h.blueprint,f,!1)}}(h,f?f(a):a,l)}}class dp{}class Yv{}function Ar(a,l){return new Xg(a,l??null,[])}class Xg extends dp{constructor(l,u,h){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new U0(this);const f=Fr(l);this._bootstrapComponents=nl(f.bootstrap),this._r3Injector=uv(l,u,[{provide:dp,useValue:this},{provide:qs,useValue:this.componentFactoryResolver},...h],te(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class Jg extends Yv{constructor(l){super(),this.moduleType=l}create(l){return new Xg(this.moduleType,l,[])}}class ZC extends dp{constructor(l){super(),this.componentFactoryResolver=new U0(this),this.instance=null;const u=new wS([...l.providers,{provide:dp,useValue:this},{provide:qs,useValue:this.componentFactoryResolver}],l.parent||e0(),l.debugName,new Set(["environment"]));this.injector=u,l.runEnvironmentInitializers&&u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function hI(a,l,u=null){return new ZC({providers:a,parent:l,debugName:u,runEnvironmentInitializers:!0}).injector}let fI=(()=>{class a{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u)){const h=el(0,u.type),f=h.length>0?hI([h],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u,f)}return this.cachedInjectors.get(u)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=Mt({token:a,providedIn:"environment",factory:()=>new a(vt(Vd))}),a})();function e_(a){a.getStandaloneInjector=l=>l.get(fI).getOrCreateStandaloneInjector(a)}function yI(a,l,u,h){return Zv(xe(),$i(),a,l,u,h)}function ch(a,l){const u=a[l];return u===zt?void 0:u}function Zv(a,l,u,h,f,g){const v=l+u;return Gr(a,v,f)?_o(a,v+1,g?h.call(g,f):h(f)):ch(a,v+1)}function ex(a,l,u,h,f,g,v){const x=l+u;return function wa(a,l,u,h){const f=Gr(a,l,u);return Gr(a,l+1,h)||f}(a,x,f,g)?_o(a,x+2,v?h.call(v,f,g):h(f,g)):ch(a,x+2)}function i_(a,l){const u=Kt();let h;const f=a+Xt;u.firstCreatePass?(h=function WO(a,l){if(l)for(let u=l.length-1;u>=0;u--){const h=l[u];if(a===h.name)return h}}(l,u.pipeRegistry),u.data[f]=h,h.onDestroy&&(u.destroyHooks??=[]).push(f,h.onDestroy)):h=u.data[f];const g=h.factory||(h.factory=sa(h.type)),v=ai(kf);try{const x=$c(!1),D=g();return $c(x),function fO(a,l,u,h){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),l[u]=h}(u,xe(),f,D),D}finally{ai(v)}}function CI(a,l,u){const h=a+Xt,f=xe(),g=ao(f,h);return pp(f,h)?Zv(f,$i(),l,g.transform,u,g):g.transform(u)}function ix(a,l,u,h){const f=a+Xt,g=xe(),v=ao(g,f);return pp(g,f)?ex(g,$i(),l,v.transform,u,h,v):v.transform(u,h)}function pp(a,l){return a[tt].data[l].pure}function os(a){return l=>{setTimeout(a,void 0,l)}}const Ca=class xI extends o.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,h){let f=l,g=u||(()=>null),v=h;if(l&&"object"==typeof l){const D=l;f=D.next?.bind(D),g=D.error?.bind(D),v=D.complete?.bind(D)}this.__isAsync&&(g=os(g),f&&(f=os(f)),v&&(v=os(v)));const x=super.subscribe({next:f,error:g,complete:v});return l instanceof X.w0&&l.add(x),x}};function Jv(){return this._results[Symbol.iterator]()}class uh{get changes(){return this._changes||(this._changes=new Ca)}constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=uh.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=Jv)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const h=this;h.dirty=!1;const f=function bs(a){return a.flat(Number.POSITIVE_INFINITY)}(l);(this._changesDetected=!function gy(a,l,u){if(a.length!==l.length)return!1;for(let h=0;h<a.length;h++){let f=a[h],g=l[h];if(u&&(f=u(f),g=u(g)),g!==f)return!1}return!0}(h._results,f,u))&&(h._results=f,h.length=f.length,h.last=f[this.length-1],h.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let mp=(()=>{class a{}return a.__NG_ELEMENT_ID__=DI,a})();const Mu=mp,gp=class extends Mu{constructor(l,u,h){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=h}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(l,u){return this.createEmbeddedViewImpl(l,u,null)}createEmbeddedViewImpl(l,u,h){const v=this._declarationTContainer.tView,x=Rf(this._declarationLView,v,l,4096&this._declarationLView[Pt]?4096:16,null,v.declTNode,null,null,null,u||null,h||null);x[Sl]=this._declarationLView[this._declarationTContainer.index];const I=this._declarationLView[ci];return null!==I&&(x[ci]=I.createEmbeddedView(v)),ri(v,x,l),new Vf(x)}};function DI(){return al(bi(),xe())}function al(a,l){return 4&a.type?new gp(l,a,If(a,l)):null}let a_=(()=>{class a{}return a.__NG_ELEMENT_ID__=XO,a})();function XO(){return yp(bi(),xe())}const MI=a_,TI=class extends MI{constructor(l,u,h){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=h}get element(){return If(this._hostTNode,this._hostLView)}get injector(){return new Ni(this._hostTNode,this._hostLView)}get parentInjector(){const l=Q(this._hostTNode,this._hostLView);if(lf(l)){const u=Vs(l,this._hostLView),h=Gl(l);return new Ni(u[tt].data[h+8],u)}return new Ni(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=rx(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-Si}createEmbeddedView(l,u,h){let f,g;"number"==typeof h?f=h:null!=h&&(f=h.index,g=h.injector);const x=l.createEmbeddedViewImpl(u||{},g,null);return this.insertImpl(x,f,false),x}createComponent(l,u,h,f,g){const v=l&&!function Vr(a){return"function"==typeof a}(l);let x;if(v)x=u;else{const Be=u||{};x=Be.index,h=Be.injector,f=Be.projectableNodes,g=Be.environmentInjector||Be.ngModuleRef}const D=v?l:new Uf(Lt(l)),I=h||this.parentInjector;if(!g&&null==D.ngModule){const et=(v?I:this.parentInjector).get(Vd,null);et&&(g=et)}Lt(D.componentType??{});const J=D.create(I,f,null,g);return this.insertImpl(J.hostView,x,false),J}insert(l,u){return this.insertImpl(l,u,!1)}insertImpl(l,u,h){const f=l._lView,g=f[tt];if(function dd(a){return ji(a[Gn])}(f)){const D=this.indexOf(l);if(-1!==D)this.detach(D);else{const I=f[Gn],R=new TI(I,I[fr],I[Gn]);R.detach(R.indexOf(l))}}const v=this._adjustIndex(u),x=this._lContainer;if(function zw(a,l,u,h){const f=Si+h,g=u.length;h>0&&(u[f-1][Pr]=l),h<g-Si?(l[Pr]=u[f],_y(u,Si+h,l)):(u.push(l),l[Pr]=null),l[Gn]=u;const v=l[Sl];null!==v&&u!==v&&function Gw(a,l){const u=a[Lo];l[jn]!==l[Gn][Gn][jn]&&(a[Il]=!0),null===u?a[Lo]=[l]:u.push(l)}(v,l);const x=l[ci];null!==x&&x.insertView(a),l[Pt]|=128}(g,f,x,v),!h){const D=$w(v,x),I=f[At],R=Wm(I,x[ms]);null!==R&&function zm(a,l,u,h,f,g){h[Ei]=f,h[fr]=l,Zm(a,h,u,1,f,g)}(g,x[fr],I,f,R,D)}return l.attachToViewContainerRef(),_y(dc(x),v,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=rx(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),h=qm(this._lContainer,u);h&&(ql(dc(this._lContainer),u),Ny(h[tt],h))}detach(l){const u=this._adjustIndex(l,-1),h=qm(this._lContainer,u);return h&&null!=ql(dc(this._lContainer),u)?new Vf(h):null}_adjustIndex(l,u=0){return l??this.length+u}};function rx(a){return a[8]}function dc(a){return a[8]||(a[8]=[])}function yp(a,l){let u;const h=l[a.index];return ji(h)?u=h:(u=Nf(h,l,null,a),l[a.index]=u,Lf(l,u)),sx(u,l,a,h),new TI(u,a,l)}let sx=function RI(a,l,u,h){if(a[ms])return;let f;f=8&u.type?Zt(h):function kI(a,l){const u=a[At],h=u.createComment(""),f=rr(l,a);return Td(u,Wm(u,f),h,function Ly(a,l){return a.nextSibling(l)}(u,f),!1),h}(l,u),a[ms]=f};class ox{constructor(l){this.queryList=l,this.matches=null}clone(){return new ox(this.queryList)}setDirty(){this.queryList.setDirty()}}class l_{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const h=null!==l.contentQueries?l.contentQueries[0]:u.length,f=[];for(let g=0;g<h;g++){const v=u.getByIndex(g);f.push(this.queries[v.indexInDeclarationView].clone())}return new l_(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==NI(l,u).matches&&this.queries[u].setDirty()}}class vr{constructor(l,u,h=null){this.predicate=l,this.flags=u,this.read=h}}class ax{constructor(l=[]){this.queries=l}elementStart(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let h=0;h<this.length;h++){const f=null!==u?u.length:0,g=this.getByIndex(h).embeddedTView(l,f);g&&(g.indexInDeclarationView=h,null!==u?u.push(g):u=[g])}return null!==u?new ax(u):null}template(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class lx{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new lx(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=l.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let f=0;f<h.length;f++){const g=h[f];this.matchTNodeWithReadOption(l,u,eF(u,g)),this.matchTNodeWithReadOption(l,u,$n(u,l,g,!1,!1))}else h===mp?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,$n(u,l,h,!1,!1))}matchTNodeWithReadOption(l,u,h){if(null!==h){const f=this.metadata.read;if(null!==f)if(f===og||f===a_||f===mp&&4&u.type)this.addMatch(u.index,-2);else{const g=$n(u,l,f,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,h)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function eF(a,l){const u=a.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===l)return u[h+1];return null}function FI(a,l,u,h){return-1===u?function tF(a,l){return 11&a.type?If(a,l):4&a.type?al(a,l):null}(l,a):-2===u?function nF(a,l,u){return u===og?If(l,a):u===mp?al(l,a):u===a_?yp(l,a):void 0}(a,l,h):vn(a,a[tt],u,l)}function c_(a,l,u,h){const f=l[ci].queries[h];if(null===f.matches){const g=a.data,v=u.matches,x=[];for(let D=0;D<v.length;D+=2){const I=v[D];x.push(I<0?null:FI(l,g[I],v[D+1],u.metadata.read))}f.matches=x}return f.matches}function cx(a,l,u,h){const f=a.queries.getByIndex(u),g=f.matches;if(null!==g){const v=c_(a,l,f,u);for(let x=0;x<g.length;x+=2){const D=g[x];if(D>0)h.push(v[x/2]);else{const I=g[x+1],R=l[-D];for(let V=Si;V<R.length;V++){const W=R[V];W[Sl]===W[Gn]&&cx(W[tt],W,I,h)}if(null!==R[Lo]){const V=R[Lo];for(let W=0;W<V.length;W++){const J=V[W];cx(J[tt],J,I,h)}}}}}return h}function ux(a){const l=xe(),u=Kt(),h=md();Hc(h+1);const f=NI(u,h);if(a.dirty&&function Qh(a){return 4==(4&a[Pt])}(l)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const g=f.crossesNgTemplate?cx(u,l,h,[]):c_(u,l,f,h);a.reset(g,Mf),a.notifyOnChanges()}return!0}return!1}function eb(a,l,u){const h=Kt();h.firstCreatePass&&(rb(h,new vr(a,l,u),-1),2==(2&l)&&(h.staticViewQueries=!0)),ib(h,xe(),l)}function tb(a,l,u,h){const f=Kt();if(f.firstCreatePass){const g=bi();rb(f,new vr(l,u,h),g.index),function PI(a,l){const u=a.contentQueries||(a.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,l)}(f,a),2==(2&u)&&(f.staticContentQueries=!0)}ib(f,xe(),u)}function vp(){return function nb(a,l){return a[ci].queries[l].queryList}(xe(),md())}function ib(a,l,u){const h=new uh(4==(4&u));(function GS(a,l,u,h){const f=P0(l);f.push(u),a.firstCreatePass&&N0(a).push(h,f.length-1)})(a,l,h,h.destroy),null===l[ci]&&(l[ci]=new l_),l[ci].queries.push(new ox(h))}function rb(a,l,u){null===a.queries&&(a.queries=new ax),a.queries.track(new lx(l,u))}function NI(a,l){return a.queries.getByIndex(l)}function dx(a,l){return al(a,l)}function ku(a){return!!Fr(a)}const QI=new Rn("Application Initializer");let h_=(()=>{class a{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h}),this.appInits=G(QI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const u=[];for(const f of this.appInits){const g=f();if(Yf(g))u.push(g);else if(Wo(g)){const v=new Promise((x,D)=>{g.subscribe({complete:x,error:D})});u.push(v)}}const h=()=>{this.done=!0,this.resolve()};Promise.all(u).then(()=>{h()}).catch(f=>{this.reject(f)}),0===u.length&&h(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=Mt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),f_=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=Mt({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const p_=new Rn("LocaleId",{providedIn:"root",factory:()=>G(p_,xt.Optional|xt.SkipSelf)||function wx(){return typeof $localize<"u"&&$localize.locale||op}()}),Dp=new Rn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Cx=(()=>{class a{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new L.X(!1)}add(){this.hasPendingTasks.next(!0);const u=this.taskId++;return this.pendingTasks.add(u),u}remove(u){this.pendingTasks.delete(u),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=Mt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();class JI{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let mF=(()=>{class a{compileModuleSync(u){return new Jg(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),g=nl(Fr(u).declarations).reduce((v,x)=>{const D=Lt(x);return D&&v.push(new Uf(D)),v},[]);return new JI(h,g)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=Mt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Ex(...a){}class jr{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ca(!1),this.onMicrotaskEmpty=new Ca(!1),this.onStable=new Ca(!1),this.onError=new Ca(!1),typeof Zone>"u")throw new ne(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!h&&u,f.shouldCoalesceRunChangeDetection=h,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Sx(){const a="function"==typeof un.requestAnimationFrame;let l=un[a?"requestAnimationFrame":"setTimeout"],u=un[a?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&l&&u){const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h);const f=u[Zone.__symbol__("OriginalDelegate")];f&&(u=f)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function Sp(a){const l=()=>{!function Ax(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(un,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Fu(a),a.isCheckStableRunning=!0,ul(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Fu(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,f,g,v,x)=>{try{return Ix(a),u.invokeTask(f,g,v,x)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||a.shouldCoalesceRunChangeDetection)&&l(),hh(a)}},onInvoke:(u,h,f,g,v,x,D)=>{try{return Ix(a),u.invoke(f,g,v,x,D)}finally{a.shouldCoalesceRunChangeDetection&&l(),hh(a)}},onHasTask:(u,h,f,g)=>{u.hasTask(f,g),h===f&&("microTask"==g.change?(a._hasPendingMicrotasks=g.microTask,Fu(a),ul(a)):"macroTask"==g.change&&(a.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,h,f,g)=>(u.handleError(f,g),a.runOutsideAngular(()=>a.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!jr.isInAngularZone())throw new ne(909,!1)}static assertNotInAngularZone(){if(jr.isInAngularZone())throw new ne(909,!1)}run(l,u,h){return this._inner.run(l,u,h)}runTask(l,u,h,f){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+f,l,Ep,Ex,Ex);try{return g.runTask(v,u,h)}finally{g.cancelTask(v)}}runGuarded(l,u,h){return this._inner.runGuarded(l,u,h)}runOutsideAngular(l){return this._outer.run(l)}}const Ep={};function ul(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Fu(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function Ix(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function hh(a){a._nesting--,ul(a)}class gF{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ca,this.onMicrotaskEmpty=new Ca,this.onStable=new Ca,this.onError=new Ca}run(l,u,h){return l.apply(u,h)}runGuarded(l,u,h){return l.apply(u,h)}runOutsideAngular(l){return l()}runTask(l,u,h,f){return l.apply(u,h)}}const nM=new Rn("",{providedIn:"root",factory:gb});function gb(){const a=G(jr);let l=!0;const u=new ie.y(f=>{l=a.isStable&&!a.hasPendingMacrotasks&&!a.hasPendingMicrotasks,a.runOutsideAngular(()=>{f.next(l),f.complete()})}),h=new ie.y(f=>{let g;a.runOutsideAngular(()=>{g=a.onStable.subscribe(()=>{jr.assertNotInAngularZone(),queueMicrotask(()=>{!l&&!a.hasPendingMacrotasks&&!a.hasPendingMicrotasks&&(l=!0,f.next(!0))})})});const v=a.onUnstable.subscribe(()=>{jr.assertInAngularZone(),l&&(l=!1,a.runOutsideAngular(()=>{f.next(!1)}))});return()=>{g.unsubscribe(),v.unsubscribe()}});return(0,re.T)(u,h.pipe((0,ge.B)()))}const _b=new Rn(""),yb=new Rn("");let m_,Mx=(()=>{class a{constructor(u,h,f){this._ngZone=u,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,m_||(function _F(a){m_=a}(f),f.addToWindow(h)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{jr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,f){let g=-1;h&&h>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:f})}whenStable(u,h,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,h,f){return[]}}return a.\u0275fac=function(u){return new(u||a)(vt(jr),vt(iM),vt(yb))},a.\u0275prov=Mt({token:a,factory:a.\u0275fac}),a})(),iM=(()=>{class a{constructor(){this._applications=new Map}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return m_?.findTestabilityInTree(this,u,h)??null}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=Mt({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),dl=null;const rM=new Rn("AllowMultipleToken"),vb=new Rn("PlatformDestroyListeners"),Tx=new Rn("appBootstrapListener");class vF{constructor(l,u){this.name=l,this.token=u}}function bb(a,l,u=[]){const h=`Platform: ${l}`,f=new Rn(h);return(g=[])=>{let v=Ox();if(!v||v.injector.get(rM,!1)){const x=[...u,...g,{provide:f,useValue:!0}];a?a(x):function bF(a){if(dl&&!dl.get(rM,!1))throw new ne(400,!1);(function kx(){!function Yh(a){qh=a}(()=>{throw new ne(600,!1)})})(),dl=a;const l=a.get(wb);(function aM(a){a.get(LR,null)?.forEach(u=>u())})(a)}(function cM(a=[],l){return ec.create({name:l,providers:[{provide:Ky,useValue:"platform"},{provide:vb,useValue:new Set([()=>dl=null])},...a]})}(x,h))}return function Rx(a){const l=Ox();if(!l)throw new ne(401,!1);return l}()}}function Ox(){return dl?.get(wb)??null}let wb=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const f=function Px(a="zone.js",l){return"noop"===a?new gF:"zone.js"===a?new jr(l):a}(h?.ngZone,function Fx(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:a?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:a?.runCoalescing??!1}}({eventCoalescing:h?.ngZoneEventCoalescing,runCoalescing:h?.ngZoneRunCoalescing}));return f.run(()=>{const g=function Eu(a,l,u){return new Xg(a,l,u)}(u.moduleType,this.injector,function Db(a){return[{provide:jr,useFactory:a},{provide:qy,multi:!0,useFactory:()=>{const l=G(CF,{optional:!0});return()=>l.initialize()}},{provide:hM,useFactory:Lx},{provide:nM,useFactory:gb}]}(()=>f)),v=g.injector.get(ou,null);return f.runOutsideAngular(()=>{const x=f.onError.subscribe({next:D=>{v.handleError(D)}});g.onDestroy(()=>{Cb(this._modules,g),x.unsubscribe()})}),function Nx(a,l,u){try{const h=u();return Yf(h)?h.catch(f=>{throw l.runOutsideAngular(()=>a.handleError(f)),f}):h}catch(h){throw l.runOutsideAngular(()=>a.handleError(h)),h}}(v,f,()=>{const x=g.injector.get(h_);return x.runInitializers(),x.donePromise.then(()=>(function oh(a){ut(a,"Expected localeId to be defined"),"string"==typeof a&&(RC=a.toLowerCase().replace(/_/g,"-"))}(g.injector.get(p_,op)||op),this._moduleDoBootstrap(g),g))})})}bootstrapModule(u,h=[]){const f=dM({},h);return function sM(a,l,u){const h=new Jg(u);return Promise.resolve(h)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(u){const h=u.injector.get(Pu);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(f=>h.bootstrap(f));else{if(!u.instance.ngDoBootstrap)throw new ne(-403,!1);u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ne(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const u=this._injector.get(vb,null);u&&(u.forEach(h=>h()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(vt(ec))},a.\u0275prov=Mt({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function dM(a,l){return Array.isArray(l)?l.reduce(dM,a):{...a,...l}}let Pu=(()=>{class a{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=G(hM),this.zoneIsStable=G(nM),this.componentTypes=[],this.components=[],this.isStable=G(Cx).hasPendingTasks.pipe((0,Ee.w)(u=>u?(0,ee.of)(!1):this.zoneIsStable),(0,de.x)(),(0,ge.B)()),this._injector=G(Vd)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,h){const f=u instanceof AS;if(!this._injector.get(h_).done)throw!f&&Po(u),new ne(405,!1);let v;v=f?u:this._injector.get(qs).resolveComponentFactory(u),this.componentTypes.push(v.componentType);const x=function oM(a){return a.isBoundToModule}(v)?void 0:this._injector.get(dp),I=v.create(ec.NULL,[],h||v.selector,x),R=I.location.nativeElement,V=I.injector.get(_b,null);return V?.registerApplication(R),I.onDestroy(()=>{this.detachView(I.hostView),Cb(this.components,I),V?.unregisterApplication(R)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new ne(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this.internalErrorHandler(u)}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;Cb(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const h=this._injector.get(Tx,[]);h.push(...this._bootstrapListeners),h.forEach(f=>f(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Cb(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new ne(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=Mt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Cb(a,l){const u=a.indexOf(l);u>-1&&a.splice(u,1)}const hM=new Rn("",{providedIn:"root",factory:()=>G(ou).handleError.bind(void 0)});function Lx(){const a=G(jr),l=G(ou);return u=>a.runOutsideAngular(()=>l.handleError(u))}let CF=(()=>{class a{constructor(){this.zone=G(jr),this.applicationRef=G(Pu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=Mt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Ap(){return!1}function pM(){}let hc=(()=>{class a{}return a.__NG_ELEMENT_ID__=Vx,a})();function Vx(a){return function xF(a,l,u){if(gs(a)&&!u){const h=Fi(a.index,l);return new Vf(h,h)}return 47&a.type?new Vf(l[jn],l):null}(bi(),xe(),16==(16&a))}class jx{constructor(){}supports(l){return hu(l)}create(l){return new SF(l)}}const bM=(a,l)=>l;class SF{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||bM}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,h=this._removalsHead,f=0,g=null;for(;u||h;){const v=!h||u&&u.currentIndex<Wx(h,f,g)?u:h,x=Wx(v,f,g),D=v.currentIndex;if(v===h)f--,h=h._nextRemoved;else if(u=u._next,null==v.previousIndex)f++;else{g||(g=[]);const I=x-f,R=D-f;if(I!=R){for(let W=0;W<I;W++){const J=W<g.length?g[W]:g[W]=0,Ce=J+W;R<=Ce&&Ce<I&&(g[W]=J+1)}g[v.previousIndex]=R-I}}x!==D&&l(v,x,D)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!hu(l))throw new ne(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,g,v,u=this._itHead,h=!1;if(Array.isArray(l)){this.length=l.length;for(let x=0;x<this.length;x++)g=l[x],v=this._trackByFn(x,g),null!==u&&Object.is(u.trackById,v)?(h&&(u=this._verifyReinsertion(u,g,v,x)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,v,x),h=!0),u=u._next}else f=0,function Z0(a,l){if(Array.isArray(a))for(let u=0;u<a.length;u++)l(a[u]);else{const u=a[Symbol.iterator]();let h;for(;!(h=u.next()).done;)l(h.value)}}(l,x=>{v=this._trackByFn(f,x),null!==u&&Object.is(u.trackById,v)?(h&&(u=this._verifyReinsertion(u,x,v,f)),Object.is(u.item,x)||this._addIdentityChange(u,x)):(u=this._mismatch(u,x,v,f),h=!0),u=u._next,f++}),this.length=f;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,h,f){let g;return null===l?g=this._itTail:(g=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,g,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(h,f))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,g,f)):l=this._addAfter(new $x(u,h),g,f),l}_verifyReinsertion(l,u,h,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==g?l=this._reinsertAfter(g,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,g=l._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(l,u,h),this._addToMoves(l,h),l}_moveAfter(l,u,h){return this._unlink(l),this._insertAfter(l,u,h),this._addToMoves(l,h),l}_addAfter(l,u,h){return this._insertAfter(l,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,h){const f=null===u?this._itHead:u._next;return l._next=f,l._prev=u,null===f?this._itTail=l:f._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new Yx),this._linkedRecords.put(l),l.currentIndex=h,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,h=l._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Yx),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class $x{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qx{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,l))return h;return null}remove(l){const u=l._prevDup,h=l._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class Yx{constructor(){this.map=new Map}put(l){const u=l.trackById;let h=this.map.get(u);h||(h=new qx,this.map.set(u,h)),h.add(l)}get(l,u){const f=this.map.get(l);return f?f.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Wx(a,l,u){const h=a.previousIndex;if(null===h)return h;let f=0;return u&&h<u.length&&(f=u[h]),h+l+f}class Zx{constructor(){}supports(l){return l instanceof Map||Hf(l)}create(){return new Tb}}class Tb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||Hf(l)))throw new ne(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(h,f)=>{if(u&&u.key===f)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(f,h);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const h=l._prev;return u._next=l,u._prev=h,l._prev=u,h&&(h._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,u);const g=f._prev,v=f._next;return g&&(g._next=v),v&&(v._prev=g),f._next=null,f._prev=null,f}const h=new mn(l);return this._records.set(l,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(h=>u(l[h],h))}}class mn{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Kx(){return new kb([new jx])}let kb=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(null!=h){const f=h.factories.slice();u=u.concat(f)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||Kx()),deps:[[a,new Kc,new Wl]]}}find(u){const h=this.factories.find(f=>f.supports(u));if(null!=h)return h;throw new ne(901,!1)}}return a.\u0275prov=Mt({token:a,providedIn:"root",factory:Kx}),a})();function Mp(){return new Rb([new Zx])}let Rb=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(h){const f=h.factories.slice();u=u.concat(f)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||Mp()),deps:[[a,new Kc,new Wl]]}}find(u){const h=this.factories.find(f=>f.supports(u));if(h)return h;throw new ne(901,!1)}}return a.\u0275prov=Mt({token:a,providedIn:"root",factory:Mp}),a})();const MF=bb(null,"core",[]);let Ob=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(vt(Pu))},a.\u0275mod=Ju({type:a}),a.\u0275inj=oi({}),a})();function sD(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}function PF(a){const l=Lt(a);if(!l)return null;const u=new Uf(l);return{get selector(){return u.selector},get type(){return u.componentType},get inputs(){return u.inputs},get outputs(){return u.outputs},get ngContentSelectors(){return u.ngContentSelectors},get isStandalone(){return l.standalone},get isSignal(){return l.signals}}}},3106:(ht,we,P)=>{P.d(we,{Z:()=>Ze});var o=P(9058),X=P(4537),L=P(4303),ie=P(7879);class re{constructor(Ye,Re){this._delegate=Ye,this.firebase=Re,(0,L._addComponent)(Ye,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=Ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ye){this._delegate.automaticDataCollectionEnabled=Ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ye=>{this._delegate.checkDestroyed(),Ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(Ye,Re=L._DEFAULT_ENTRY_NAME){var lt;this._delegate.checkDestroyed();const ct=this._delegate.container.getProvider(Ye);return!ct.isInitialized()&&"EXPLICIT"===(null===(lt=ct.getComponent())||void 0===lt?void 0:lt.instantiationMode)&&ct.initialize(),ct.getImmediate({identifier:Re})}_removeServiceInstance(Ye,Re=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ye).clearInstance(Re)}_addComponent(Ye){(0,L._addComponent)(this._delegate,Ye)}_addOrOverwriteComponent(Ye){(0,L._addOrOverwriteComponent)(this._delegate,Ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ge=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function de(){const Fe=function Ee(Fe){const Ye={},Re={__esModule:!0,initializeApp:function ne(Ve,j={}){const Se=L.initializeApp(Ve,j);if((0,o.r3)(Ye,Se.name))return Ye[Se.name];const Ue=new Fe(Se,Re);return Ye[Se.name]=Ue,Ue},app:ct,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function oe(Ve){const j=Ve.name,Se=j.replace("-compat","");if(L._registerComponent(Ve)&&"PUBLIC"===Ve.type){const Ue=(Ft=ct())=>{if("function"!=typeof Ft[Se])throw ge.create("invalid-app-argument",{appName:j});return Ft[Se]()};void 0!==Ve.serviceProps&&(0,o.ZB)(Ue,Ve.serviceProps),Re[Se]=Ue,Fe.prototype[Se]=function(...Ft){return this._getService.bind(this,j).apply(this,Ve.multipleInstances?Ft:[])}}return"PUBLIC"===Ve.type?Re[Se]:null},removeApp:function lt(Ve){delete Ye[Ve]},useAsService:function ve(Ve,j){return"serverAuth"===j?null:j},modularAPIs:L}};function ct(Ve){if(!(0,o.r3)(Ye,Ve=Ve||L._DEFAULT_ENTRY_NAME))throw ge.create("no-app",{appName:Ve});return Ye[Ve]}return Re.default=Re,Object.defineProperty(Re,"apps",{get:function ye(){return Object.keys(Ye).map(Ve=>Ye[Ve])}}),ct.App=Fe,Re}(re);return Fe.INTERNAL=Object.assign(Object.assign({},Fe.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function Ye(Re){(0,o.ZB)(Fe,Re)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),Fe}(),q=new ie.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Fe=self.firebase.SDK_VERSION;Fe&&Fe.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ze=H;!function Me(Fe){(0,L.registerVersion)("@firebase/app-compat","0.2.1",Fe)}()},4303:(ht,we,P)=>{P.r(we),P.d(we,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>oi,_DEFAULT_ENTRY_NAME:()=>ae,_addComponent:()=>Pe,_addOrOverwriteComponent:()=>He,_apps:()=>me,_clearComponents:()=>St,_components:()=>fe,_getProvider:()=>qe,_registerComponent:()=>ut,_removeServiceInstance:()=>an,deleteApp:()=>kr,getApp:()=>yn,getApps:()=>Xn,initializeApp:()=>ki,onLog:()=>ks,registerVersion:()=>wr,setLogLevel:()=>qr});var o=P(5861),X=P(4537),L=P(7879),ie=P(9058),re=P(1878);class ee{constructor(Te){this.container=Te}getPlatformInfoString(){return this.container.getProviders().map(Xe=>{if(function ge(nt){const Te=nt.getComponent();return"VERSION"===Te?.type}(Xe)){const Rt=Xe.getImmediate();return`${Rt.library}/${Rt.version}`}return null}).filter(Xe=>Xe).join(" ")}}const Ee="@firebase/app",H=new L.Yd("@firebase/app"),ae="[DEFAULT]",he={[Ee]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},me=new Map,fe=new Map;function Pe(nt,Te){try{nt.container.addComponent(Te)}catch(Xe){H.debug(`Component ${Te.name} failed to register with FirebaseApp ${nt.name}`,Xe)}}function He(nt,Te){nt.container.addOrOverwriteComponent(Te)}function ut(nt){const Te=nt.name;if(fe.has(Te))return H.debug(`There were multiple attempts to register component ${Te}.`),!1;fe.set(Te,nt);for(const Xe of me.values())Pe(Xe,nt);return!0}function qe(nt,Te){const Xe=nt.container.getProvider("heartbeat").getImmediate({optional:!0});return Xe&&Xe.triggerHeartbeat(),nt.container.getProvider(Te)}function an(nt,Te,Xe=ae){qe(nt,Te).clearInstance(Xe)}function St(){fe.clear()}const Mt=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class cn{constructor(Te,Xe,Rt){this._isDeleted=!1,this._options=Object.assign({},Te),this._config=Object.assign({},Xe),this._name=Xe.name,this._automaticDataCollectionEnabled=Xe.automaticDataCollectionEnabled,this._container=Rt,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this.checkDestroyed(),this._automaticDataCollectionEnabled=Te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Te){this._isDeleted=Te}checkDestroyed(){if(this.isDeleted)throw Mt.create("app-deleted",{appName:this._name})}}const oi="9.16.0";function ki(nt,Te={}){let Xe=nt;"object"!=typeof Te&&(Te={name:Te});const Rt=Object.assign({name:ae,automaticDataCollectionEnabled:!1},Te),vt=Rt.name;if("string"!=typeof vt||!vt)throw Mt.create("bad-app-name",{appName:String(vt)});if(Xe||(Xe=(0,ie.aH)()),!Xe)throw Mt.create("no-options");const nn=me.get(vt);if(nn){if((0,ie.vZ)(Xe,nn.options)&&(0,ie.vZ)(Rt,nn.config))return nn;throw Mt.create("duplicate-app",{appName:vt})}const G=new X.H0(vt);for(const Z of fe.values())G.addComponent(Z);const z=new cn(Xe,Rt,G);return me.set(vt,z),z}function yn(nt=ae){const Te=me.get(nt);if(!Te&&nt===ae)return ki();if(!Te)throw Mt.create("no-app",{appName:nt});return Te}function Xn(){return Array.from(me.values())}function kr(nt){return br.apply(this,arguments)}function br(){return(br=(0,o.Z)(function*(nt){const Te=nt.name;me.has(Te)&&(me.delete(Te),yield Promise.all(nt.container.getProviders().map(Xe=>Xe.delete())),nt.isDeleted=!0)})).apply(this,arguments)}function wr(nt,Te,Xe){var Rt;let vt=null!==(Rt=he[nt])&&void 0!==Rt?Rt:nt;Xe&&(vt+=`-${Xe}`);const nn=vt.match(/\s|\//),G=Te.match(/\s|\//);if(nn||G){const z=[`Unable to register library "${vt}" with version "${Te}":`];return nn&&z.push(`library name "${vt}" contains illegal characters (whitespace or "/")`),nn&&G&&z.push("and"),G&&z.push(`version name "${Te}" contains illegal characters (whitespace or "/")`),void H.warn(z.join(" "))}ut(new X.wA(`${vt}-version`,()=>({library:vt,version:Te}),"VERSION"))}function ks(nt,Te){if(null!==nt&&"function"!=typeof nt)throw Mt.create("invalid-log-argument");(0,L.Am)(nt,Te)}function qr(nt){(0,L.Ub)(nt)}const ds="firebase-heartbeat-database",xt=1,Ht="firebase-heartbeat-store";let Wt=null;function ai(){return Wt||(Wt=(0,re.X3)(ds,xt,{upgrade:(nt,Te)=>{0===Te&&nt.createObjectStore(Ht)}}).catch(nt=>{throw Mt.create("idb-open",{originalErrorMessage:nt.message})})),Wt}function Gi(){return(Gi=(0,o.Z)(function*(nt){try{return(yield ai()).transaction(Ht).objectStore(Ht).get(Yr(nt))}catch(Te){if(Te instanceof ie.ZR)H.warn(Te.message);else{const Xe=Mt.create("idb-get",{originalErrorMessage:Te?.message});H.warn(Xe.message)}}})).apply(this,arguments)}function un(nt,Te){return zn.apply(this,arguments)}function zn(){return(zn=(0,o.Z)(function*(nt,Te){try{const Rt=(yield ai()).transaction(Ht,"readwrite");return yield Rt.objectStore(Ht).put(Te,Yr(nt)),Rt.done}catch(Xe){if(Xe instanceof ie.ZR)H.warn(Xe.message);else{const Rt=Mt.create("idb-set",{originalErrorMessage:Xe?.message});H.warn(Rt.message)}}})).apply(this,arguments)}function Yr(nt){return`${nt.name}!${nt.options.appId}`}class dn{constructor(Te){this.container=Te,this._heartbeatsCache=null;const Xe=this.container.getProvider("app").getImmediate();this._storage=new xc(Xe),this._heartbeatsCachePromise=this._storage.read().then(Rt=>(this._heartbeatsCache=Rt,Rt))}triggerHeartbeat(){var Te=this;return(0,o.Z)(function*(){const Rt=Te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),vt=Rr();if(null===Te._heartbeatsCache&&(Te._heartbeatsCache=yield Te._heartbeatsCachePromise),Te._heartbeatsCache.lastSentHeartbeatDate!==vt&&!Te._heartbeatsCache.heartbeats.some(nn=>nn.date===vt))return Te._heartbeatsCache.heartbeats.push({date:vt,agent:Rt}),Te._heartbeatsCache.heartbeats=Te._heartbeatsCache.heartbeats.filter(nn=>{const G=new Date(nn.date).valueOf();return Date.now()-G<=2592e6}),Te._storage.overwrite(Te._heartbeatsCache)})()}getHeartbeatsHeader(){var Te=this;return(0,o.Z)(function*(){if(null===Te._heartbeatsCache&&(yield Te._heartbeatsCachePromise),null===Te._heartbeatsCache||0===Te._heartbeatsCache.heartbeats.length)return"";const Xe=Rr(),{heartbeatsToSend:Rt,unsentEntries:vt}=function Wr(nt,Te=1024){const Xe=[];let Rt=nt.slice();for(const vt of nt){const nn=Xe.find(G=>G.agent===vt.agent);if(nn){if(nn.dates.push(vt.date),Or(Xe)>Te){nn.dates.pop();break}}else if(Xe.push({agent:vt.agent,dates:[vt.date]}),Or(Xe)>Te){Xe.pop();break}Rt=Rt.slice(1)}return{heartbeatsToSend:Xe,unsentEntries:Rt}}(Te._heartbeatsCache.heartbeats),nn=(0,ie.L)(JSON.stringify({version:2,heartbeats:Rt}));return Te._heartbeatsCache.lastSentHeartbeatDate=Xe,vt.length>0?(Te._heartbeatsCache.heartbeats=vt,yield Te._storage.overwrite(Te._heartbeatsCache)):(Te._heartbeatsCache.heartbeats=[],Te._storage.overwrite(Te._heartbeatsCache)),nn})()}}function Rr(){return(new Date).toISOString().substring(0,10)}class xc{constructor(Te){this.app=Te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Te=this;return(0,o.Z)(function*(){return(yield Te._canUseIndexedDBPromise)&&(yield function Rs(nt){return Gi.apply(this,arguments)}(Te.app))||{heartbeats:[]}})()}overwrite(Te){var Xe=this;return(0,o.Z)(function*(){var Rt;if(yield Xe._canUseIndexedDBPromise){const nn=yield Xe.read();return un(Xe.app,{lastSentHeartbeatDate:null!==(Rt=Te.lastSentHeartbeatDate)&&void 0!==Rt?Rt:nn.lastSentHeartbeatDate,heartbeats:Te.heartbeats})}})()}add(Te){var Xe=this;return(0,o.Z)(function*(){var Rt;if(yield Xe._canUseIndexedDBPromise){const nn=yield Xe.read();return un(Xe.app,{lastSentHeartbeatDate:null!==(Rt=Te.lastSentHeartbeatDate)&&void 0!==Rt?Rt:nn.lastSentHeartbeatDate,heartbeats:[...nn.heartbeats,...Te.heartbeats]})}})()}}function Or(nt){return(0,ie.L)(JSON.stringify({version:2,heartbeats:nt})).length}!function Ro(nt){ut(new X.wA("platform-logger",Te=>new ee(Te),"PRIVATE")),ut(new X.wA("heartbeat",Te=>new dn(Te),"PRIVATE")),wr(Ee,"0.9.1",nt),wr(Ee,"0.9.1","esm2017"),wr("fire-js","")}("")},4537:(ht,we,P)=>{P.d(we,{H0:()=>Ee,wA:()=>L,zt:()=>re});var o=P(5861),X=P(9058);class L{constructor(H,q,te){this.name=H,this.instanceFactory=q,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const ie="[DEFAULT]";class re{constructor(H,q){this.name=H,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const q=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(q)){const te=new X.BH;if(this.instancesDeferred.set(q,te),this.isInitialized(q)||this.shouldAutoInitialize())try{const Ne=this.getOrInitializeService({instanceIdentifier:q});Ne&&te.resolve(Ne)}catch{}}return this.instancesDeferred.get(q).promise}getImmediate(H){var q;const te=this.normalizeInstanceIdentifier(H?.identifier),Ne=null!==(q=H?.optional)&&void 0!==q&&q;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(Ne)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Me){if(Ne)return null;throw Me}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function ge(de){return"EAGER"===de.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:ie})}catch{}for(const[q,te]of this.instancesDeferred.entries()){const Ne=this.normalizeInstanceIdentifier(q);try{const Me=this.getOrInitializeService({instanceIdentifier:Ne});te.resolve(Me)}catch{}}}}clearInstance(H=ie){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,o.Z)(function*(){const q=Array.from(H.instances.values());yield Promise.all([...q.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...q.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=ie){return this.instances.has(H)}getOptions(H=ie){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:q={}}=H,te=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ne=this.getOrInitializeService({instanceIdentifier:te,options:q});for(const[Me,Ze]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(Me)&&Ze.resolve(Ne);return Ne}onInit(H,q){var te;const Ne=this.normalizeInstanceIdentifier(q),Me=null!==(te=this.onInitCallbacks.get(Ne))&&void 0!==te?te:new Set;Me.add(H),this.onInitCallbacks.set(Ne,Me);const Ze=this.instances.get(Ne);return Ze&&H(Ze,Ne),()=>{Me.delete(H)}}invokeOnInitCallbacks(H,q){const te=this.onInitCallbacks.get(q);if(te)for(const Ne of te)try{Ne(H,q)}catch{}}getOrInitializeService({instanceIdentifier:H,options:q={}}){let te=this.instances.get(H);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(de=H,de===ie?void 0:de),options:q}),this.instances.set(H,te),this.instancesOptions.set(H,q),this.invokeOnInitCallbacks(te,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,te)}catch{}var de;return te||null}normalizeInstanceIdentifier(H=ie){return this.component?this.component.multipleInstances?H:ie:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ee{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const q=this.getProvider(H.name);if(q.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);q.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const q=new re(H,this);return this.providers.set(H,q),q}getProviders(){return Array.from(this.providers.values())}}},7879:(ht,we,P)=>{P.d(we,{Am:()=>de,Ub:()=>Ee,Yd:()=>ge,in:()=>X});const o=[];var X=function(H){return H[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",H}(X||{});const L={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},ie=X.INFO,re={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},ee=(H,q,...te)=>{if(q<H.logLevel)return;const Ne=(new Date).toISOString(),Me=re[q];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[Me](`[${Ne}]  ${H.name}:`,...te)};class ge{constructor(q){this.name=q,this._logLevel=ie,this._logHandler=ee,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in X))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?L[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...q),this._logHandler(this,X.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...q),this._logHandler(this,X.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,X.INFO,...q),this._logHandler(this,X.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,X.WARN,...q),this._logHandler(this,X.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...q),this._logHandler(this,X.ERROR,...q)}}function Ee(H){o.forEach(q=>{q.setLogLevel(H)})}function de(H,q){for(const te of o){let Ne=null;q&&q.level&&(Ne=L[q.level]),te.userLogHandler=null===H?null:(Me,Ze,...Fe)=>{const Ye=Fe.map(Re=>{if(null==Re)return null;if("string"==typeof Re)return Re;if("number"==typeof Re||"boolean"==typeof Re)return Re.toString();if(Re instanceof Error)return Re.message;try{return JSON.stringify(Re)}catch{return null}}).filter(Re=>Re).join(" ");Ze>=(Ne??Me.logLevel)&&H({level:X[Ze].toLowerCase(),message:Ye,args:Fe,type:Me.name})}}}},3182:(ht,we,P)=>{P.d(we,{C6:()=>o.getApps,Mq:()=>o.getApp});var o=P(4303);(0,o.registerVersion)("firebase","9.16.0","app")},7142:(ht,we,P)=>{P.d(we,{Z:()=>o.Z});var o=P(3106);o.Z.registerVersion("firebase","9.16.0","app-compat")},8443:(ht,we,P)=>{P.r(we);var o=P(5861),X=P(3106),L=P(9058),ie=P(4303),re=P(7879),ee=P(7582),ge=P(4537);const de={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Ze=function Ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Fe=function Me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ye=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),lt=new re.Yd("@firebase/auth");function ct(b,...m){lt.logLevel<=re.in.ERROR&&lt.error(`Auth (${ie.SDK_VERSION}): ${b}`,...m)}function ne(b,...m){throw Ve(b,...m)}function ye(b,...m){return Ve(b,...m)}function oe(b,m,_){const C=Object.assign(Object.assign({},Fe()),{[m]:_});return new L.LL("auth","Firebase",C).create(m,{appName:b.name})}function ve(b,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&ne(b,"argument-error"),oe(b,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ve(b,...m){if("string"!=typeof b){const _=m[0],C=[...m.slice(1)];return C[0]&&(C[0].appName=b.name),b._errorFactory.create(_,...C)}return Ye.create(b,...m)}function j(b,m,..._){if(!b)throw Ve(m,..._)}function Se(b){const m="INTERNAL ASSERTION FAILED: "+b;throw ct(m),new Error(m)}function Ue(b,m){b||Se(m)}const Ft=new Map;function rn(b){Ue(b instanceof Function,"Expected a class definition");let m=Ft.get(b);return m?(Ue(m instanceof b,"Instance stored in cache mismatched with class"),m):(m=new b,Ft.set(b,m),m)}function Hn(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Ti(){return"http:"===ko()||"https:"===ko()}function ko(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class me{constructor(m,_){this.shortDelay=m,this.longDelay=_,Ue(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function ae(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ti()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fe(b,m){Ue(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class Pe{static initialize(m,_,C){this.fetchImpl=m,_&&(this.headersImpl=_),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Se("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Se("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Se("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const He={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ut=new me(3e4,6e4);function qe(b,m){return b.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:b.tenantId}):m}function an(b,m,_,C){return St.apply(this,arguments)}function St(){return(St=(0,o.Z)(function*(b,m,_,C,M={}){return pn(b,M,(0,o.Z)(function*(){let O={},Y={};C&&("GET"===m?Y=C:O={body:JSON.stringify(C)});const pe=(0,L.xO)(Object.assign({key:b.config.apiKey},Y)).slice(1),je=yield b._getAdditionalHeaders();return je["Content-Type"]="application/json",b.languageCode&&(je["X-Firebase-Locale"]=b.languageCode),Pe.fetch()(ki(b,b.config.apiHost,_,pe),Object.assign({method:m,headers:je,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function pn(b,m,_){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,o.Z)(function*(b,m,_){b._canInitEmulator=!1;const C=Object.assign(Object.assign({},He),m);try{const M=new yn(b),O=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const Y=yield O.json();if("needConfirmation"in Y)throw Xn(b,"account-exists-with-different-credential",Y);if(O.ok&&!("errorMessage"in Y))return Y;{const pe=O.ok?Y.errorMessage:Y.error.message,[je,rt]=pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===je)throw Xn(b,"credential-already-in-use",Y);if("EMAIL_EXISTS"===je)throw Xn(b,"email-already-in-use",Y);if("USER_DISABLED"===je)throw Xn(b,"user-disabled",Y);const Dt=C[je]||je.toLowerCase().replace(/[_\s]+/g,"-");if(rt)throw oe(b,Dt,rt);ne(b,Dt)}}catch(M){if(M instanceof L.ZR)throw M;ne(b,"network-request-failed")}})).apply(this,arguments)}function cn(b,m,_,C){return oi.apply(this,arguments)}function oi(){return(oi=(0,o.Z)(function*(b,m,_,C,M={}){const O=yield an(b,m,_,C,M);return"mfaPendingCredential"in O&&ne(b,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function ki(b,m,_,C){const M=`${m}${_}?${C}`;return b.config.emulator?fe(b.config,M):`${b.config.apiScheme}://${M}`}class yn{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,C)=>{this.timer=setTimeout(()=>C(ye(this.auth,"network-request-failed")),ut.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xn(b,m,_){const C={appName:b.name};_.email&&(C.email=_.email),_.phoneNumber&&(C.phoneNumber=_.phoneNumber);const M=ye(b,m,C);return M.customData._tokenResponse=_,M}function br(){return(br=(0,o.Z)(function*(b,m){return an(b,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function ks(){return(ks=(0,o.Z)(function*(b,m){return an(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ds(){return(ds=(0,o.Z)(function*(b,m){return an(b,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function xt(b){if(b)try{const m=new Date(Number(b));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function ai(){return(ai=(0,o.Z)(function*(b,m=!1){const _=(0,L.m9)(b),C=yield _.getIdToken(m),M=Gi(C);j(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const O="object"==typeof M.firebase?M.firebase:void 0,Y=O?.sign_in_provider;return{claims:M,token:C,authTime:xt(Rs(M.auth_time)),issuedAtTime:xt(Rs(M.iat)),expirationTime:xt(Rs(M.exp)),signInProvider:Y||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function Rs(b){return 1e3*Number(b)}function Gi(b){const[m,_,C]=b.split(".");if(void 0===m||void 0===_||void 0===C)return ct("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,L.tV)(_);return M?JSON.parse(M):(ct("Failed to decode base64 JWT payload"),null)}catch(M){return ct("Caught error parsing JWT payload as JSON",M?.toString()),null}}function zn(b,m){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,o.Z)(function*(b,m,_=!1){if(_)return m;try{return yield m}catch(C){throw C instanceof L.ZR&&function Zn({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(C)&&b.auth.currentUser===b&&(yield b.auth.signOut()),C}})).apply(this,arguments)}class Os{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const C=this.getInterval(m);this.timerId=setTimeout((0,o.Z)(function*(){yield _.iteration()}),C)}iteration(){var m=this;return(0,o.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&m.schedule(!0))}m.schedule()})()}}class dn{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=xt(this.lastLoginAt),this.creationTime=xt(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Rr(b){return Wr.apply(this,arguments)}function Wr(){return Wr=(0,o.Z)(function*(b){var m;const _=b.auth,C=yield b.getIdToken(),M=yield zn(b,function qr(b,m){return ds.apply(this,arguments)}(_,{idToken:C}));j(M?.users.length,_,"internal-error");const O=M.users[0];b._notifyReloadListener(O);const Y=null!==(m=O.providerUserInfo)&&void 0!==m&&m.length?function nt(b){return b.map(m=>{var{providerId:_}=m,C=(0,ee._T)(m,["providerId"]);return{providerId:_,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}(O.providerUserInfo):[],pe=function Ro(b,m){return[...b.filter(C=>!m.some(M=>M.providerId===C.providerId)),...m]}(b.providerData,Y),Dt=!!b.isAnonymous&&!(b.email&&O.passwordHash||pe?.length),yt={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:pe,metadata:new dn(O.createdAt,O.lastLoginAt),isAnonymous:Dt};Object.assign(b,yt)}),Wr.apply(this,arguments)}function Or(){return(Or=(0,o.Z)(function*(b){const m=(0,L.m9)(b);yield Rr(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Xe(){return(Xe=(0,o.Z)(function*(b,m){const _=yield pn(b,{},(0,o.Z)(function*(){const C=(0,L.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:M,apiKey:O}=b.config,Y=ki(b,M,"/v1/token",`key=${O}`),pe=yield b._getAdditionalHeaders();return pe["Content-Type"]="application/x-www-form-urlencoded",Pe.fetch()(Y,{method:"POST",headers:pe,body:C})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Rt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){j(m.idToken,"internal-error"),j(typeof m.idToken<"u","internal-error"),j(typeof m.refreshToken<"u","internal-error");const _="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function un(b){const m=Gi(b);return j(m,"internal-error"),j(typeof m.exp<"u","internal-error"),j(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var C=this;return(0,o.Z)(function*(){return j(!C.accessToken||C.refreshToken,m,"user-token-expired"),_||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(m,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var C=this;return(0,o.Z)(function*(){const{accessToken:M,refreshToken:O,expiresIn:Y}=yield function Te(b,m){return Xe.apply(this,arguments)}(m,_);C.updateTokensAndExpiration(M,O,Number(Y))})()}updateTokensAndExpiration(m,_,C){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(m,_){const{refreshToken:C,accessToken:M,expirationTime:O}=_,Y=new Rt;return C&&(j("string"==typeof C,"internal-error",{appName:m}),Y.refreshToken=C),M&&(j("string"==typeof M,"internal-error",{appName:m}),Y.accessToken=M),O&&(j("number"==typeof O,"internal-error",{appName:m}),Y.expirationTime=O),Y}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Rt,this.toJSON())}_performRefresh(){return Se("not implemented")}}function vt(b,m){j("string"==typeof b||typeof b>"u","internal-error",{appName:m})}class nn{constructor(m){var{uid:_,auth:C,stsTokenManager:M}=m,O=(0,ee._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Os(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=C,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new dn(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,o.Z)(function*(){const C=yield zn(_,_.stsTokenManager.getToken(_.auth,m));return j(C,_.auth,"internal-error"),_.accessToken!==C&&(_.accessToken=C,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),C})()}getIdTokenResult(m){return function Wt(b){return ai.apply(this,arguments)}(this,m)}reload(){return function xc(b){return Or.apply(this,arguments)}(this)}_assign(m){this!==m&&(j(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new nn(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var C=this;return(0,o.Z)(function*(){let M=!1;m.idToken&&m.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(m),M=!0),_&&(yield Rr(C)),yield C.auth._persistUserIfCurrent(C),M&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var m=this;return(0,o.Z)(function*(){const _=yield m.getIdToken();return yield zn(m,function kr(b,m){return br.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var C,M,O,Y,pe,je,rt,Dt;const yt=null!==(C=_.displayName)&&void 0!==C?C:void 0,wi=null!==(M=_.email)&&void 0!==M?M:void 0,es=null!==(O=_.phoneNumber)&&void 0!==O?O:void 0,Ql=null!==(Y=_.photoURL)&&void 0!==Y?Y:void 0,iu=null!==(pe=_.tenantId)&&void 0!==pe?pe:void 0,_f=null!==(je=_._redirectEventId)&&void 0!==je?je:void 0,zm=null!==(rt=_.createdAt)&&void 0!==rt?rt:void 0,Gm=null!==(Dt=_.lastLoginAt)&&void 0!==Dt?Dt:void 0,{uid:jm,emailVerified:zw,isAnonymous:Gw,providerData:$m,stsTokenManager:qm}=_;j(jm&&qm,m,"internal-error");const Ny=Rt.fromJSON(this.name,qm);j("string"==typeof jm,m,"internal-error"),vt(yt,m.name),vt(wi,m.name),j("boolean"==typeof zw,m,"internal-error"),j("boolean"==typeof Gw,m,"internal-error"),vt(es,m.name),vt(Ql,m.name),vt(iu,m.name),vt(_f,m.name),vt(zm,m.name),vt(Gm,m.name);const yf=new nn({uid:jm,auth:m,email:wi,emailVerified:zw,displayName:yt,isAnonymous:Gw,photoURL:Ql,phoneNumber:es,tenantId:iu,stsTokenManager:Ny,createdAt:zm,lastLoginAt:Gm});return $m&&Array.isArray($m)&&(yf.providerData=$m.map(jw=>Object.assign({},jw))),_f&&(yf._redirectEventId=_f),yf}static _fromIdTokenResponse(m,_,C=!1){return(0,o.Z)(function*(){const M=new Rt;M.updateFromServerResponse(_);const O=new nn({uid:_.localId,auth:m,stsTokenManager:M,isAnonymous:C});return yield Rr(O),O})()}}const z=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(_,C){var M=this;return(0,o.Z)(function*(){M.storage[_]=C})()}_get(_){var C=this;return(0,o.Z)(function*(){const M=C.storage[_];return void 0===M?null:M})()}_remove(_){var C=this;return(0,o.Z)(function*(){delete C.storage[_]})()}_addListener(_,C){}_removeListener(_,C){}}return b.type="NONE",b})();function Z(b,m,_){return`firebase:${b}:${m}:${_}`}class be{constructor(m,_,C){this.persistence=m,this.auth=_,this.userKey=C;const{config:M,name:O}=this.auth;this.fullUserKey=Z(this.userKey,M.apiKey,O),this.fullPersistenceKey=Z("persistence",M.apiKey,O),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,o.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?nn._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,o.Z)(function*(){if(_.persistence===m)return;const C=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,C?_.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,C="authUser"){return(0,o.Z)(function*(){if(!_.length)return new be(rn(z),m,C);const M=(yield Promise.all(_.map(function(){var rt=(0,o.Z)(function*(Dt){if(yield Dt._isAvailable())return Dt});return function(Dt){return rt.apply(this,arguments)}}()))).filter(rt=>rt);let O=M[0]||rn(z);const Y=Z(C,m.config.apiKey,m.name);let pe=null;for(const rt of _)try{const Dt=yield rt._get(Y);if(Dt){const yt=nn._fromJSON(m,Dt);rt!==O&&(pe=yt),O=rt;break}}catch{}const je=M.filter(rt=>rt._shouldAllowMigration);return O._shouldAllowMigration&&je.length?(O=je[0],pe&&(yield O._set(Y,pe.toJSON())),yield Promise.all(_.map(function(){var rt=(0,o.Z)(function*(Dt){if(Dt!==O)try{yield Dt._remove(Y)}catch{}});return function(Dt){return rt.apply(this,arguments)}}())),new be(O,m,C)):new be(O,m,C)})()}}function le(b){const m=b.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(li(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(dt(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(gi(m))return"Blackberry";if(st(m))return"Webos";if(Nt(m))return"Safari";if((m.includes("chrome/")||Qt(m))&&!m.includes("edge/"))return"Chrome";if(Dn(m))return"Android";{const C=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function dt(b=(0,L.z$)()){return/firefox\//i.test(b)}function Nt(b=(0,L.z$)()){const m=b.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function Qt(b=(0,L.z$)()){return/crios\//i.test(b)}function li(b=(0,L.z$)()){return/iemobile/i.test(b)}function Dn(b=(0,L.z$)()){return/android/i.test(b)}function gi(b=(0,L.z$)()){return/blackberry/i.test(b)}function st(b=(0,L.z$)()){return/webos/i.test(b)}function _i(b=(0,L.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function no(b=(0,L.z$)()){return _i(b)||Dn(b)||st(b)||gi(b)||/windows phone/i.test(b)||li(b)}function ta(b,m=[]){let _;switch(b){case"Browser":_=le((0,L.z$)());break;case"Worker":_=`${le((0,L.z$)())}-${b}`;break;default:_=b}const C=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${ie.SDK_VERSION}/${C}`}class Zu{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,_){const C=O=>new Promise((Y,pe)=>{try{Y(m(O))}catch(je){pe(je)}});C.onAbort=_,this.queue.push(C);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(m){var _=this;return(0,o.Z)(function*(){if(_.auth.currentUser===m)return;const C=[];try{for(const M of _.queue)yield M(m),M.onAbort&&C.push(M.onAbort)}catch(M){C.reverse();for(const O of C)try{O()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class Ku{constructor(m,_,C){this.app=m,this.heartbeatServiceProvider=_,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bl(this),this.idTokenSubscription=new bl(this),this.beforeStateQueue=new Zu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ye,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(m,_){var C=this;return _&&(this._popupRedirectResolver=rn(_)),this._initializationPromise=this.queue((0,o.Z)(function*(){var M,O;if(!C._deleted&&(C.persistenceManager=yield be.create(C,m),!C._deleted)){if(null!==(M=C._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(_),C.lastNotifiedUid=(null===(O=C.currentUser)||void 0===O?void 0:O.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,o.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_,!0)}})()}initializeCurrentUser(m){var _=this;return(0,o.Z)(function*(){var C;const M=yield _.assertedPersistence.getCurrentUser();let O=M,Y=!1;if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const pe=null===(C=_.redirectUser)||void 0===C?void 0:C._redirectEventId,je=O?._redirectEventId,rt=yield _.tryRedirectSignIn(m);(!pe||pe===je)&&rt?.user&&(O=rt.user,Y=!0)}if(!O)return _.directlySetCurrentUser(null);if(!O._redirectEventId){if(Y)try{yield _.beforeStateQueue.runMiddleware(O)}catch(pe){O=M,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(pe))}return O?_.reloadAndSetCurrentUserOrClear(O):_.directlySetCurrentUser(null)}return j(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===O._redirectEventId?_.directlySetCurrentUser(O):_.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(m){var _=this;return(0,o.Z)(function*(){let C=null;try{C=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch{yield _._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,o.Z)(function*(){try{yield Rr(m)}catch(C){if("auth/network-request-failed"!==C?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function he(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var m=this;return(0,o.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,o.Z)(function*(){const C=m?(0,L.m9)(m):null;return C&&j(C.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(C&&C._clone(_))})()}_updateCurrentUser(m,_=!1){var C=this;return(0,o.Z)(function*(){if(!C._deleted)return m&&j(C.tenantId===m.tenantId,C,"tenant-id-mismatch"),_||(yield C.beforeStateQueue.runMiddleware(m)),C.queue((0,o.Z)(function*(){yield C.directlySetCurrentUser(m),C.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,o.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var _=this;return this.queue((0,o.Z)(function*(){yield _.assertedPersistence.setPersistence(rn(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new L.LL("auth","Firebase",m())}onAuthStateChanged(m,_,C){return this.registerStateListener(this.authStateSubscription,m,_,C)}beforeAuthStateChanged(m,_){return this.beforeStateQueue.pushCallback(m,_)}onIdTokenChanged(m,_,C){return this.registerStateListener(this.idTokenSubscription,m,_,C)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var C=this;return(0,o.Z)(function*(){const M=yield C.getOrInitRedirectPersistenceManager(_);return null===m?M.removeCurrentUser():M.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,o.Z)(function*(){if(!_.redirectPersistenceManager){const C=m&&rn(m)||_._popupRedirectResolver;j(C,_,"argument-error"),_.redirectPersistenceManager=yield be.create(_,[rn(C._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,o.Z)(function*(){var C,M;return _._isInitialized&&(yield _.queue((0,o.Z)(function*(){}))),(null===(C=_._currentUser)||void 0===C?void 0:C._redirectEventId)===m?_._currentUser:(null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,o.Z)(function*(){if(m===_.currentUser)return _.queue((0,o.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,C,M){if(this._deleted)return()=>{};const O="function"==typeof _?_:_.next.bind(_),Y=this._isInitialized?Promise.resolve():this._initializationPromise;return j(Y,this,"internal-error"),Y.then(()=>O(this.currentUser)),"function"==typeof _?m.addObserver(_,C,M):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,o.Z)(function*(){_.currentUser&&_.currentUser!==m&&_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh(),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=ta(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,o.Z)(function*(){var _;const C={"X-Client-Version":m.clientVersion};m.app.options.appId&&(C["X-Firebase-gmpid"]=m.app.options.appId);const M=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return M&&(C["X-Firebase-Client"]=M),C})()}}function Di(b){return(0,L.m9)(b)}class bl{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,L.ne)(_=>this.observer=_)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Fa(b){const m=b.indexOf(":");return m<0?"":b.substr(0,m+1)}function lm(b){if(!b)return null;const m=Number(b);return isNaN(m)?null:m}class Fo{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return Se("not implemented")}_getIdTokenResponse(m){return Se("not implemented")}_linkToIdToken(m,_){return Se("not implemented")}_getReauthenticationResolver(m){return Se("not implemented")}}function nr(b,m){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,o.Z)(function*(b,m){return an(b,"POST","/v1/accounts:resetPassword",qe(b,m))})).apply(this,arguments)}function Th(b,m){return wl.apply(this,arguments)}function wl(){return(wl=(0,o.Z)(function*(b,m){return an(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Pa(){return(Pa=(0,o.Z)(function*(b,m){return an(b,"POST","/v1/accounts:update",qe(b,m))})).apply(this,arguments)}function cm(){return(cm=(0,o.Z)(function*(b,m){return cn(b,"POST","/v1/accounts:signInWithPassword",qe(b,m))})).apply(this,arguments)}function Oi(b,m){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,o.Z)(function*(b,m){return an(b,"POST","/v1/accounts:sendOobCode",qe(b,m))})).apply(this,arguments)}function xl(){return(xl=(0,o.Z)(function*(b,m){return Oi(b,m)})).apply(this,arguments)}function Dl(){return(Dl=(0,o.Z)(function*(b,m){return Oi(b,m)})).apply(this,arguments)}function dm(){return(dm=(0,o.Z)(function*(b,m){return Oi(b,m)})).apply(this,arguments)}function Na(){return(Na=(0,o.Z)(function*(b,m){return Oi(b,m)})).apply(this,arguments)}function El(){return(El=(0,o.Z)(function*(b,m){return cn(b,"POST","/v1/accounts:signInWithEmailLink",qe(b,m))})).apply(this,arguments)}function Lt(){return(Lt=(0,o.Z)(function*(b,m){return cn(b,"POST","/v1/accounts:signInWithEmailLink",qe(b,m))})).apply(this,arguments)}class yi extends Fo{constructor(m,_,C,M=null){super("password",C),this._email=m,this._password=_,this._tenantId=M}static _fromEmailAndPassword(m,_){return new yi(m,_,"password")}static _fromEmailAndCode(m,_,C=null){return new yi(m,_,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,o.Z)(function*(){switch(_.signInMethod){case"password":return function Dc(b,m){return cm.apply(this,arguments)}(m,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function ed(b,m){return El.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:ne(m,"internal-error")}})()}_linkToIdToken(m,_){var C=this;return(0,o.Z)(function*(){switch(C.signInMethod){case"password":return Th(m,{idToken:_,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function hm(b,m){return Lt.apply(this,arguments)}(m,{idToken:_,email:C._email,oobCode:C._password});default:ne(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Jn(b,m){return Po.apply(this,arguments)}function Po(){return(Po=(0,o.Z)(function*(b,m){return cn(b,"POST","/v1/accounts:signInWithIdp",qe(b,m))})).apply(this,arguments)}class hs extends Fo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new hs(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):ne("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:M}=_,O=(0,ee._T)(_,["providerId","signInMethod"]);if(!C||!M)return null;const Y=new hs(C,M);return Y.idToken=O.idToken||void 0,Y.accessToken=O.accessToken||void 0,Y.secret=O.secret,Y.nonce=O.nonce,Y.pendingToken=O.pendingToken||null,Y}_getIdTokenResponse(m){return Jn(m,this.buildRequest())}_linkToIdToken(m,_){const C=this.buildRequest();return C.idToken=_,Jn(m,C)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Jn(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,L.xO)(_)}return m}}function La(){return(La=(0,o.Z)(function*(b,m){return an(b,"POST","/v1/accounts:sendVerificationCode",qe(b,m))})).apply(this,arguments)}function ro(){return(ro=(0,o.Z)(function*(b,m){return cn(b,"POST","/v1/accounts:signInWithPhoneNumber",qe(b,m))})).apply(this,arguments)}function tt(){return(tt=(0,o.Z)(function*(b,m){const _=yield cn(b,"POST","/v1/accounts:signInWithPhoneNumber",qe(b,m));if(_.temporaryProof)throw Xn(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Pt={USER_NOT_FOUND:"user-not-found"};function Pr(){return(Pr=(0,o.Z)(function*(b,m){return cn(b,"POST","/v1/accounts:signInWithPhoneNumber",qe(b,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Pt)})).apply(this,arguments)}class fs extends Fo{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new fs({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new fs({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function Ec(b,m){return ro.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function Ei(b,m){return tt.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Gn(b,m){return Pr.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:C,verificationCode:M}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:C,code:M}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:C,phoneNumber:M,temporaryProof:O}=m;return C||_||M||O?new fs({verificationId:_,verificationCode:C,phoneNumber:M,temporaryProof:O}):null}}class Fn{constructor(m){var _,C,M,O,Y,pe;const je=(0,L.zd)((0,L.pd)(m)),rt=null!==(_=je.apiKey)&&void 0!==_?_:null,Dt=null!==(C=je.oobCode)&&void 0!==C?C:null,yt=function fr(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=je.mode)&&void 0!==M?M:null);j(rt&&Dt&&yt,"argument-error"),this.apiKey=rt,this.operation=yt,this.code=Dt,this.continueUrl=null!==(O=je.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(Y=je.languageCode)&&void 0!==Y?Y:null,this.tenantId=null!==(pe=je.tenantId)&&void 0!==pe?pe:null}static parseLink(m){const _=function No(b){const m=(0,L.zd)((0,L.pd)(b)).link,_=m?(0,L.zd)((0,L.pd)(m)).deep_link_id:null,C=(0,L.zd)((0,L.pd)(b)).deep_link_id;return(C?(0,L.zd)((0,L.pd)(C)).link:null)||C||_||m||b}(m);try{return new Fn(_)}catch{return null}}}let Fs=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,C){return yi._fromEmailAndPassword(_,C)}static credentialWithLink(_,C){const M=Fn.parseLink(C);return j(M,"argument-error"),yi._fromEmailAndCode(_,M.code,M.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class At{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class ps extends At{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class ia extends ps{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return j("providerId"in _&&"signInMethod"in _,"argument-error"),hs._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return j(m.idToken||m.accessToken,"argument-error"),hs._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return ia.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return ia.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:C,oauthTokenSecret:M,pendingToken:O,nonce:Y,providerId:pe}=m;if(!C&&!M&&!_&&!O||!pe)return null;try{return new ia(pe)._credential({idToken:_,accessToken:C,nonce:Y,pendingToken:O})}catch{return null}}}let Ps=(()=>{class b extends ps{constructor(){super("facebook.com")}static credential(_){return hs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),jn=(()=>{class b extends ps{constructor(){super("google.com"),this.addScope("profile")}static credential(_,C){return hs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:C,oauthAccessToken:M}=_;if(!C&&!M)return null;try{return b.credential(C,M)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Sl=(()=>{class b extends ps{constructor(){super("github.com")}static credential(_){return hs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class ci extends Fo{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return Jn(m,this.buildRequest())}_linkToIdToken(m,_){const C=this.buildRequest();return C.idToken=_,Jn(m,C)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Jn(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:M,pendingToken:O}=_;return C&&M&&O&&C===M?new ci(C,O):null}static _create(m,_){return new ci(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Nr extends At{constructor(m){j(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Nr.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Nr.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=ci.fromJSON(m);return j(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:C}=m;if(!_||!C)return null;try{return ci._create(C,_)}catch{return null}}}let oo=(()=>{class b extends ps{constructor(){super("twitter.com")}static credential(_,C){return hs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:C,oauthTokenSecret:M}=_;if(!C||!M)return null;try{return b.credential(C,M)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Zr(b,m){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,o.Z)(function*(b,m){return cn(b,"POST","/v1/accounts:signUp",qe(b,m))})).apply(this,arguments)}class Pn{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,C,M=!1){return(0,o.Z)(function*(){const O=yield nn._fromIdTokenResponse(m,C,M),Y=Xt(C);return new Pn({user:O,providerId:Y,_tokenResponse:C,operationType:_})})()}static _forOperation(m,_,C){return(0,o.Z)(function*(){yield m._updateTokensIfNecessary(C,!0);const M=Xt(C);return new Pn({user:m,providerId:M,_tokenResponse:C,operationType:_})})()}}function Xt(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Sc(){return(Sc=(0,o.Z)(function*(b){var m;const _=Di(b);if(yield _._initializationPromise,null!==(m=_.currentUser)&&void 0!==m&&m.isAnonymous)return new Pn({user:_.currentUser,providerId:null,operationType:"signIn"});const C=yield Zr(_,{returnSecureToken:!0}),M=yield Pn._fromIdTokenResponse(_,"signIn",C,!0);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class Il extends L.ZR{constructor(m,_,C,M){var O;super(_.code,_.message),this.operationType=C,this.user=M,Object.setPrototypeOf(this,Il.prototype),this.customData={appName:m.name,tenantId:null!==(O=m.tenantId)&&void 0!==O?O:void 0,_serverResponse:_.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(m,_,C,M){return new Il(m,_,C,M)}}function ms(b,m,_,C){return("reauthenticate"===m?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?Il._fromErrorAndOperation(b,O,m,C):O})}function Kr(b){return new Set(b.map(({providerId:m})=>m).filter(m=>!!m))}function Bo(){return Bo=(0,o.Z)(function*(b,m){const _=(0,L.m9)(b);yield vi(!0,_,m);const{providerUserInfo:C}=yield function wr(b,m){return ks.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),M=Kr(C||[]);return _.providerData=_.providerData.filter(O=>M.has(O.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),Bo.apply(this,arguments)}function Si(b,m){return td.apply(this,arguments)}function td(){return(td=(0,o.Z)(function*(b,m,_=!1){const C=yield zn(b,m._linkToIdToken(b.auth,yield b.getIdToken()),_);return Pn._forOperation(b,"link",C)})).apply(this,arguments)}function vi(b,m,_){return ji.apply(this,arguments)}function ji(){return(ji=(0,o.Z)(function*(b,m,_){yield Rr(m);const M=!1===b?"provider-already-linked":"no-such-provider";j(Kr(m.providerData).has(_)===b,m.auth,M)})).apply(this,arguments)}function Ac(b,m){return gs.apply(this,arguments)}function gs(){return(gs=(0,o.Z)(function*(b,m,_=!1){const{auth:C}=b,M="reauthenticate";try{const O=yield zn(b,ms(C,M,m,b),_);j(O.idToken,C,"internal-error");const Y=Gi(O.idToken);j(Y,C,"internal-error");const{sub:pe}=Y;return j(b.uid===pe,C,"user-mismatch"),Pn._forOperation(b,M,O)}catch(O){throw"auth/user-not-found"===O?.code&&ne(C,"user-mismatch"),O}})).apply(this,arguments)}function ra(b,m){return ir.apply(this,arguments)}function ir(){return(ir=(0,o.Z)(function*(b,m,_=!1){const C="signIn",M=yield ms(b,C,m),O=yield Pn._fromIdTokenResponse(b,C,M);return _||(yield b._updateCurrentUser(O.user)),O})).apply(this,arguments)}function ei(b,m){return Fh.apply(this,arguments)}function Fh(){return(Fh=(0,o.Z)(function*(b,m){return ra(Di(b),m)})).apply(this,arguments)}function Ic(b,m){return Ph.apply(this,arguments)}function Ph(){return(Ph=(0,o.Z)(function*(b,m){const _=(0,L.m9)(b);return yield vi(!1,_,m.providerId),Si(_,m)})).apply(this,arguments)}function nd(b,m){return id.apply(this,arguments)}function id(){return(id=(0,o.Z)(function*(b,m){return Ac((0,L.m9)(b),m)})).apply(this,arguments)}function Mc(){return(Mc=(0,o.Z)(function*(b,m){return cn(b,"POST","/v1/accounts:signInWithCustomToken",qe(b,m))})).apply(this,arguments)}function rd(){return rd=(0,o.Z)(function*(b,m){const _=Di(b),C=yield function Nh(b,m){return Mc.apply(this,arguments)}(_,{token:m,returnSecureToken:!0}),M=yield Pn._fromIdTokenResponse(_,"signIn",C);return yield _._updateCurrentUser(M.user),M}),rd.apply(this,arguments)}class sd{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?Bh._fromServerResponse(m,_):ne(m,"internal-error")}}class Bh extends sd{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new Bh(_)}}function od(b,m,_){var C;j((null===(C=_.url)||void 0===C?void 0:C.length)>0,b,"invalid-continue-uri"),j(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(j(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(j(_.android.packageName.length>0,b,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function Uh(){return Uh=(0,o.Z)(function*(b,m,_){const C=(0,L.m9)(b),M={requestType:"PASSWORD_RESET",email:m};_&&od(C,M,_),yield function io(b,m){return Dl.apply(this,arguments)}(C,M)}),Uh.apply(this,arguments)}function Hh(){return(Hh=(0,o.Z)(function*(b,m,_){yield nr((0,L.m9)(b),{oobCode:m,newPassword:_})})).apply(this,arguments)}function Ml(){return Ml=(0,o.Z)(function*(b,m){yield function kh(b,m){return Pa.apply(this,arguments)}((0,L.m9)(b),{oobCode:m})}),Ml.apply(this,arguments)}function Tc(b,m){return mm.apply(this,arguments)}function mm(){return(mm=(0,o.Z)(function*(b,m){const _=(0,L.m9)(b),C=yield nr(_,{oobCode:m}),M=C.requestType;switch(j(M,_,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":j(C.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":j(C.mfaInfo,_,"internal-error");default:j(C.email,_,"internal-error")}let O=null;return C.mfaInfo&&(O=sd._fromServerResponse(Di(_),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:O},operation:M}})).apply(this,arguments)}function gm(){return(gm=(0,o.Z)(function*(b,m){const{data:_}=yield Tc((0,L.m9)(b),m);return _.email})).apply(this,arguments)}function ad(){return(ad=(0,o.Z)(function*(b,m,_){const C=Di(b),M=yield Zr(C,{returnSecureToken:!0,email:m,password:_}),O=yield Pn._fromIdTokenResponse(C,"signIn",M);return yield C._updateCurrentUser(O.user),O})).apply(this,arguments)}function ld(){return ld=(0,o.Z)(function*(b,m,_){const C=(0,L.m9)(b),M={requestType:"EMAIL_SIGNIN",email:m};j(_.handleCodeInApp,C,"argument-error"),_&&od(C,M,_),yield function um(b,m){return dm.apply(this,arguments)}(C,M)}),ld.apply(this,arguments)}function kc(){return(kc=(0,o.Z)(function*(b,m,_){const C=(0,L.m9)(b),M=Fs.credentialWithLink(m,_||Hn());return j(M._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),ei(C,M)})).apply(this,arguments)}function Tl(){return(Tl=(0,o.Z)(function*(b,m){return an(b,"POST","/v1/accounts:createAuthUri",qe(b,m))})).apply(this,arguments)}function Ba(){return Ba=(0,o.Z)(function*(b,m){const C={identifier:m,continueUri:Ti()?Hn():"http://localhost"},{signinMethods:M}=yield function xw(b,m){return Tl.apply(this,arguments)}((0,L.m9)(b),C);return M||[]}),Ba.apply(this,arguments)}function Vo(){return Vo=(0,o.Z)(function*(b,m){const _=(0,L.m9)(b),M={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};m&&od(_.auth,M,m);const{email:O}=yield function Rh(b,m){return xl.apply(this,arguments)}(_.auth,M);O!==b.email&&(yield b.reload())}),Vo.apply(this,arguments)}function kl(){return kl=(0,o.Z)(function*(b,m,_){const C=(0,L.m9)(b),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:m};_&&od(C.auth,O,_);const{email:Y}=yield function Ju(b,m){return Na.apply(this,arguments)}(C.auth,O);Y!==b.email&&(yield b.reload())}),kl.apply(this,arguments)}function oa(){return(oa=(0,o.Z)(function*(b,m){return an(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ym(){return ym=(0,o.Z)(function*(b,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const C=(0,L.m9)(b),O={idToken:yield C.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},Y=yield zn(C,function Va(b,m){return oa.apply(this,arguments)}(C.auth,O));C.displayName=Y.displayName||null,C.photoURL=Y.photoUrl||null;const pe=C.providerData.find(({providerId:je})=>"password"===je);pe&&(pe.displayName=C.displayName,pe.photoURL=C.photoURL),yield C._updateTokensIfNecessary(Y)}),ym.apply(this,arguments)}function Yh(b,m,_){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,o.Z)(function*(b,m,_){const{auth:C}=b,O={idToken:yield b.getIdToken(),returnSecureToken:!0};m&&(O.email=m),_&&(O.password=_);const Y=yield zn(b,Th(C,O));yield b._updateTokensIfNecessary(Y,!0)})).apply(this,arguments)}class Rc{constructor(m,_,C={}){this.isNewUser=m,this.providerId=_,this.profile=C}}class sy extends Rc{constructor(m,_,C,M){super(m,_,C),this.username=M}}class vm extends Rc{constructor(m,_){super(m,"facebook.com",_)}}class cd extends sy{constructor(m,_){super(m,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class oy extends Rc{constructor(m,_){super(m,"google.com",_)}}class ud extends sy{constructor(m,_,C){super(m,"twitter.com",_,C)}}function Wh(b){const{user:m,_tokenResponse:_}=b;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function ry(b){var m,_;if(!b)return null;const{providerId:C}=b,M=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},O=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!C&&b?.idToken){const Y=null===(_=null===(m=Gi(b.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(Y)return new Rc(O,"anonymous"!==Y&&"custom"!==Y?Y:null)}if(!C)return null;switch(C){case"facebook.com":return new vm(O,M);case"github.com":return new cd(O,M);case"google.com":return new oy(O,M);case"twitter.com":return new ud(O,M,b.screenName||null);case"custom":case"anonymous":return new Rc(O,null);default:return new Rc(O,C,M)}}(_)}class aa{constructor(m,_,C){this.type=m,this.credential=_,this.auth=C}static _fromIdtoken(m,_){return new aa("enroll",m,_)}static _fromMfaPendingCredential(m){return new aa("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,C;if(m?.multiFactorSession){if(null!==(_=m.multiFactorSession)&&void 0!==_&&_.pendingCredential)return aa._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(C=m.multiFactorSession)&&void 0!==C&&C.idToken)return aa._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Oc{constructor(m,_,C){this.session=m,this.hints=_,this.signInResolver=C}static _fromError(m,_){const C=Di(m),M=_.customData._serverResponse,O=(M.mfaInfo||[]).map(pe=>sd._fromServerResponse(C,pe));j(M.mfaPendingCredential,C,"internal-error");const Y=aa._fromMfaPendingCredential(M.mfaPendingCredential);return new Oc(Y,O,function(){var pe=(0,o.Z)(function*(je){const rt=yield je._process(C,Y);delete M.mfaInfo,delete M.mfaPendingCredential;const Dt=Object.assign(Object.assign({},M),{idToken:rt.idToken,refreshToken:rt.refreshToken});switch(_.operationType){case"signIn":const yt=yield Pn._fromIdTokenResponse(C,_.operationType,Dt);return yield C._updateCurrentUser(yt.user),yt;case"reauthenticate":return j(_.user,C,"internal-error"),Pn._forOperation(_.user,_.operationType,Dt);default:ne(C,"internal-error")}});return function(je){return pe.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,o.Z)(function*(){return _.signInResolver(m)})()}}class la{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(C=>sd._fromServerResponse(m.auth,C)))})}static _fromUser(m){return new la(m)}getSession(){var m=this;return(0,o.Z)(function*(){return aa._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,_){var C=this;return(0,o.Z)(function*(){const M=m,O=yield C.getSession(),Y=yield zn(C.user,M._process(C.user.auth,O,_));return yield C.user._updateTokensIfNecessary(Y),C.user.reload()})()}unenroll(m){var _=this;return(0,o.Z)(function*(){const C="string"==typeof m?m:m.uid,M=yield _.user.getIdToken(),O=yield zn(_.user,function rr(b,m){return an(b,"POST","/v2/accounts/mfaEnrollment:withdraw",qe(b,m))}(_.user.auth,{idToken:M,mfaEnrollmentId:C}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Y})=>Y!==C),yield _.user._updateTokensIfNecessary(O);try{yield _.user.reload()}catch(Y){if("auth/user-token-expired"!==Y?.code)throw Y}})()}}const za=new WeakMap,Fi="__sak";class Qh{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Fi,"1"),this.storage.removeItem(Fi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ga=(()=>{class b extends Qh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,C)=>this.onStorageEvent(_,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function wm(){const b=(0,L.z$)();return Nt(b)||_i(b)}()&&function vl(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=no(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const C of Object.keys(this.listeners)){const M=this.storage.getItem(C),O=this.localCache[C];M!==O&&_(C,O,M)}}onStorageEvent(_,C=!1){if(!_.key)return void this.forAllChangedKeys((pe,je,rt)=>{this.notifyListeners(pe,rt)});const M=_.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pe=this.storage.getItem(M);if(_.newValue!==pe)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!C)return}const O=()=>{const pe=this.storage.getItem(M);!C&&this.localCache[M]===pe||this.notifyListeners(M,pe)},Y=this.storage.getItem(M);!function am(){return(0,L.w1)()&&10===document.documentMode}()||Y===_.newValue||_.newValue===_.oldValue?O():setTimeout(O,10)}notifyListeners(_,C){this.localCache[_]=C;const M=this.listeners[_];if(M)for(const O of Array.from(M))O(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,C,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:C,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,C){var M=()=>super._set,O=this;return(0,o.Z)(function*(){yield M().call(O,_,C),O.localCache[_]=JSON.stringify(C)})()}_get(_){var C=()=>super._get,M=this;return(0,o.Z)(function*(){const O=yield C().call(M,_);return M.localCache[_]=JSON.stringify(O),O})()}_remove(_){var C=()=>super._remove,M=this;return(0,o.Z)(function*(){yield C().call(M,_),delete M.localCache[_]})()}}return b.type="LOCAL",b})(),ys=(()=>{class b extends Qh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,C){}_removeListener(_,C){}}return b.type="SESSION",b})();let Jh=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const C=this.receivers.find(O=>O.isListeningto(_));if(C)return C;const M=new b(_);return this.receivers.push(M),M}isListeningto(_){return this.eventTarget===_}handleEvent(_){var C=this;return(0,o.Z)(function*(){const M=_,{eventId:O,eventType:Y,data:pe}=M.data,je=C.handlersMap[Y];if(!je?.size)return;M.ports[0].postMessage({status:"ack",eventId:O,eventType:Y});const rt=Array.from(je).map(function(){var yt=(0,o.Z)(function*(wi){return wi(M.origin,pe)});return function(wi){return yt.apply(this,arguments)}}()),Dt=yield function Ol(b){return Promise.all(b.map(function(){var m=(0,o.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(C){return{fulfilled:!1,reason:C}}});return function(_){return m.apply(this,arguments)}}()))}(rt);M.ports[0].postMessage({status:"done",eventId:O,eventType:Y,response:Dt})})()}_subscribe(_,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(C)}_unsubscribe(_,C){this.handlersMap[_]&&C&&this.handlersMap[_].delete(C),(!C||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function It(b="",m=10){let _="";for(let C=0;C<m;C++)_+=Math.floor(10*Math.random());return b+_}class Pc{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,C=50){var M=this;return(0,o.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let Y,pe;return new Promise((je,rt)=>{const Dt=It("",20);O.port1.start();const yt=setTimeout(()=>{rt(new Error("unsupported_event"))},C);pe={messageChannel:O,onMessage(wi){const es=wi;if(es.data.eventId===Dt)switch(es.data.status){case"ack":clearTimeout(yt),Y=setTimeout(()=>{rt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Y),je(es.data.response);break;default:clearTimeout(yt),clearTimeout(Y),rt(new Error("invalid_response"))}}},M.handlers.add(pe),O.port1.addEventListener("message",pe.onMessage),M.target.postMessage({eventType:m,eventId:Dt,data:_},[O.port2])}).finally(()=>{pe&&M.removeMessageHandler(pe)})})()}}function Pi(){return window}function Nc(){return typeof Pi().WorkerGlobalScope<"u"&&"function"==typeof Pi().importScripts}function Fl(){return(Fl=(0,o.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Lc="firebaseLocalStorageDb",ca="firebaseLocalStorage",ef="fbase_key";class xe{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Kt(b,m){return b.transaction([ca],m?"readwrite":"readonly").objectStore(ca)}function Pl(){const b=indexedDB.open(Lc,1);return new Promise((m,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const C=b.result;try{C.createObjectStore(ca,{keyPath:ef})}catch(M){_(M)}}),b.addEventListener("success",(0,o.Z)(function*(){const C=b.result;C.objectStoreNames.contains(ca)?m(C):(C.close(),yield function Bc(){const b=indexedDB.deleteDatabase(Lc);return new xe(b).toPromise()}(),m(yield Pl()))}))})}function bi(b,m,_){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,o.Z)(function*(b,m,_){const C=Kt(b,!0).put({[ef]:m,value:_});return new xe(C).toPromise()})).apply(this,arguments)}function Br(){return(Br=(0,o.Z)(function*(b,m){const _=Kt(b,!1).get(m),C=yield new xe(_).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Uc(b,m){const _=Kt(b,!0).delete(m);return new xe(_).toPromise()}const da=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,o.Z)(function*(){return _.db||(_.db=yield Pl()),_.db})()}_withRetries(_){var C=this;return(0,o.Z)(function*(){let M=0;for(;;)try{const O=yield C._openDb();return yield _(O)}catch(O){if(M++>3)throw O;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,o.Z)(function*(){return Nc()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,o.Z)(function*(){_.receiver=Jh._getInstance(function pd(){return Nc()?self:null}()),_.receiver._subscribe("keyChanged",function(){var C=(0,o.Z)(function*(M,O){return{keyProcessed:(yield _._poll()).includes(O.key)}});return function(M,O){return C.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var C=(0,o.Z)(function*(M,O){return["keyChanged"]});return function(M,O){return C.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,o.Z)(function*(){var C,M;if(_.activeServiceWorker=yield function fd(){return Fl.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Pc(_.activeServiceWorker);const O=yield _.sender._send("ping",{},800);O&&null!==(C=O[0])&&void 0!==C&&C.fulfilled&&null!==(M=O[0])&&void 0!==M&&M.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var C=this;return(0,o.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function Uo(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:_},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Pl();return yield bi(_,Fi,"1"),yield Uc(_,Fi),!0}catch{}return!1})()}_withPendingWrite(_){var C=this;return(0,o.Z)(function*(){C.pendingWrites++;try{yield _()}finally{C.pendingWrites--}})()}_set(_,C){var M=this;return(0,o.Z)(function*(){return M._withPendingWrite((0,o.Z)(function*(){return yield M._withRetries(O=>bi(O,_,C)),M.localCache[_]=C,M.notifyServiceWorker(_)}))})()}_get(_){var C=this;return(0,o.Z)(function*(){const M=yield C._withRetries(O=>function ua(b,m){return Br.apply(this,arguments)}(O,_));return C.localCache[_]=M,M})()}_remove(_){var C=this;return(0,o.Z)(function*(){return C._withPendingWrite((0,o.Z)(function*(){return yield C._withRetries(M=>Uc(M,_)),delete C.localCache[_],C.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,o.Z)(function*(){const C=yield _._withRetries(Y=>{const pe=Kt(Y,!1).getAll();return new xe(pe).toPromise()});if(!C)return[];if(0!==_.pendingWrites)return[];const M=[],O=new Set;for(const{fbase_key:Y,value:pe}of C)O.add(Y),JSON.stringify(_.localCache[Y])!==JSON.stringify(pe)&&(_.notifyListeners(Y,pe),M.push(Y));for(const Y of Object.keys(_.localCache))_.localCache[Y]&&!O.has(Y)&&(_.notifyListeners(Y,null),M.push(Y));return M})()}notifyListeners(_,C){this.localCache[_]=C;const M=this.listeners[_];if(M)for(const O of Array.from(M))O(C)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function co(){return(co=(0,o.Z)(function*(b){return(yield an(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ja(b){return new Promise((m,_)=>{const C=document.createElement("script");C.setAttribute("src",b),C.onload=m,C.onerror=M=>{const O=ye("internal-error");O.customData=M,_(O)},C.type="text/javascript",C.charset="UTF-8",function vs(){var b,m;return null!==(m=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==m?m:document}().appendChild(C)})}function Ll(b){return`__${b}${Math.floor(1e6*Math.random())}`}const ha=1e12;class tf{constructor(m){this.auth=m,this.counter=ha,this._widgets=new Map}render(m,_){const C=this.counter;return this._widgets.set(C,new md(m,this.auth.name,_||{})),this.counter++,C}reset(m){var _;const C=m||ha;null===(_=this._widgets.get(C))||void 0===_||_.delete(),this._widgets.delete(C)}getResponse(m){var _;return(null===(_=this._widgets.get(m||ha))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,o.Z)(function*(){var C;return null===(C=_._widgets.get(m||ha))||void 0===C||C.execute(),""})()}}class md{constructor(m,_,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof m?document.getElementById(m):m;j(M,"argument-error",{appName:_}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Hc(b){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<b;C++)m.push(_.charAt(Math.floor(62*Math.random())));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ho=Ll("rcb"),nf=new me(3e4,6e4);class $a{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=Pi().grecaptcha)||void 0===m||!m.render)}load(m,_=""){return j(function rf(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),m,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Pi().grecaptcha):new Promise((C,M)=>{const O=Pi().setTimeout(()=>{M(ye(m,"network-request-failed"))},nf.get());Pi()[ho]=()=>{Pi().clearTimeout(O),delete Pi()[ho];const pe=Pi().grecaptcha;if(!pe)return void M(ye(m,"internal-error"));const je=pe.render;pe.render=(rt,Dt)=>{const yt=je(rt,Dt);return this.counter++,yt},this.hostLanguage=_,C(pe)},ja(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:ho,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(O),M(ye(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var _;return!(null===(_=Pi().grecaptcha)||void 0===_||!_.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class dy{load(m){return(0,o.Z)(function*(){return new tf(m)})()}clearedOneInstance(){}}const Dm="recaptcha",Em={theme:"light",type:"image"};class hy{constructor(m,_=Object.assign({},Em),C){this.parameters=_,this.type=Dm,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Di(C),this.isInvisible="invisible"===this.parameters.size,j(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof m?document.getElementById(m):m;j(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new dy:new $a,this.validateStartingState()}verify(){var m=this;return(0,o.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),C=m.getAssertedRecaptcha();return C.getResponse(_)||new Promise(O=>{const Y=pe=>{pe&&(m.tokenChangeListeners.delete(Y),O(pe))};m.tokenChangeListeners.add(Y),m.isInvisible&&C.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){j(!this.parameters.sitekey,this.auth,"argument-error"),j(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),j(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(C=>C(_)),"function"==typeof m)m(_);else if("string"==typeof m){const C=Pi()[m];"function"==typeof C&&C(_)}}}assertNotDestroyed(){j(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,o.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const C=document.createElement("div");_.appendChild(C),_=C}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,o.Z)(function*(){j(Ti()&&!Nc(),m.auth,"internal-error"),yield function fy(){let b=null;return new Promise(m=>{"complete"!==document.readyState?(b=()=>m(),window.addEventListener("load",b)):m()}).catch(m=>{throw b&&window.removeEventListener("load",b),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function Ls(b){return co.apply(this,arguments)}(m.auth);j(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return j(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class pr{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=fs._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function Nn(){return(Nn=(0,o.Z)(function*(b,m,_){const C=Di(b),M=yield qa(C,m,(0,L.m9)(_));return new pr(M,O=>ei(C,O))})).apply(this,arguments)}function sf(){return(sf=(0,o.Z)(function*(b,m,_){const C=(0,L.m9)(b);yield vi(!1,C,"phone");const M=yield qa(C.auth,m,(0,L.m9)(_));return new pr(M,O=>Ic(C,O))})).apply(this,arguments)}function _d(){return(_d=(0,o.Z)(function*(b,m,_){const C=(0,L.m9)(b),M=yield qa(C.auth,m,(0,L.m9)(_));return new pr(M,O=>nd(C,O))})).apply(this,arguments)}function qa(b,m,_){return Vl.apply(this,arguments)}function Vl(){return Vl=(0,o.Z)(function*(b,m,_){var C;const M=yield _.verify();try{let O;if(j("string"==typeof M,b,"argument-error"),j(_.type===Dm,b,"argument-error"),O="string"==typeof m?{phoneNumber:m}:m,"session"in O){const Y=O.session;if("phoneNumber"in O)return j("enroll"===Y.type,b,"internal-error"),(yield function Rl(b,m){return an(b,"POST","/v2/accounts/mfaEnrollment:start",qe(b,m))}(b,{idToken:Y.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{j("signin"===Y.type,b,"internal-error");const pe=(null===(C=O.multiFactorHint)||void 0===C?void 0:C.uid)||O.multiFactorUid;return j(pe,b,"missing-multi-factor-info"),(yield function $i(b,m){return an(b,"POST","/v2/accounts/mfaSignIn:start",qe(b,m))}(b,{mfaPendingCredential:Y.credential,mfaEnrollmentId:pe,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Y}=yield function Oh(b,m){return La.apply(this,arguments)}(b,{phoneNumber:O.phoneNumber,recaptchaToken:M});return Y}}finally{_._reset()}}),Vl.apply(this,arguments)}function fo(){return(fo=(0,o.Z)(function*(b,m){yield Si((0,L.m9)(b),m)})).apply(this,arguments)}let zc=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=Di(_)}verifyPhoneNumber(_,C){return qa(this.auth,_,(0,L.m9)(C))}static credential(_,C){return fs._fromVerification(_,C)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:C,temporaryProof:M}=_;return C&&M?fs._fromTokenResponse(C,M):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Bs(b,m){return m?rn(m):(j(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Ul extends Fo{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Jn(m,this._buildIdpRequest())}_linkToIdToken(m,_){return Jn(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return Jn(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function yd(b){return ra(b.auth,new Ul(b),b.bypassAuthState)}function Gc(b){const{auth:m,user:_}=b;return j(_,m,"internal-error"),Ac(_,new Ul(b),b.bypassAuthState)}function Ho(b){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,o.Z)(function*(b){const{auth:m,user:_}=b;return j(_,m,"internal-error"),Si(_,new Ul(b),b.bypassAuthState)})).apply(this,arguments)}class jc{constructor(m,_,C,M,O=!1){this.auth=m,this.resolver=C,this.user=M,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,o.Z)(function*(C,M){m.pendingPromise={resolve:C,reject:M};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(O){m.reject(O)}});return function(C,M){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,o.Z)(function*(){const{urlResponse:C,sessionId:M,postBody:O,tenantId:Y,error:pe,type:je}=m;if(pe)return void _.reject(pe);const rt={auth:_.auth,requestUri:C,sessionId:M,tenantId:Y||void 0,postBody:O||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(je)(rt))}catch(Dt){_.reject(Dt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return yd;case"linkViaPopup":case"linkViaRedirect":return Ho;case"reauthViaPopup":case"reauthViaRedirect":return Gc;default:ne(this.auth,"internal-error")}}resolve(m){Ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){Ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ae=new me(2e3,1e4);function sr(){return(sr=(0,o.Z)(function*(b,m,_){const C=Di(b);ve(b,m,At);const M=Bs(C,_);return new vd(C,"signInViaPopup",m,M).executeNotNull()})).apply(this,arguments)}function sn(){return(sn=(0,o.Z)(function*(b,m,_){const C=(0,L.m9)(b);ve(C.auth,m,At);const M=Bs(C.auth,_);return new vd(C.auth,"reauthViaPopup",m,M,C).executeNotNull()})).apply(this,arguments)}function Jt(){return(Jt=(0,o.Z)(function*(b,m,_){const C=(0,L.m9)(b);ve(C.auth,m,At);const M=Bs(C.auth,_);return new vd(C.auth,"linkViaPopup",m,M,C).executeNotNull()})).apply(this,arguments)}let vd=(()=>{class b extends jc{constructor(_,C,M,O,Y){super(_,C,O,Y),this.provider=M,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,o.Z)(function*(){const C=yield _.execute();return j(C,_.auth,"internal-error"),C})()}onExecution(){var _=this;return(0,o.Z)(function*(){Ue(1===_.filter.length,"Popup operations only handle one event");const C=It();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],C),_.authWindow.associatedEvent=C,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject(ye(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(ye(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var C,M;this.pollId=null!==(M=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ye(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Ae.get())};_()}}return b.currentPopupAction=null,b})();const Hl="pendingRedirect",zl=new Map;class lf extends jc{constructor(m,_,C=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,C),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,o.Z)(function*(){let C=zl.get(_.auth._key());if(!C){try{const O=(yield function Gl(b,m){return po.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;C=()=>Promise.resolve(O)}catch(M){C=()=>Promise.reject(M)}zl.set(_.auth._key(),C)}return _.bypassAuthState||zl.set(_.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,C=this;return(0,o.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(C,m);if("unknown"!==m.type){if(m.eventId){const M=yield C.auth._redirectUserForId(m.eventId);if(M)return C.user=M,_().call(C,m);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function po(){return(po=(0,o.Z)(function*(b,m){const _=zo(m),C=Wa(b);if(!(yield C._isAvailable()))return!1;const M="true"===(yield C._get(_));return yield C._remove(_),M})).apply(this,arguments)}function Vs(b,m){return We.apply(this,arguments)}function We(){return(We=(0,o.Z)(function*(b,m){return Wa(b)._set(zo(m),"true")})).apply(this,arguments)}function Am(b,m){zl.set(b._key(),m)}function Wa(b){return rn(b._redirectPersistence)}function zo(b){return Z(Hl,b.config.apiKey,b.name)}function cf(b,m,_){return function Sn(b,m,_){return S.apply(this,arguments)}(b,m,_)}function S(){return(S=(0,o.Z)(function*(b,m,_){const C=Di(b);ve(b,m,At),yield C._initializationPromise;const M=Bs(C,_);return yield Vs(M,C),M._openRedirect(C,m,"signInViaRedirect")})).apply(this,arguments)}function A(b,m,_){return function k(b,m,_){return U.apply(this,arguments)}(b,m,_)}function U(){return(U=(0,o.Z)(function*(b,m,_){const C=(0,L.m9)(b);ve(C.auth,m,At),yield C.auth._initializationPromise;const M=Bs(C.auth,_);yield Vs(M,C.auth);const O=yield Ot(C);return M._openRedirect(C.auth,m,"reauthViaRedirect",O)})).apply(this,arguments)}function Q(b,m,_){return function se(b,m,_){return ke.apply(this,arguments)}(b,m,_)}function ke(){return(ke=(0,o.Z)(function*(b,m,_){const C=(0,L.m9)(b);ve(C.auth,m,At),yield C.auth._initializationPromise;const M=Bs(C.auth,_);yield vi(!1,C,m.providerId),yield Vs(M,C.auth);const O=yield Ot(C);return M._openRedirect(C.auth,m,"linkViaRedirect",O)})).apply(this,arguments)}function ft(){return(ft=(0,o.Z)(function*(b,m){return yield Di(b)._initializationPromise,pt(b,m,!1)})).apply(this,arguments)}function pt(b,m){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,o.Z)(function*(b,m,_=!1){const C=Di(b),M=Bs(C,m),Y=yield new lf(C,M,_).execute();return Y&&!_&&(delete Y.user._redirectEventId,yield C._persistUserIfCurrent(Y.user),yield C._setRedirectUser(null,m)),Y})).apply(this,arguments)}function Ot(b){return $n.apply(this,arguments)}function $n(){return($n=(0,o.Z)(function*(b){const m=It(`${b.uid}:::`);return b._redirectEventId=m,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),m})).apply(this,arguments)}class Ln{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(m,C)&&(_=!0,this.sendToConsumer(m,C),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Ni(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mo(b);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var C;if(m.error&&!mo(m)){const M=(null===(C=m.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";_.onError(ye(this.auth,M))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const C=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&C}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ii(m))}saveEventToCache(m){this.cachedEventUids.add(ii(m)),this.lastProcessedEventTime=Date.now()}}function ii(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(m=>m).join("-")}function mo({type:b,error:m}){return"unknown"===b&&"auth/no-auth-event"===m?.code}function Ke(b){return xn.apply(this,arguments)}function xn(){return(xn=(0,o.Z)(function*(b,m={}){return an(b,"GET","/v1/projects",m)})).apply(this,arguments)}const An=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Us=/^https?/;function Li(){return(Li=(0,o.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:m}=yield Ke(b);for(const _ of m)try{if(pa(_))return}catch{}ne(b,"unauthorized-domain")})).apply(this,arguments)}function pa(b){const m=Hn(),{protocol:_,hostname:C}=new URL(m);if(b.startsWith("chrome-extension://")){const Y=new URL(b);return""===Y.hostname&&""===C?"chrome-extension:"===_&&b.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&Y.hostname===C}if(!Us.test(_))return!1;if(An.test(b))return C===b;const M=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(C)}const jl=new me(3e4,6e4);function $l(){const b=Pi().___jsl;if(b?.H)for(const m of Object.keys(b.H))if(b.H[m].r=b.H[m].r||[],b.H[m].L=b.H[m].L||[],b.H[m].r=[...b.H[m].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let go=null;const ga=new me(5e3,15e3),Aw="__/auth/iframe",bd="emulator/auth/iframe",my={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VE=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UE(b){const m=b.config;j(m.authDomain,b,"auth-domain-config-required");const _=m.emulator?fe(m,bd):`https://${b.config.authDomain}/${Aw}`,C={apiKey:m.apiKey,appName:b.name,v:ie.SDK_VERSION},M=VE.get(b.config.apiHost);M&&(C.eid=M);const O=b._getFrameworks();return O.length&&(C.fw=O.join(",")),`${_}?${(0,L.xO)(C).slice(1)}`}function jt(){return jt=(0,o.Z)(function*(b){const m=yield function Kn(b){return go=go||function ma(b){return new Promise((m,_)=>{var C,M,O;function Y(){$l(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{$l(),_(ye(b,"network-request-failed"))},timeout:jl.get()})}if(null!==(M=null===(C=Pi().gapi)||void 0===C?void 0:C.iframes)&&void 0!==M&&M.Iframe)m(gapi.iframes.getContext());else{if(null===(O=Pi().gapi)||void 0===O||!O.load){const pe=Ll("iframefcb");return Pi()[pe]=()=>{gapi.load?Y():_(ye(b,"network-request-failed"))},ja(`https://apis.google.com/js/api.js?onload=${pe}`).catch(je=>_(je))}Y()}}).catch(m=>{throw go=null,m})}(b),go}(b),_=Pi().gapi;return j(_,b,"internal-error"),m.open({where:document.body,url:UE(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:my,dontclear:!0},C=>new Promise(function(){var M=(0,o.Z)(function*(O,Y){yield C.restyle({setHideOnLeave:!1});const pe=ye(b,"network-request-failed"),je=Pi().setTimeout(()=>{Y(pe)},ga.get());function rt(){Pi().clearTimeout(je),O(C)}C.ping(rt).then(rt,()=>{Y(pe)})});return function(O,Y){return M.apply(this,arguments)}}()))}),jt.apply(this,arguments)}const Go={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Vr{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Hs="__/auth/handler",_y="emulator/auth/handler";function ql(b,m,_,C,M,O){j(b.config.authDomain,b,"auth-domain-config-required"),j(b.config.apiKey,b,"invalid-api-key");const Y={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:C,v:ie.SDK_VERSION,eventId:M};if(m instanceof At){m.setDefaultLanguage(b.languageCode),Y.providerId=m.providerId||"",(0,L.xb)(m.getCustomParameters())||(Y.customParameters=JSON.stringify(m.getCustomParameters()));for(const[je,rt]of Object.entries(O||{}))Y[je]=rt}if(m instanceof ps){const je=m.getScopes().filter(rt=>""!==rt);je.length>0&&(Y.scopes=je.join(","))}b.tenantId&&(Y.tid=b.tenantId);const pe=Y;for(const je of Object.keys(pe))void 0===pe[je]&&delete pe[je];return`${function Yc({config:b}){return b.emulator?fe(b,_y):`https://${b.authDomain}/${Hs}`}(b)}?${(0,L.xO)(pe).slice(1)}`}const Mm="webStorageSupport",yy=class Tw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ys,this._completeRedirectFn=pt,this._overrideRedirectResult=Am}_openPopup(m,_,C,M){var O=this;return(0,o.Z)(function*(){var Y;Ue(null===(Y=O.eventManagers[m._key()])||void 0===Y?void 0:Y.manager,"_initialize() not called before _openPopup()");const pe=ql(m,_,C,Hn(),M);return function gy(b,m,_,C=500,M=600){const O=Math.max((window.screen.availHeight-M)/2,0).toString(),Y=Math.max((window.screen.availWidth-C)/2,0).toString();let pe="";const je=Object.assign(Object.assign({},Go),{width:C.toString(),height:M.toString(),top:O,left:Y}),rt=(0,L.z$)().toLowerCase();_&&(pe=Qt(rt)?"_blank":_),dt(rt)&&(m=m||"http://localhost",je.scrollbars="yes");const Dt=Object.entries(je).reduce((wi,[es,Ql])=>`${wi}${es}=${Ql},`,"");if(function to(b=(0,L.z$)()){var m;return _i(b)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(rt)&&"_self"!==pe)return function bs(b,m){const _=document.createElement("a");_.href=b,_.target=m;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(C)}(m||"",pe),new Vr(null);const yt=window.open(m||"",pe,Dt);j(yt,b,"popup-blocked");try{yt.focus()}catch{}return new Vr(yt)}(m,pe,It())})()}_openRedirect(m,_,C,M){var O=this;return(0,o.Z)(function*(){return yield O._originValidation(m),function hd(b){Pi().location.href=b}(ql(m,_,C,Hn(),M)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:M,promise:O}=this.eventManagers[_];return M?Promise.resolve(M):(Ue(O,"If manager is not set, promise should be"),O)}const C=this.initAndGetManager(m);return this.eventManagers[_]={promise:C},C.catch(()=>{delete this.eventManagers[_]}),C}initAndGetManager(m){var _=this;return(0,o.Z)(function*(){const C=yield function Im(b){return jt.apply(this,arguments)}(m),M=new Ln(m);return C.register("authEvent",O=>(j(O?.authEvent,m,"invalid-auth-event"),{status:M.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:M},_.iframes[m._key()]=C,M})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(Mm,{type:Mm},M=>{var O;const Y=null===(O=M?.[0])||void 0===O?void 0:O[Mm];void 0!==Y&&_(!!Y),ne(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function kn(b){return Li.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return no()||Nt()||_i()}};class kw{constructor(m){this.factorId=m}_process(m,_,C){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,C);case"signin":return this._finalizeSignIn(m,_.credential);default:return Se("unexpected MultiFactorSessionType")}}}class xr extends kw{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new xr(m)}_finalizeEnroll(m,_,C){return function Fc(b,m){return an(b,"POST","/v2/accounts/mfaEnrollment:finalize",qe(b,m))}(m,{idToken:_,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function Ns(b,m){return an(b,"POST","/v2/accounts/mfaSignIn:finalize",qe(b,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Wc=(()=>{class b{constructor(){}static assertion(_){return xr._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var zs="@firebase/auth";class Zc{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,o.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(C=>{m(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);_&&(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Xr(){return window}(0,L.Pz)("authIdTokenMaxAge"),function Yl(b){(0,ie._registerComponent)(new ge.wA("auth",(m,{options:_})=>{const C=m.getProvider("app").getImmediate(),M=m.getProvider("heartbeat"),{apiKey:O,authDomain:Y}=C.options;return((pe,je)=>{j(O&&!O.includes(":"),"invalid-api-key",{appName:pe.name}),j(!Y?.includes(":"),"argument-error",{appName:pe.name});const rt={apiKey:O,authDomain:Y,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ta(b)},Dt=new Ku(pe,je,rt);return function Wn(b,m){const _=m?.persistence||[],C=(Array.isArray(_)?_:[_]).map(rn);m?.errorMap&&b._updateErrorMap(m.errorMap),b._initializeWithPersistence(C,m?.popupRedirectResolver)}(Dt,_),Dt})(C,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,C)=>{m.getProvider("auth-internal").initialize()})),(0,ie._registerComponent)(new ge.wA("auth-internal",m=>{const _=Di(m.getProvider("auth").getImmediate());return new Zc(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.registerVersion)(zs,"0.21.1",function Rw(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,ie.registerVersion)(zs,"0.21.1","esm2017")}("Browser");function Tm(){return Tm=(0,o.Z)(function*(b,m,_){var C;const{BuildInfo:M}=Xr();Ue(m.sessionId,"AuthEvent did not contain a session ID");const O=yield function Pw(b){return xd.apply(this,arguments)}(m.sessionId),Y={};return _i()?Y.ibi=M.packageName:Dn()?Y.apn=M.packageName:ne(b,"operation-not-supported-in-this-environment"),M.displayName&&(Y.appDisplayName=M.displayName),Y.sessionId=O,ql(b,_,m.type,void 0,null!==(C=m.eventId)&&void 0!==C?C:void 0,Y)}),Tm.apply(this,arguments)}function Qc(){return(Qc=(0,o.Z)(function*(b){const{BuildInfo:m}=Xr(),_={};_i()?_.iosBundleId=m.packageName:Dn()?_.androidPackageName=m.packageName:ne(b,"operation-not-supported-in-this-environment"),yield Ke(b,_)})).apply(this,arguments)}function Xc(){return(Xc=(0,o.Z)(function*(b,m,_){const{cordova:C}=Xr();let M=()=>{};try{yield new Promise((O,Y)=>{let pe=null;function je(){var yt;O();const wi=null===(yt=C.plugins.browsertab)||void 0===yt?void 0:yt.close;"function"==typeof wi&&wi(),"function"==typeof _?.close&&_.close()}function rt(){pe||(pe=window.setTimeout(()=>{Y(ye(b,"redirect-cancelled-by-user"))},2e3))}function Dt(){"visible"===document?.visibilityState&&rt()}m.addPassiveListener(je),document.addEventListener("resume",rt,!1),Dn()&&document.addEventListener("visibilitychange",Dt,!1),M=()=>{m.removePassiveListener(je),document.removeEventListener("resume",rt,!1),document.removeEventListener("visibilitychange",Dt,!1),pe&&window.clearTimeout(pe)}})}finally{M()}})).apply(this,arguments)}function xd(){return(xd=(0,o.Z)(function*(b){const m=function Jc(b){if(Ue(/[0-9a-zA-Z]+/.test(b),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(b);const m=new ArrayBuffer(b.length),_=new Uint8Array(m);for(let C=0;C<b.length;C++)_[C]=b.charCodeAt(C);return _}(b),_=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(_)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Nw extends Ln{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(m=>{this.resolveInialized=m})}addPassiveListener(m){this.passiveListeners.add(m)}removePassiveListener(m){this.passiveListeners.delete(m)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(m){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(m)),super.onEvent(m)}initialized(){var m=this;return(0,o.Z)(function*(){yield m.initPromise})()}}function Cy(b){return xy.apply(this,arguments)}function xy(){return(xy=(0,o.Z)(function*(b){const m=yield Rm()._get(Gs(b));return m&&(yield Rm()._remove(Gs(b))),m})).apply(this,arguments)}function Ey(){const b=[];for(let _=0;_<20;_++){const C=Math.floor(62*Math.random());b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(C))}return b.join("")}function Rm(){return rn(Ga)}function Gs(b){return Z("authEvent",b.config.apiKey,b.name)}function eu(b){if(!b?.includes("?"))return{};const[m,..._]=b.split("?");return(0,L.zd)(_.join("?"))}const Iy=class tu{constructor(){this._redirectPersistence=ys,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=pt,this._overrideRedirectResult=Am}_initialize(m){var _=this;return(0,o.Z)(function*(){const C=m._key();let M=_.eventManagers.get(C);return M||(M=new Nw(m),_.eventManagers.set(C,M),_.attachCallbackListeners(m,M)),M})()}_openPopup(m){ne(m,"operation-not-supported-in-this-environment")}_openRedirect(m,_,C,M){var O=this;return(0,o.Z)(function*(){!function by(b){var m,_,C,M,O,Y,pe,je,rt,Dt;const yt=Xr();j("function"==typeof(null===(m=yt?.universalLinks)||void 0===m?void 0:m.subscribe),b,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),j(typeof(null===(_=yt?.BuildInfo)||void 0===_?void 0:_.packageName)<"u",b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),j("function"==typeof(null===(O=null===(M=null===(C=yt?.cordova)||void 0===C?void 0:C.plugins)||void 0===M?void 0:M.browsertab)||void 0===O?void 0:O.openUrl),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j("function"==typeof(null===(je=null===(pe=null===(Y=yt?.cordova)||void 0===Y?void 0:Y.plugins)||void 0===pe?void 0:pe.browsertab)||void 0===je?void 0:je.isAvailable),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j("function"==typeof(null===(Dt=null===(rt=yt?.cordova)||void 0===rt?void 0:rt.InAppBrowser)||void 0===Dt?void 0:Dt.open),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(m);const Y=yield O._initialize(m);yield Y.initialized(),Y.resetRedirect(),function $c(){zl.clear()}(),yield O._originValidation(m);const pe=function HE(b,m,_=null){return{type:m,eventId:_,urlResponse:null,sessionId:Ey(),postBody:null,tenantId:b.tenantId,error:ye(b,"no-auth-event")}}(m,C,M);yield function wy(b,m){return Rm()._set(Gs(b),m)}(m,pe);const je=yield function Wl(b,m,_){return Tm.apply(this,arguments)}(m,pe,_),rt=yield function km(b){const{cordova:m}=Xr();return new Promise(_=>{m.plugins.browsertab.isAvailable(C=>{let M=null;C?m.plugins.browsertab.openUrl(b):M=m.InAppBrowser.open(b,function ea(b=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}()?"_blank":"_system","location=yes"),_(M)})})}(je);return function df(b,m,_){return Xc.apply(this,arguments)}(m,Y,rt)})()}_isIframeWebStorageSupported(m,_){throw new Error("Method not implemented.")}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Kc(b){return Qc.apply(this,arguments)}(m)),this.originValidationPromises[_]}attachCallbackListeners(m,_){const{universalLinks:C,handleOpenURL:M,BuildInfo:O}=Xr(),Y=setTimeout((0,o.Z)(function*(){yield Cy(m),_.onEvent(Fm())}),500),pe=function(){var Dt=(0,o.Z)(function*(yt){clearTimeout(Y);const wi=yield Cy(m);let es=null;wi&&yt?.url&&(es=function Dy(b,m){var _,C;const M=function Ay(b){const m=eu(b),_=m.link?decodeURIComponent(m.link):void 0,C=eu(_).link,M=m.deep_link_id?decodeURIComponent(m.deep_link_id):void 0;return eu(M).link||M||C||_||b}(m);if(M.includes("/__/auth/callback")){const O=eu(M),Y=O.firebaseError?function Sy(b){try{return JSON.parse(b)}catch{return null}}(decodeURIComponent(O.firebaseError)):null,pe=null===(C=null===(_=Y?.code)||void 0===_?void 0:_.split("auth/"))||void 0===C?void 0:C[1],je=pe?ye(pe):null;return je?{type:b.type,eventId:b.eventId,tenantId:b.tenantId,error:je,urlResponse:null,sessionId:null,postBody:null}:{type:b.type,eventId:b.eventId,tenantId:b.tenantId,sessionId:b.sessionId,urlResponse:M,postBody:null}}return null}(wi,yt.url)),_.onEvent(es||Fm())});return function(wi){return Dt.apply(this,arguments)}}();typeof C<"u"&&"function"==typeof C.subscribe&&C.subscribe(null,pe);const je=M,rt=`${O.packageName.toLowerCase()}://`;Xr().handleOpenURL=function(){var Dt=(0,o.Z)(function*(yt){if(yt.toLowerCase().startsWith(rt)&&pe({url:yt}),"function"==typeof je)try{je(yt)}catch(wi){console.error(wi)}});return function(yt){return Dt.apply(this,arguments)}}()}};function Fm(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ye("no-auth-event")}}function Zl(){var b;return(null===(b=self?.location)||void 0===b?void 0:b.protocol)||null}function Ty(b=(0,L.z$)()){return!("file:"!==Zl()&&"ionic:"!==Zl()&&"capacitor:"!==Zl()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function nu(){try{const b=self.localStorage,m=It();if(b)return b.setItem(m,"1"),b.removeItem(m),!function Lw(b=(0,L.z$)()){return function jE(){return(0,L.w1)()&&11===document?.documentMode}()||function ky(b=(0,L.z$)()){return/Edge\/\d+/.test(b)}(b)}()||(0,L.hl)()}catch{return Kl()&&(0,L.hl)()}return!1}function Kl(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Za(){return(function GE(){return"http:"===Zl()||"https:"===Zl()}()||(0,L.ru)()||Ty())&&!function hf(){return(0,L.b$)()||(0,L.UG)()}()&&nu()&&!Kl()}function js(){return Ty()&&typeof document<"u"}function Jr(){return(Jr=(0,o.Z)(function*(){return!!js()&&new Promise(b=>{const m=setTimeout(()=>{b(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(m),b(!0)})})})).apply(this,arguments)}const or={LOCAL:"local",NONE:"none",SESSION:"session"},jo=j,Sd="persistence";function Lm(b){return Bm.apply(this,arguments)}function Bm(){return(Bm=(0,o.Z)(function*(b){yield b._initializationPromise;const m=Vm(),_=Z(Sd,b.config.apiKey,b.name);m&&m.setItem(_,b._getPersistence())})).apply(this,arguments)}function Vm(){var b;try{return(null===(b=function Ed(){return typeof window<"u"?window:null}())||void 0===b?void 0:b.sessionStorage)||null}catch{return null}}const Um=j;class Ka{constructor(){this.browserResolver=rn(yy),this.cordovaResolver=rn(Iy),this.underlyingResolver=null,this._redirectPersistence=ys,this._completeRedirectFn=pt,this._overrideRedirectResult=Am}_initialize(m){var _=this;return(0,o.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(m)})()}_openPopup(m,_,C,M){var O=this;return(0,o.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(m,_,C,M)})()}_openRedirect(m,_,C,M){var O=this;return(0,o.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(m,_,C,M)})()}_isIframeWebStorageSupported(m,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(m,_)}_originValidation(m){return this.assertedUnderlyingResolver._originValidation(m)}get _shouldInitProactively(){return js()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Um(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var m=this;return(0,o.Z)(function*(){if(m.underlyingResolver)return;const _=yield function ff(){return Jr.apply(this,arguments)}();m.underlyingResolver=_?m.cordovaResolver:m.browserResolver})()}}function Ry(b){return b.unwrap()}function Oy(b){return Uw(b)}function Uw(b){const{_tokenResponse:m}=b instanceof L.ZR?b.customData:b;if(!m)return null;if(!(b instanceof L.ZR)&&"temporaryProof"in m&&"phoneNumber"in m)return zc.credentialFromResult(b);const _=m.providerId;if(!_||_===de.PASSWORD)return null;let C;switch(_){case de.GOOGLE:C=jn;break;case de.FACEBOOK:C=Ps;break;case de.GITHUB:C=Sl;break;case de.TWITTER:C=oo;break;default:const{oauthIdToken:M,oauthAccessToken:O,oauthTokenSecret:Y,pendingToken:pe,nonce:je}=m;return O||Y||M||pe?pe?_.startsWith("saml.")?ci._create(_,pe):hs._fromParams({providerId:_,signInMethod:_,pendingToken:pe,idToken:M,accessToken:O}):new ia(_).credential({idToken:M,accessToken:O,rawNonce:je}):null}return b instanceof L.ZR?C.credentialFromError(b):C.credentialFromResult(b)}function Bn(b,m){return m.catch(_=>{throw _ instanceof L.ZR&&function Fy(b,m){var _;const C=null===(_=m.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===m?.code)m.resolver=new Id(b,function Zt(b,m){var _;const C=(0,L.m9)(b),M=m;return j(m.customData.operationType,C,"argument-error"),j(null===(_=M.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,C,"argument-error"),Oc._fromError(C,M)}(b,m));else if(C){const M=Uw(m),O=m;M&&(O.credential=M,O.tenantId=C.tenantId||void 0,O.email=C.email||void 0,O.phoneNumber=C.phoneNumber||void 0)}}(b,_),_}).then(_=>{const M=_.user;return{operationType:_.operationType,credential:Oy(_),additionalUserInfo:Wh(_),user:qn.getOrCreate(M)}})}function _a(b,m){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,o.Z)(function*(b,m){const _=yield m;return{verificationId:_.verificationId,confirm:C=>Bn(b,_.confirm(C))}})).apply(this,arguments)}class Id{constructor(m,_){this.resolver=_,this.auth=function Vw(b){return b.wrapped()}(m)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(m){return Bn(Ry(this.auth),this.resolver.resolveSignIn(m))}}class qn{constructor(m){this._delegate=m,this.multiFactor=function ao(b){const m=(0,L.m9)(b);return za.has(m)||za.set(m,la._fromUser(m)),za.get(m)}(m)}static getOrCreate(m){return qn.USER_MAP.has(m)||qn.USER_MAP.set(m,new qn(m)),qn.USER_MAP.get(m)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(m){return this._delegate.getIdTokenResult(m)}getIdToken(m){return this._delegate.getIdToken(m)}linkAndRetrieveDataWithCredential(m){return this.linkWithCredential(m)}linkWithCredential(m){var _=this;return(0,o.Z)(function*(){return Bn(_.auth,Ic(_._delegate,m))})()}linkWithPhoneNumber(m,_){var C=this;return(0,o.Z)(function*(){return _a(C.auth,function Sm(b,m,_){return sf.apply(this,arguments)}(C._delegate,m,_))})()}linkWithPopup(m){var _=this;return(0,o.Z)(function*(){return Bn(_.auth,function it(b,m,_){return Jt.apply(this,arguments)}(_._delegate,m,Ka))})()}linkWithRedirect(m){var _=this;return(0,o.Z)(function*(){return yield Lm(Di(_.auth)),Q(_._delegate,m,Ka)})()}reauthenticateAndRetrieveDataWithCredential(m){return this.reauthenticateWithCredential(m)}reauthenticateWithCredential(m){var _=this;return(0,o.Z)(function*(){return Bn(_.auth,nd(_._delegate,m))})()}reauthenticateWithPhoneNumber(m,_){return _a(this.auth,function Bl(b,m,_){return _d.apply(this,arguments)}(this._delegate,m,_))}reauthenticateWithPopup(m){return Bn(this.auth,function py(b,m,_){return sn.apply(this,arguments)}(this._delegate,m,Ka))}reauthenticateWithRedirect(m){var _=this;return(0,o.Z)(function*(){return yield Lm(Di(_.auth)),A(_._delegate,m,Ka)})()}sendEmailVerification(m){return function ni(b,m){return Vo.apply(this,arguments)}(this._delegate,m)}unlink(m){var _=this;return(0,o.Z)(function*(){return yield function Lo(b,m){return Bo.apply(this,arguments)}(_._delegate,m),_})()}updateEmail(m){return function qh(b,m){return Yh((0,L.m9)(b),m,null)}(this._delegate,m)}updatePassword(m){return function Ua(b,m){return Yh((0,L.m9)(b),null,m)}(this._delegate,m)}updatePhoneNumber(m){return function af(b,m){return fo.apply(this,arguments)}(this._delegate,m)}updateProfile(m){return function $h(b,m){return ym.apply(this,arguments)}(this._delegate,m)}verifyBeforeUpdateEmail(m,_){return function _m(b,m,_){return kl.apply(this,arguments)}(this._delegate,m,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}qn.USER_MAP=new WeakMap;const mr=j;let Qa=(()=>{class b{constructor(_,C){if(this.app=_,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=_.options;mr(M,"invalid-api-key",{appName:_.name}),mr(M,"invalid-api-key",{appName:_.name});const O=typeof window<"u"?Ka:void 0;this._delegate=C.initialize({options:{persistence:Py(M,_.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(Ze),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?qn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,C){!function Oo(b,m,_){const C=Di(b);j(C._canInitEmulator,C,"emulator-config-failed"),j(/^https?:\/\//.test(m),C,"invalid-emulator-scheme");const M=!!_?.disableWarnings,O=Fa(m),{host:Y,port:pe}=function Qu(b){const m=Fa(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(m.length));if(!_)return{host:"",port:null};const C=_[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(C);if(M){const O=M[1];return{host:O,port:lm(C.substr(O.length+1))}}{const[O,Y]=C.split(":");return{host:O,port:lm(Y)}}}(m);C.config.emulator={url:`${O}//${Y}${null===pe?"":`:${pe}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:Y,port:pe,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Xu(){function b(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}(this._delegate,_,C)}applyActionCode(_){return function zh(b,m){return Ml.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return Tc(this._delegate,_)}confirmPasswordReset(_,C){return function pm(b,m,_){return Hh.apply(this,arguments)}(this._delegate,_,C)}createUserWithEmailAndPassword(_,C){var M=this;return(0,o.Z)(function*(){return Bn(M._delegate,function sa(b,m,_){return ad.apply(this,arguments)}(M._delegate,_,C))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function Qr(b,m){return Ba.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function jh(b,m){const _=Fn.parseLink(m);return"EMAIL_SIGNIN"===_?.operation}(0,_)}getRedirectResult(){var _=this;return(0,o.Z)(function*(){mr(Za(),_._delegate,"operation-not-supported-in-this-environment");const C=yield function ot(b,m){return ft.apply(this,arguments)}(_._delegate,Ka);return C?Bn(_._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function My(b,m){Di(b)._logFramework(m)}(this._delegate,_)}onAuthStateChanged(_,C,M){const{next:O,error:Y,complete:pe}=mf(_,C,M);return this._delegate.onAuthStateChanged(O,Y,pe)}onIdTokenChanged(_,C,M){const{next:O,error:Y,complete:pe}=mf(_,C,M);return this._delegate.onIdTokenChanged(O,Y,pe)}sendSignInLinkToEmail(_,C){return function Gh(b,m,_){return ld.apply(this,arguments)}(this._delegate,_,C)}sendPasswordResetEmail(_,C){return function Vh(b,m,_){return Uh.apply(this,arguments)}(this._delegate,_,C||void 0)}setPersistence(_){var C=this;return(0,o.Z)(function*(){let M;switch(function pf(b,m){jo(Object.values(or).includes(m),b,"invalid-persistence-type"),(0,L.b$)()?jo(m!==or.SESSION,b,"unsupported-persistence-type"):(0,L.UG)()?jo(m===or.NONE,b,"unsupported-persistence-type"):Kl()?jo(m===or.NONE||m===or.LOCAL&&(0,L.hl)(),b,"unsupported-persistence-type"):jo(m===or.NONE||nu(),b,"unsupported-persistence-type")}(C._delegate,_),_){case or.SESSION:M=ys;break;case or.LOCAL:M=(yield rn(da)._isAvailable())?da:Ga;break;case or.NONE:M=z;break;default:return ne("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return Bn(this._delegate,function fm(b){return Sc.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return Bn(this._delegate,ei(this._delegate,_))}signInWithCustomToken(_){return Bn(this._delegate,function Lh(b,m){return rd.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,C){return Bn(this._delegate,function Cw(b,m,_){return ei((0,L.m9)(b),Fs.credential(m,_))}(this._delegate,_,C))}signInWithEmailLink(_,C){return Bn(this._delegate,function iy(b,m,_){return kc.apply(this,arguments)}(this._delegate,_,C))}signInWithPhoneNumber(_,C){return _a(this._delegate,function fa(b,m,_){return Nn.apply(this,arguments)}(this._delegate,_,C))}signInWithPopup(_){var C=this;return(0,o.Z)(function*(){return mr(Za(),C._delegate,"operation-not-supported-in-this-environment"),Bn(C._delegate,function En(b,m,_){return sr.apply(this,arguments)}(C._delegate,_,Ka))})()}signInWithRedirect(_){var C=this;return(0,o.Z)(function*(){return mr(Za(),C._delegate,"operation-not-supported-in-this-environment"),yield Lm(C._delegate),cf(C._delegate,_,Ka)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function ti(b,m){return gm.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return b.Persistence=or,b})();function mf(b,m,_){let C=b;"function"!=typeof b&&({next:C,error:m,complete:_}=b);const M=C;return{next:Y=>M(Y&&qn.getOrCreate(Y)),error:m,complete:_}}function Py(b,m){const _=function Bw(b,m){const _=Vm();if(!_)return[];const C=Z(Sd,b,m);switch(_.getItem(C)){case or.NONE:return[z];case or.LOCAL:return[da,ys];case or.SESSION:return[ys];default:return[]}}(b,m);if(typeof self<"u"&&!_.includes(da)&&_.push(da),typeof window<"u")for(const C of[Ga,ys])_.includes(C)||_.push(C);return _.includes(z)||_.push(z),_}class gf{constructor(){this.providerId="phone",this._delegate=new zc(Ry(X.Z.auth()))}static credential(m,_){return zc.credential(m,_)}verifyPhoneNumber(m,_){return this._delegate.verifyPhoneNumber(m,_)}unwrap(){return this._delegate}}gf.PHONE_SIGN_IN_METHOD=zc.PHONE_SIGN_IN_METHOD,gf.PROVIDER_ID=zc.PROVIDER_ID;const Xa=j;class Hm{constructor(m,_,C=X.Z.app()){var M;Xa(null===(M=C.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new hy(m,_,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Md(b){b.INTERNAL.registerComponent(new ge.wA("auth-compat",m=>{const _=m.getProvider("app-compat").getImmediate(),C=m.getProvider("auth");return new Qa(_,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Fs,FacebookAuthProvider:Ps,GithubAuthProvider:Sl,GoogleAuthProvider:jn,OAuthProvider:ia,SAMLAuthProvider:Nr,PhoneAuthProvider:gf,PhoneMultiFactorGenerator:Wc,RecaptchaVerifier:Hm,TwitterAuthProvider:oo,Auth:Qa,AuthCredential:Fo,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),b.registerVersion("@firebase/auth-compat","0.3.1")}(X.Z)},1878:(ht,we,P)=>{P.d(we,{Lj:()=>ne,X3:()=>ct});var o=P(5861);const X=(j,Se)=>Se.some(Ue=>j instanceof Ue);let L,ie;const ge=new WeakMap,Ee=new WeakMap,de=new WeakMap,H=new WeakMap,q=new WeakMap;let Me={get(j,Se,Ue){if(j instanceof IDBTransaction){if("done"===Se)return Ee.get(j);if("objectStoreNames"===Se)return j.objectStoreNames||de.get(j);if("store"===Se)return Ue.objectStoreNames[1]?void 0:Ue.objectStore(Ue.objectStoreNames[0])}return Re(j[Se])},set:(j,Se,Ue)=>(j[Se]=Ue,!0),has:(j,Se)=>j instanceof IDBTransaction&&("done"===Se||"store"===Se)||Se in j};function Ye(j){return"function"==typeof j?function Fe(j){return j!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ee(){return ie||(ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(j)?function(...Se){return j.apply(lt(this),Se),Re(ge.get(this))}:function(...Se){return Re(j.apply(lt(this),Se))}:function(Se,...Ue){const Ft=j.call(lt(this),Se,...Ue);return de.set(Ft,Se.sort?Se.sort():[Se]),Re(Ft)}}(j):(j instanceof IDBTransaction&&function Ne(j){if(Ee.has(j))return;const Se=new Promise((Ue,Ft)=>{const rn=()=>{j.removeEventListener("complete",Qn),j.removeEventListener("error",Wn),j.removeEventListener("abort",Wn)},Qn=()=>{Ue(),rn()},Wn=()=>{Ft(j.error||new DOMException("AbortError","AbortError")),rn()};j.addEventListener("complete",Qn),j.addEventListener("error",Wn),j.addEventListener("abort",Wn)});Ee.set(j,Se)}(j),X(j,function re(){return L||(L=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(j,Me):j)}function Re(j){if(j instanceof IDBRequest)return function te(j){const Se=new Promise((Ue,Ft)=>{const rn=()=>{j.removeEventListener("success",Qn),j.removeEventListener("error",Wn)},Qn=()=>{Ue(Re(j.result)),rn()},Wn=()=>{Ft(j.error),rn()};j.addEventListener("success",Qn),j.addEventListener("error",Wn)});return Se.then(Ue=>{Ue instanceof IDBCursor&&ge.set(Ue,j)}).catch(()=>{}),q.set(Se,j),Se}(j);if(H.has(j))return H.get(j);const Se=Ye(j);return Se!==j&&(H.set(j,Se),q.set(Se,j)),Se}const lt=j=>q.get(j);function ct(j,Se,{blocked:Ue,upgrade:Ft,blocking:rn,terminated:Qn}={}){const Wn=indexedDB.open(j,Se),Hn=Re(Wn);return Ft&&Wn.addEventListener("upgradeneeded",Ti=>{Ft(Re(Wn.result),Ti.oldVersion,Ti.newVersion,Re(Wn.transaction))}),Ue&&Wn.addEventListener("blocked",()=>Ue()),Hn.then(Ti=>{Qn&&Ti.addEventListener("close",()=>Qn()),rn&&Ti.addEventListener("versionchange",()=>rn())}).catch(()=>{}),Hn}function ne(j,{blocked:Se}={}){const Ue=indexedDB.deleteDatabase(j);return Se&&Ue.addEventListener("blocked",()=>Se()),Re(Ue).then(()=>{})}const ye=["get","getKey","getAll","getAllKeys","count"],oe=["put","add","delete","clear"],ve=new Map;function Ve(j,Se){if(!(j instanceof IDBDatabase)||Se in j||"string"!=typeof Se)return;if(ve.get(Se))return ve.get(Se);const Ue=Se.replace(/FromIndex$/,""),Ft=Se!==Ue,rn=oe.includes(Ue);if(!(Ue in(Ft?IDBIndex:IDBObjectStore).prototype)||!rn&&!ye.includes(Ue))return;const Qn=function(){var Wn=(0,o.Z)(function*(Hn,...Ti){const ko=this.transaction(Hn,rn?"readwrite":"readonly");let ae=ko.store;return Ft&&(ae=ae.index(Ti.shift())),(yield Promise.all([ae[Ue](...Ti),rn&&ko.done]))[0]});return function(Ti){return Wn.apply(this,arguments)}}();return ve.set(Se,Qn),Qn}!function Ze(j){Me=j(Me)}(j=>({...j,get:(Se,Ue,Ft)=>Ve(Se,Ue)||j.get(Se,Ue,Ft),has:(Se,Ue)=>!!Ve(Se,Ue)||j.has(Se,Ue)}))},5861:(ht,we,P)=>{function o(L,ie,re,ee,ge,Ee,de){try{var H=L[Ee](de),q=H.value}catch(te){return void re(te)}H.done?ie(q):Promise.resolve(q).then(ee,ge)}function X(L){return function(){var ie=this,re=arguments;return new Promise(function(ee,ge){var Ee=L.apply(ie,re);function de(q){o(Ee,ee,ge,de,H,"next",q)}function H(q){o(Ee,ee,ge,de,H,"throw",q)}de(void 0)})}}P.d(we,{Z:()=>X})},7582:(ht,we,P)=>{function ie(ae,he){var me={};for(var fe in ae)Object.prototype.hasOwnProperty.call(ae,fe)&&he.indexOf(fe)<0&&(me[fe]=ae[fe]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(fe=Object.getOwnPropertySymbols(ae);Pe<fe.length;Pe++)he.indexOf(fe[Pe])<0&&Object.prototype.propertyIsEnumerable.call(ae,fe[Pe])&&(me[fe[Pe]]=ae[fe[Pe]])}return me}function te(ae,he,me,fe){return new(me||(me=Promise))(function(He,ut){function qe(pn){try{St(fe.next(pn))}catch(Mt){ut(Mt)}}function an(pn){try{St(fe.throw(pn))}catch(Mt){ut(Mt)}}function St(pn){pn.done?He(pn.value):function Pe(He){return He instanceof me?He:new me(function(ut){ut(He)})}(pn.value).then(qe,an)}St((fe=fe.apply(ae,he||[])).next())})}function ne(ae){return this instanceof ne?(this.v=ae,this):new ne(ae)}function ye(ae,he,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,fe=me.apply(ae,he||[]),He=[];return Pe={},ut("next"),ut("throw"),ut("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe;function ut(cn){fe[cn]&&(Pe[cn]=function(oi){return new Promise(function(ki,yn){He.push([cn,oi,ki,yn])>1||qe(cn,oi)})})}function qe(cn,oi){try{!function an(cn){cn.value instanceof ne?Promise.resolve(cn.value.v).then(St,pn):Mt(He[0][2],cn)}(fe[cn](oi))}catch(ki){Mt(He[0][3],ki)}}function St(cn){qe("next",cn)}function pn(cn){qe("throw",cn)}function Mt(cn,oi){cn(oi),He.shift(),He.length&&qe(He[0][0],He[0][1])}}function ve(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,he=ae[Symbol.asyncIterator];return he?he.call(ae):(ae=function Fe(ae){var he="function"==typeof Symbol&&Symbol.iterator,me=he&&ae[he],fe=0;if(me)return me.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&fe>=ae.length&&(ae=void 0),{value:ae&&ae[fe++],done:!ae}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),me={},fe("next"),fe("throw"),fe("return"),me[Symbol.asyncIterator]=function(){return this},me);function fe(He){me[He]=ae[He]&&function(ut){return new Promise(function(qe,an){!function Pe(He,ut,qe,an){Promise.resolve(an).then(function(St){He({value:St,done:qe})},ut)}(qe,an,(ut=ae[He](ut)).done,ut.value)})}}}P.d(we,{FC:()=>ye,KL:()=>ve,_T:()=>ie,mG:()=>te,qq:()=>ne}),"function"==typeof SuppressedError&&SuppressedError}},ht=>{ht(ht.s=1601)}]);